/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jun 17 21:59
*/
KISSY.add("xtemplate",["util","xtemplate/runtime","xtemplate/compiler","logger-manager"],function(a,i,n,t){function h(g,c){c=this.config=c||{};c.loader=c.loader||b;"string"===typeof g&&(g=this.compile(g,c&&c.name));h.superclass.constructor.call(this,g,c)}var a=i("util"),n=i("xtemplate/runtime"),d=i("xtemplate/compiler"),f=h.cache={};i("logger-manager");var b={load:function(b,c,e){i([c],{success:function(a){if("string"===typeof a)try{a=b.compile(a,c)}catch(h){return e(h)}e(void 0,a)},error:function(){e('template "'+
c+'" does not exist')}})}};a.extend(h,n,{compile:function(b,c){var e,a=this.config;if((a=!a||!1!==a.cache)&&(e=f[b]))return e;e=d.compileToFn(b,c);a&&(f[b]=e);return e}},{Compiler:d,Scope:n.Scope,RunTime:n,clearCache:function(b){delete f[b]},addCommand:n.addCommand,removeCommand:n.removeCommand});t.exports=h});
KISSY.add("xtemplate/compiler",["util","./runtime","./compiler/parser","./compiler/ast"],function(a,i,n,t){function h(z){return'"'+z+'"'}function d(z,b){return z.replace(b?A:B,function(b){b.length%2&&(b="\\"+b);return b})}function f(b,c){b=c?d(b,0):b.replace(/\\/g,"\\\\").replace(/'/g,"\\'");return b=b.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")}function b(b){var c=[],g=b.opType,a,e,h;e=m[b.op1.type](b.op1);h=m[b.op2.type](b.op2);b=e.exp;a=h.exp;var d="exp"+u++;e=e.source;h=h.source;
r.apply(c,e);c.push("var "+d+" = "+b+";");"&&"===g||"||"===g?(c.push("if("+("&&"===g?"":"!")+"("+b+")){"),r.apply(c,h),c.push(d+" = "+a+";"),c.push("}")):(r.apply(c,h),c.push(d+" = ("+b+")"+g+"("+a+");"));return{exp:d,source:c}}function g(b,c){if(1===c.length)return null;var g,e,a,d,f=0;g=0;for(e=c.length;g<e;g++)if(c[g].type){f=1;break}if(f){f=[];g=0;for(e=c.length;g<e;g++)a=c[g],(d=a.type)?(a=m[d](a),r.apply(b,a.source),f.push(a.exp)):f.push(h(a));return f}return null}function c(b){for(var c=["function(scope, buffer) {"],
g=0,a=b.length;g<a;g++){var e=m[b[g].type](b[g]).source;r.apply(c,e)}c.push(x);c.push("}");return c}function e(b,c){var g="option"+u++,a=["var "+g+" = {"+(c?"escape: 1":"")+"};"],e=b.params,d=b.hash;if(e){var f="params"+u++;a.push("var "+f+" = [];");q.each(e,function(b){b=m[b.type](b);r.apply(a,b.source);a.push(f+".push("+b.exp+");")});a.push(g+".params = "+f+";")}if(d){var k="hash"+u++;a.push("var "+k+" = {};");q.each(d.value,function(b,c){var g=m[b.type](b);r.apply(a,g.source);a.push(k+"["+h(c)+
"] = "+g.exp+";")});a.push(g+".hash = "+k+";")}return{exp:g,source:a}}function k(b,a,d,f){var k=[],q,m=a.id,i,j=m.string,o=m.parts,n=m.lineNumber;q=e(a,d);d=q.exp;r.apply(k,q.source);f&&(q=f.program,k.push(d+".fn = "+c(q.statements).join("\n")+";"),q.inverse&&k.push(d+".inverse = "+c(q.inverse).join("\n")+";"));b.isModule&&("include"===j||"extend"===j)&&k.push(l(C,{name:a.params[0].value}));f||(i="callRet"+u++,k.push("var "+i));j in v?k.push(l(D,{lhs:f?"buffer":i,name:j,option:d,lineNumber:n})):f?
k.push(l(E,{option:d,idParts:h(o.join('","')),lineNumber:n})):(b=g(k,o),k.push(l(s,{lhs:i,option:d,idParts:b?b.join(","):h(o.join('","')),depth:m.depth,lineNumber:n})));i&&k.push(l(p,{name:i}));return{exp:i,source:k}}var q=i("util"),m,D="{lhs} = {name}Command.call(tpl, scope, {option}, buffer, {lineNumber});",E="buffer = callCommandUtil(tpl, scope, {option}, buffer, [{idParts}], {lineNumber});",s="{lhs} = callFnUtil(tpl, scope, {option}, buffer, [{idParts}], {depth},{lineNumber});",C='require("{name}");',
p="if({name} && {name}.isBuffer){\nbuffer = {name};\n{name} = undefined;\n}",x="return buffer;",a=i("./runtime"),j=i("./compiler/parser");j.yy=i("./compiler/ast");var o=[],l=q.substitute,v=a.nativeCommands,i=a.utils,y;for(y in i)o.push(l('{name}Util = utils["{name}"]',{name:y}));for(y in v)o.push(l('{name}Command = nativeCommands["{name}"]',{name:y}));var o="var "+o.join(",\n")+";",A=/\\*"/g,B=/\\*'/g,r=[].push,u=0;m={conditionalOrExpression:b,conditionalAndExpression:b,relationalExpression:b,equalityExpression:b,
additiveExpression:b,multiplicativeExpression:b,unaryExpression:function(b){var c=m[b.value.type](b.value);return{exp:b.unaryType+"("+c.exp+")",source:c.source}},string:function(b){return{exp:"'"+f(b.value,1)+"'",source:[]}},number:function(b){return{exp:b.value,source:[]}},id:function(b){var c=[],a=b.depth,b=b.parts,e="id"+u++,d=g(c,b);c.push(l("var {lhs} = scope.resolve([{idParts}],{depth});",{lhs:e,idParts:d?d.join(","):h(b.join('","')),depth:a}));return{exp:e,source:c}},"function":function(b,
c){return k(this,b,c)},blockStatement:function(b){return k(this,b.func,b.escape,b)},expressionStatement:function(b){var c=[],a=b.escape,b=b.value,b=m[b.type](b,a);r.apply(c,b.source);c.push(l("buffer.write({value},{escape});",{value:b.exp,escape:!!a}));return{exp:"",source:c}},contentStatement:function(b){var c=l,b=f(b.value,0);return{exp:"",source:[c("buffer.write({value},{escape});",{value:"'"+b+"'",escape:0})]}},global:function(b){return{exp:b.value,source:[]}}};var w;w={parse:function(b,c){return j.parse(b,
c)},compileToStr:function(b,c,a){b=w.compile(b,c,a);return l("function({params}){\n{body}\n}",{params:b.params.join(","),body:b.source})},compile:function(b,c,a){b=w.parse(b,c);u=0;m.isModule=a;for(var a=m,b=b.statements,c=["var tpl = this,\nnativeCommands = tpl.root.nativeCommands,\nutils = tpl.root.utils;",o],g=0,e=b.length;g<e;g++){var d=a[b[g].type](b[g]).source;r.apply(c,d)}c.push(x);return{params:["scope","buffer","undefined"],source:c.join("\n")}},compileToFn:function(b,c){var a=w.compile(b,
c||"xtemplate"+u++);return Function.apply(null,a.params.concat(a.source+l("\n//# sourceURL = {name}.js",{name:c})))}};t.exports=w});
KISSY.add("xtemplate/compiler/parser",[],function(a,i,n,t){function h(b,a){for(var c in a)b[c]=a[c]}function d(b,a,c){if(b){var e,d,h=0,c=c||null;if("[object Array]"===Object.prototype.toString.call(b)){d=b.length;for(e=b[0];h<d&&!1!==a.call(c,e,h,b);e=b[++h]);}else for(e in b)if(!1===a.call(c,b[e],e,b))break}}var a={},f=function(b){this.rules=[];h(this,b);this.resetInput(this.input)};f.prototype={resetInput:function(b){h(this,{input:b,matched:"",stateStack:[f.STATIC.INITIAL],match:"",text:"",firstLine:1,
lineNumber:1,lastLine:1,firstColumn:1,lastColumn:1})},getCurrentRules:function(){var b=this.stateStack[this.stateStack.length-1],a=[];this.mapState&&(b=this.mapState(b));d(this.rules,function(c){var e=c.state||c[3];if(e){a:{for(var d=0,h=e.length;d<h;d++)if(e[d]===b){e=!0;break a}e=!1}e&&a.push(c)}else b===f.STATIC.INITIAL&&a.push(c)});return a},pushState:function(b){this.stateStack.push(b)},popState:function(b){for(var b=b||1,a;b--;)a=this.stateStack.pop();return a},showDebugInfo:function(){var b=
f.STATIC.DEBUG_CONTEXT_LIMIT,a=this.matched,c=this.match,e=this.input,a=a.slice(0,a.length-c.length),a=(a.length>b?"...":"")+a.slice(0-b).replace(/\n/," "),c=c+e,c=c.slice(0,b)+(c.length>b?"...":"");return a+c+"\n"+Array(a.length+1).join("-")+"^"},mapSymbol:function(b){return this.symbolMap[b]},mapReverseSymbol:function(b){var a=this.symbolMap,c,e=this.reverseSymbolMap;if(!e&&a)for(c in e=this.reverseSymbolMap={},a)e[a[c]]=c;return e?e[b]:b},lex:function(){var b=this.input,a,c,e,d=this.getCurrentRules();
this.match=this.text="";if(!b)return this.mapSymbol(f.STATIC.END_TAG);for(a=0;a<d.length;a++){c=d[a];var i=c.token||c[0];e=c.action||c[2]||void 0;if(c=b.match(c.regexp||c[1])){if(a=c[0].match(/\n.*/g))this.lineNumber+=a.length;h(this,{firstLine:this.lastLine,lastLine:this.lineNumber+1,firstColumn:this.lastColumn,lastColumn:a?a[a.length-1].length-1:this.lastColumn+c[0].length});a=this.match=c[0];this.matches=c;this.text=a;this.matched+=a;e=e&&e.call(this);e=void 0===e?i:this.mapSymbol(e);this.input=
b=b.slice(a.length);return e?e:this.lex()}}}};f.STATIC={INITIAL:"I",DEBUG_CONTEXT_LIMIT:20,END_TAG:"$EOF"};i=new f({rules:[[0,/^[\s\S]*?(?={{)/,function(){var b=this.text,a,c=0;if(a=b.match(/\\+$/))c=a[0].length;c%2?(this.pushState("et"),b=b.slice(0,-1)):this.pushState("t");c&&(b=b.replace(/\\+$/g,function(b){return Array(b.length/2+1).join("\\")}));this.text=b;return"CONTENT"}],["b",/^[\s\S]+/,0],["b",/^[\s\S]{2,}?(?:(?={{)|$)/,function(){this.popState()},["et"]],["c",/^{{{?(?:#|@)/,function(){4===
this.text.length?this.pushState("p"):this.pushState("e")},["t"]],["d",/^{{{?\//,function(){4===this.text.length?this.pushState("p"):this.pushState("e")},["t"]],["e",/^{{\s*else\s*}}/,function(){this.popState()},["t"]],[0,/^{{![\s\S]*?}}/,function(){this.popState()},["t"]],["b",/^{{%([\s\S]*?)%}}/,function(){this.text=this.matches[1]||"";this.popState()},["t"]],["f",/^{{{?/,function(){3===this.text.length?this.pushState("p"):this.pushState("e")},["t"]],[0,/^\s+/,0,["p","e"]],["g",/^,/,0,["p","e"]],
["h",/^}}}/,function(){this.popState(2)},["p"]],["h",/^}}/,function(){this.popState(2)},["e"]],["i",/^\(/,0,["p","e"]],["j",/^\)/,0,["p","e"]],["k",/^\|\|/,0,["p","e"]],["l",/^&&/,0,["p","e"]],["m",/^===/,0,["p","e"]],["n",/^!==/,0,["p","e"]],["o",/^>=/,0,["p","e"]],["p",/^<=/,0,["p","e"]],["q",/^>/,0,["p","e"]],["r",/^</,0,["p","e"]],["s",/^\+/,0,["p","e"]],["t",/^-/,0,["p","e"]],["u",/^\*/,0,["p","e"]],["v",/^\//,0,["p","e"]],["w",/^%/,0,["p","e"]],["x",/^!/,0,["p","e"]],["y",/^"(\\[\s\S]|[^\\"])*"/,
function(){this.text=this.text.slice(1,-1).replace(/\\"/g,'"')},["p","e"]],["y",/^'(\\[\s\S]|[^\\'])*'/,function(){this.text=this.text.slice(1,-1).replace(/\\'/g,"'")},["p","e"]],["z",/^(?:true|false|null|undefined)/,0,["p","e"]],["aa",/^\d+(?:\.\d+)?(?:e-?\d+)?/i,0,["p","e"]],["ab",/^=/,0,["p","e"]],["ac",/^\.\./,function(){this.pushState("ws")},["p","e"]],["ad",/^\//,function(){this.popState()},["ws"]],["ad",/^\./,0,["p","e"]],["ae",/^\[/,0,["p","e"]],["af",/^\]/,0,["p","e"]],["ac",/^[a-zA-Z0-9_$]+/,
0,["p","e"]]]});a.lexer=i;i.symbolMap={$EOF:"a",CONTENT:"b",OPEN_BLOCK:"c",OPEN_CLOSE_BLOCK:"d",INVERSE:"e",OPEN_TPL:"f",COMMA:"g",CLOSE:"h",LPAREN:"i",RPAREN:"j",OR:"k",AND:"l",LOGIC_EQUALS:"m",LOGIC_NOT_EQUALS:"n",GE:"o",LE:"p",GT:"q",LT:"r",PLUS:"s",MINUS:"t",MULTIPLY:"u",DIVIDE:"v",MODULUS:"w",NOT:"x",STRING:"y",GLOBAL:"z",NUMBER:"aa",EQUALS:"ab",ID:"ac",SEP:"ad",REF_START:"ae",REF_END:"af",$START:"ag",program:"ah",statements:"ai",statement:"aj","function":"ak",id:"al",expression:"am",params:"an",
hash:"ao",param:"ap",conditionalOrExpression:"aq",conditionalAndExpression:"ar",equalityExpression:"as",relationalExpression:"at",additiveExpression:"au",multiplicativeExpression:"av",unaryExpression:"aw",primaryExpression:"ax",hashSegment:"ay",idSegments:"az"};a.productions=[["ag",["ah"]],["ah",["ai","e","ai"],function(){return new this.yy.ProgramNode(this.lexer.lineNumber,this.$1,this.$3)}],["ah",["ai"],function(){return new this.yy.ProgramNode(this.lexer.lineNumber,this.$1)}],["ai",["aj"],function(){return[this.$1]}],
["ai",["ai","aj"],function(){this.$1.push(this.$2)}],["aj","c,ak,h,ah,d,al,h".split(","),function(){return new this.yy.BlockStatement(this.lexer.lineNumber,this.$2,this.$4,this.$6,this.$1.length!==4)}],["aj",["f","am","h"],function(){return new this.yy.ExpressionStatement(this.lexer.lineNumber,this.$2,3!==this.$1.length)}],["aj",["b"],function(){return new this.yy.ContentStatement(this.lexer.lineNumber,this.$1)}],["ak","al,i,an,g,ao,j".split(","),function(){return new this.yy.Function(this.lexer.lineNumber,
this.$1,this.$3,this.$5)}],["ak",["al","i","an","j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1,this.$3)}],["ak",["al","i","ao","j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1,null,this.$3)}],["ak",["al","i","j"],function(){return new this.yy.Function(this.lexer.lineNumber,this.$1)}],["an",["an","g","ap"],function(){this.$1.push(this.$3)}],["an",["ap"],function(){return[this.$1]}],["ap",["am"]],["am",["aq"]],["aq",["ar"]],["aq",["aq","k","ar"],function(){return new this.yy.ConditionalOrExpression(this.$1,
this.$3)}],["ar",["as"]],["ar",["ar","l","as"],function(){return new this.yy.ConditionalAndExpression(this.$1,this.$3)}],["as",["at"]],["as",["as","m","at"],function(){return new this.yy.EqualityExpression(this.$1,"===",this.$3)}],["as",["as","n","at"],function(){return new this.yy.EqualityExpression(this.$1,"!==",this.$3)}],["at",["au"]],["at",["at","r","au"],function(){return new this.yy.RelationalExpression(this.$1,"<",this.$3)}],["at",["at","q","au"],function(){return new this.yy.RelationalExpression(this.$1,
">",this.$3)}],["at",["at","p","au"],function(){return new this.yy.RelationalExpression(this.$1,"<=",this.$3)}],["at",["at","o","au"],function(){return new this.yy.RelationalExpression(this.$1,">=",this.$3)}],["au",["av"]],["au",["au","s","av"],function(){return new this.yy.AdditiveExpression(this.$1,"+",this.$3)}],["au",["au","t","av"],function(){return new this.yy.AdditiveExpression(this.$1,"-",this.$3)}],["av",["aw"]],["av",["av","u","aw"],function(){return new this.yy.MultiplicativeExpression(this.$1,
"*",this.$3)}],["av",["av","v","aw"],function(){return new this.yy.MultiplicativeExpression(this.$1,"/",this.$3)}],["av",["av","w","aw"],function(){return new this.yy.MultiplicativeExpression(this.$1,"%",this.$3)}],["aw",["x","aw"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["aw",["t","aw"],function(){return new this.yy.UnaryExpression(this.$1,this.$2)}],["aw",["ax"]],["ax",["ak"]],["ax",["y"],function(){return new this.yy.String(this.lexer.lineNumber,this.$1)}],["ax",["aa"],
function(){return new this.yy.Number(this.lexer.lineNumber,this.$1)}],["ax",["z"],function(){return new this.yy.Global(this.lexer.lineNumber,this.$1)}],["ax",["al"]],["ax",["i","am","j"],function(){return this.$2}],["ao",["ao","g","ay"],function(){var b=this.$3;this.$1.value[b[0]]=b[1]}],["ao",["ay"],function(){var b=new this.yy.Hash(this.lexer.lineNumber),a=this.$1;b.value[a[0]]=a[1];return b}],["ay",["ac","ab","am"],function(){return[this.$1,this.$3]}],["al",["az"],function(){return new this.yy.Id(this.lexer.lineNumber,
this.$1)}],["az",["az","ad","ac"],function(){this.$1.push(this.$3)}],["az",["az","ae","am","af"],function(){this.$1.push(this.$3)}],["az",["ac"],function(){return[this.$1]}]];a.table={gotos:{"0":{ah:4,ai:5,aj:6},2:{ak:8,al:9,az:10},3:{ak:17,am:18,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ax:26,al:27,az:10},5:{aj:29},11:{ak:17,am:34,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ax:26,al:27,az:10},12:{ak:17,aw:35,ax:26,al:27,az:10},13:{ak:17,aw:36,ax:26,al:27,az:10},28:{ai:51,aj:6},30:{ah:52,ai:5,aj:6},
31:{ak:17,an:55,ap:56,am:57,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ax:26,ao:58,ay:59,al:27,az:10},33:{ak:17,am:61,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ax:26,al:27,az:10},38:{ak:17,ar:63,as:21,at:22,au:23,av:24,aw:25,ax:26,al:27,az:10},39:{ak:17,as:64,at:22,au:23,av:24,aw:25,ax:26,al:27,az:10},40:{ak:17,at:65,au:23,av:24,aw:25,ax:26,al:27,az:10},41:{ak:17,at:66,au:23,av:24,aw:25,ax:26,al:27,az:10},42:{ak:17,au:67,av:24,aw:25,ax:26,al:27,az:10},43:{ak:17,au:68,av:24,aw:25,ax:26,al:27,az:10},
44:{ak:17,au:69,av:24,aw:25,ax:26,al:27,az:10},45:{ak:17,au:70,av:24,aw:25,ax:26,al:27,az:10},46:{ak:17,av:71,aw:25,ax:26,al:27,az:10},47:{ak:17,av:72,aw:25,ax:26,al:27,az:10},48:{ak:17,aw:73,ax:26,al:27,az:10},49:{ak:17,aw:74,ax:26,al:27,az:10},50:{ak:17,aw:75,ax:26,al:27,az:10},51:{aj:29},76:{al:83,az:10},77:{ak:17,am:84,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ax:26,al:27,az:10},78:{ak:17,ap:85,am:57,aq:19,ar:20,as:21,at:22,au:23,av:24,aw:25,ax:26,ao:86,ay:59,al:27,az:10},80:{ay:88}},action:{"0":{b:[1,
void 0,1],c:[1,void 0,2],f:[1,void 0,3]},1:{a:[2,7],e:[2,7],c:[2,7],f:[2,7],b:[2,7],d:[2,7]},2:{ac:[1,void 0,7]},3:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},4:{a:[0]},5:{a:[2,2],d:[2,2],b:[1,void 0,1],c:[1,void 0,2],e:[1,void 0,28],f:[1,void 0,3]},6:{a:[2,3],e:[2,3],c:[2,3],f:[2,3],b:[2,3],d:[2,3]},7:{i:[2,50],ad:[2,50],ae:[2,50],h:[2,50],k:[2,50],l:[2,50],m:[2,50],n:[2,50],o:[2,50],p:[2,50],q:[2,50],r:[2,50],s:[2,50],t:[2,50],
u:[2,50],v:[2,50],w:[2,50],j:[2,50],af:[2,50],g:[2,50]},8:{h:[1,void 0,30]},9:{i:[1,void 0,31]},10:{i:[2,47],h:[2,47],k:[2,47],l:[2,47],m:[2,47],n:[2,47],o:[2,47],p:[2,47],q:[2,47],r:[2,47],s:[2,47],t:[2,47],u:[2,47],v:[2,47],w:[2,47],j:[2,47],g:[2,47],af:[2,47],ad:[1,void 0,32],ae:[1,void 0,33]},11:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},12:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,
void 0,16],ac:[1,void 0,7]},13:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},14:{h:[2,39],k:[2,39],l:[2,39],m:[2,39],n:[2,39],o:[2,39],p:[2,39],q:[2,39],r:[2,39],s:[2,39],t:[2,39],u:[2,39],v:[2,39],w:[2,39],j:[2,39],g:[2,39],af:[2,39]},15:{h:[2,41],k:[2,41],l:[2,41],m:[2,41],n:[2,41],o:[2,41],p:[2,41],q:[2,41],r:[2,41],s:[2,41],t:[2,41],u:[2,41],v:[2,41],w:[2,41],j:[2,41],g:[2,41],af:[2,41]},16:{h:[2,40],k:[2,40],l:[2,40],m:[2,40],
n:[2,40],o:[2,40],p:[2,40],q:[2,40],r:[2,40],s:[2,40],t:[2,40],u:[2,40],v:[2,40],w:[2,40],j:[2,40],g:[2,40],af:[2,40]},17:{h:[2,38],k:[2,38],l:[2,38],m:[2,38],n:[2,38],o:[2,38],p:[2,38],q:[2,38],r:[2,38],s:[2,38],t:[2,38],u:[2,38],v:[2,38],w:[2,38],j:[2,38],g:[2,38],af:[2,38]},18:{h:[1,void 0,37]},19:{h:[2,15],j:[2,15],g:[2,15],af:[2,15],k:[1,void 0,38]},20:{h:[2,16],k:[2,16],j:[2,16],g:[2,16],af:[2,16],l:[1,void 0,39]},21:{h:[2,18],k:[2,18],l:[2,18],j:[2,18],g:[2,18],af:[2,18],m:[1,void 0,40],n:[1,
void 0,41]},22:{h:[2,20],k:[2,20],l:[2,20],m:[2,20],n:[2,20],j:[2,20],g:[2,20],af:[2,20],o:[1,void 0,42],p:[1,void 0,43],q:[1,void 0,44],r:[1,void 0,45]},23:{h:[2,23],k:[2,23],l:[2,23],m:[2,23],n:[2,23],o:[2,23],p:[2,23],q:[2,23],r:[2,23],j:[2,23],g:[2,23],af:[2,23],s:[1,void 0,46],t:[1,void 0,47]},24:{h:[2,28],k:[2,28],l:[2,28],m:[2,28],n:[2,28],o:[2,28],p:[2,28],q:[2,28],r:[2,28],s:[2,28],t:[2,28],j:[2,28],g:[2,28],af:[2,28],u:[1,void 0,48],v:[1,void 0,49],w:[1,void 0,50]},25:{h:[2,31],k:[2,31],
l:[2,31],m:[2,31],n:[2,31],o:[2,31],p:[2,31],q:[2,31],r:[2,31],s:[2,31],t:[2,31],u:[2,31],v:[2,31],w:[2,31],j:[2,31],g:[2,31],af:[2,31]},26:{h:[2,37],k:[2,37],l:[2,37],m:[2,37],n:[2,37],o:[2,37],p:[2,37],q:[2,37],r:[2,37],s:[2,37],t:[2,37],u:[2,37],v:[2,37],w:[2,37],j:[2,37],g:[2,37],af:[2,37]},27:{h:[2,42],k:[2,42],l:[2,42],m:[2,42],n:[2,42],o:[2,42],p:[2,42],q:[2,42],r:[2,42],s:[2,42],t:[2,42],u:[2,42],v:[2,42],w:[2,42],j:[2,42],g:[2,42],af:[2,42],i:[1,void 0,31]},28:{b:[1,void 0,1],c:[1,void 0,
2],f:[1,void 0,3]},29:{a:[2,4],e:[2,4],c:[2,4],f:[2,4],b:[2,4],d:[2,4]},30:{b:[1,void 0,1],c:[1,void 0,2],f:[1,void 0,3]},31:{i:[1,void 0,11],j:[1,void 0,53],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,54]},32:{ac:[1,void 0,60]},33:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},34:{j:[1,void 0,62]},35:{h:[2,36],k:[2,36],l:[2,36],m:[2,36],n:[2,36],o:[2,36],p:[2,36],q:[2,36],r:[2,36],
s:[2,36],t:[2,36],u:[2,36],v:[2,36],w:[2,36],j:[2,36],g:[2,36],af:[2,36]},36:{h:[2,35],k:[2,35],l:[2,35],m:[2,35],n:[2,35],o:[2,35],p:[2,35],q:[2,35],r:[2,35],s:[2,35],t:[2,35],u:[2,35],v:[2,35],w:[2,35],j:[2,35],g:[2,35],af:[2,35]},37:{a:[2,6],e:[2,6],c:[2,6],f:[2,6],b:[2,6],d:[2,6]},38:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},39:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,
16],ac:[1,void 0,7]},40:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},41:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},42:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},43:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},44:{i:[1,
void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},45:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},46:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},47:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},48:{i:[1,void 0,11],t:[1,void 0,12],x:[1,
void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},49:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},50:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},51:{a:[2,1],d:[2,1],b:[1,void 0,1],c:[1,void 0,2],f:[1,void 0,3]},52:{d:[1,void 0,76]},53:{h:[2,11],k:[2,11],l:[2,11],m:[2,11],n:[2,11],o:[2,11],p:[2,11],q:[2,11],r:[2,11],s:[2,11],t:[2,11],
u:[2,11],v:[2,11],w:[2,11],j:[2,11],g:[2,11],af:[2,11]},54:{g:[2,50],i:[2,50],j:[2,50],k:[2,50],l:[2,50],m:[2,50],n:[2,50],o:[2,50],p:[2,50],q:[2,50],r:[2,50],s:[2,50],t:[2,50],u:[2,50],v:[2,50],w:[2,50],ad:[2,50],ae:[2,50],ab:[1,void 0,77]},55:{g:[1,void 0,78],j:[1,void 0,79]},56:{g:[2,13],j:[2,13]},57:{g:[2,14],j:[2,14]},58:{g:[1,void 0,80],j:[1,void 0,81]},59:{j:[2,45],g:[2,45]},60:{i:[2,48],ad:[2,48],ae:[2,48],h:[2,48],k:[2,48],l:[2,48],m:[2,48],n:[2,48],o:[2,48],p:[2,48],q:[2,48],r:[2,48],s:[2,
48],t:[2,48],u:[2,48],v:[2,48],w:[2,48],j:[2,48],g:[2,48],af:[2,48]},61:{af:[1,void 0,82]},62:{h:[2,43],k:[2,43],l:[2,43],m:[2,43],n:[2,43],o:[2,43],p:[2,43],q:[2,43],r:[2,43],s:[2,43],t:[2,43],u:[2,43],v:[2,43],w:[2,43],j:[2,43],g:[2,43],af:[2,43]},63:{h:[2,17],k:[2,17],j:[2,17],g:[2,17],af:[2,17],l:[1,void 0,39]},64:{h:[2,19],k:[2,19],l:[2,19],j:[2,19],g:[2,19],af:[2,19],m:[1,void 0,40],n:[1,void 0,41]},65:{h:[2,21],k:[2,21],l:[2,21],m:[2,21],n:[2,21],j:[2,21],g:[2,21],af:[2,21],o:[1,void 0,42],
p:[1,void 0,43],q:[1,void 0,44],r:[1,void 0,45]},66:{h:[2,22],k:[2,22],l:[2,22],m:[2,22],n:[2,22],j:[2,22],g:[2,22],af:[2,22],o:[1,void 0,42],p:[1,void 0,43],q:[1,void 0,44],r:[1,void 0,45]},67:{h:[2,27],k:[2,27],l:[2,27],m:[2,27],n:[2,27],o:[2,27],p:[2,27],q:[2,27],r:[2,27],j:[2,27],g:[2,27],af:[2,27],s:[1,void 0,46],t:[1,void 0,47]},68:{h:[2,26],k:[2,26],l:[2,26],m:[2,26],n:[2,26],o:[2,26],p:[2,26],q:[2,26],r:[2,26],j:[2,26],g:[2,26],af:[2,26],s:[1,void 0,46],t:[1,void 0,47]},69:{h:[2,25],k:[2,
25],l:[2,25],m:[2,25],n:[2,25],o:[2,25],p:[2,25],q:[2,25],r:[2,25],j:[2,25],g:[2,25],af:[2,25],s:[1,void 0,46],t:[1,void 0,47]},70:{h:[2,24],k:[2,24],l:[2,24],m:[2,24],n:[2,24],o:[2,24],p:[2,24],q:[2,24],r:[2,24],j:[2,24],g:[2,24],af:[2,24],s:[1,void 0,46],t:[1,void 0,47]},71:{h:[2,29],k:[2,29],l:[2,29],m:[2,29],n:[2,29],o:[2,29],p:[2,29],q:[2,29],r:[2,29],s:[2,29],t:[2,29],j:[2,29],g:[2,29],af:[2,29],u:[1,void 0,48],v:[1,void 0,49],w:[1,void 0,50]},72:{h:[2,30],k:[2,30],l:[2,30],m:[2,30],n:[2,30],
o:[2,30],p:[2,30],q:[2,30],r:[2,30],s:[2,30],t:[2,30],j:[2,30],g:[2,30],af:[2,30],u:[1,void 0,48],v:[1,void 0,49],w:[1,void 0,50]},73:{h:[2,32],k:[2,32],l:[2,32],m:[2,32],n:[2,32],o:[2,32],p:[2,32],q:[2,32],r:[2,32],s:[2,32],t:[2,32],u:[2,32],v:[2,32],w:[2,32],j:[2,32],g:[2,32],af:[2,32]},74:{h:[2,33],k:[2,33],l:[2,33],m:[2,33],n:[2,33],o:[2,33],p:[2,33],q:[2,33],r:[2,33],s:[2,33],t:[2,33],u:[2,33],v:[2,33],w:[2,33],j:[2,33],g:[2,33],af:[2,33]},75:{h:[2,34],k:[2,34],l:[2,34],m:[2,34],n:[2,34],o:[2,
34],p:[2,34],q:[2,34],r:[2,34],s:[2,34],t:[2,34],u:[2,34],v:[2,34],w:[2,34],j:[2,34],g:[2,34],af:[2,34]},76:{ac:[1,void 0,7]},77:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,7]},78:{i:[1,void 0,11],t:[1,void 0,12],x:[1,void 0,13],y:[1,void 0,14],z:[1,void 0,15],aa:[1,void 0,16],ac:[1,void 0,54]},79:{h:[2,9],k:[2,9],l:[2,9],m:[2,9],n:[2,9],o:[2,9],p:[2,9],q:[2,9],r:[2,9],s:[2,9],t:[2,9],u:[2,9],v:[2,9],w:[2,9],j:[2,9],g:[2,9],af:[2,
9]},80:{ac:[1,void 0,87]},81:{h:[2,10],k:[2,10],l:[2,10],m:[2,10],n:[2,10],o:[2,10],p:[2,10],q:[2,10],r:[2,10],s:[2,10],t:[2,10],u:[2,10],v:[2,10],w:[2,10],j:[2,10],g:[2,10],af:[2,10]},82:{i:[2,49],ad:[2,49],ae:[2,49],h:[2,49],k:[2,49],l:[2,49],m:[2,49],n:[2,49],o:[2,49],p:[2,49],q:[2,49],r:[2,49],s:[2,49],t:[2,49],u:[2,49],v:[2,49],w:[2,49],j:[2,49],g:[2,49],af:[2,49]},83:{h:[1,void 0,89]},84:{j:[2,46],g:[2,46]},85:{g:[2,12],j:[2,12]},86:{g:[1,void 0,80],j:[1,void 0,90]},87:{ab:[1,void 0,77]},88:{j:[2,
44],g:[2,44]},89:{a:[2,5],e:[2,5],c:[2,5],f:[2,5],b:[2,5],d:[2,5]},90:{h:[2,8],k:[2,8],l:[2,8],m:[2,8],n:[2,8],o:[2,8],p:[2,8],q:[2,8],r:[2,8],s:[2,8],t:[2,8],u:[2,8],v:[2,8],w:[2,8],j:[2,8],g:[2,8],af:[2,8]}}};a.parse=function(b,a){var c=this.lexer,e,d,h,f=this.table,i=f.gotos,f=f.action,n=this.productions,s=[null],t=a?"in file: "+a+" ":"",p=[0];for(c.resetInput(b);;){e=p[p.length-1];d||(d=c.lex());h=d?f[e]&&f[e][d]:null;if(!h){d=[];if(f[e])for(var x in f[e])d.push(this.lexer.mapReverseSymbol(x));
c=t+"syntax error at line "+c.lineNumber+":\n"+c.showDebugInfo()+"\nexpect "+d.join(", ");throw Error(c);}switch(h[0]){case 1:p.push(d);s.push(c.text);p.push(h[2]);d=null;break;case 2:var j=n[h[1]];e=j.symbol||j[0];h=j.action||j[2];var o=(j.rhs||j[1]).length,l=0,v,j=s[s.length-o];v=void 0;for(this.$$=j;l<o;l++)this["$"+(o-l)]=s[s.length-1-l];h&&(v=h.call(this));j=void 0!==v?v:this.$$;p=p.slice(0,-2*o);s=s.slice(0,-1*o);p.push(e);s.push(j);p.push(i[p[p.length-2]][p[p.length-1]]);break;case 0:return j}}};
t.exports=a});
KISSY.add("xtemplate/compiler/ast",["logger-manager"],function(a,i,n,t){a={};i("logger-manager");a.ProgramNode=function(a,d,f){this.lineNumber=a;this.statements=d;this.inverse=f};a.ProgramNode.prototype.type="program";a.BlockStatement=function(a,d,f,b,g){b=b.parts;a:{var c=d.id.parts,e=c.length;if(e===b.length)for(var i=0;i<e;i++)if(c[i]!==b[i])break a}this.escape=g;this.lineNumber=a;this.func=d;this.program=f};a.BlockStatement.prototype.type="blockStatement";a.ExpressionStatement=function(a,d,f){this.lineNumber=
a;this.value=d;this.escape=f};a.ExpressionStatement.prototype.type="expressionStatement";a.ContentStatement=function(a,d){this.lineNumber=a;this.value=d};a.ContentStatement.prototype.type="contentStatement";a.UnaryExpression=function(a,d){this.value=d;this.unaryType=a};a.Function=function(a,d,f,b){this.lineNumber=a;this.id=d;this.params=f;this.hash=b};a.Function.prototype.type="function";a.UnaryExpression.prototype.type="unaryExpression";a.MultiplicativeExpression=function(a,d,f){this.op1=a;this.opType=
d;this.op2=f};a.MultiplicativeExpression.prototype.type="multiplicativeExpression";a.AdditiveExpression=function(a,d,f){this.op1=a;this.opType=d;this.op2=f};a.AdditiveExpression.prototype.type="additiveExpression";a.RelationalExpression=function(a,d,f){this.op1=a;this.opType=d;this.op2=f};a.RelationalExpression.prototype.type="relationalExpression";a.EqualityExpression=function(a,d,f){this.op1=a;this.opType=d;this.op2=f};a.EqualityExpression.prototype.type="equalityExpression";a.ConditionalAndExpression=
function(a,d){this.op1=a;this.op2=d;this.opType="&&"};a.ConditionalAndExpression.prototype.type="conditionalAndExpression";a.ConditionalOrExpression=function(a,d){this.op1=a;this.op2=d;this.opType="||"};a.ConditionalOrExpression.prototype.type="conditionalOrExpression";a.String=function(a,d){this.lineNumber=a;this.value=d};a.String.prototype.type="string";a.Number=function(a,d){this.lineNumber=a;this.value=d};a.Number.prototype.type="number";a.Global=function(a,d){this.lineNumber=a;this.value=d};
a.Global.prototype.type="global";a.Hash=function(a){this.lineNumber=a;this.value={}};a.Hash.prototype.type="hash";a.Id=function(a,d){var f=[],b=0;this.lineNumber=a;for(var g=0,c=d.length;g<c;g++){var e=d[g];".."===e?b++:f.push(e)}this.parts=f;this.string=f.join(".");this.depth=b};a.Id.prototype.type="id";t.exports=a});
