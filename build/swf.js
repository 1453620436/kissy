/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 14 22:29
*/
KISSY.add("swf",["dom","json","attribute","swf/ua","util"],function(j,h){function q(a){var d=e;g.each(a,function(a,c){c=c.toLowerCase();c in A?d+=k(c,a):c===B&&(d+=k(c,r(a)))});return d}function l(a,d,i,c){var b=e,f=e;g.each(d,function(a,c){b+=" "+c+'="'+a+'"'});c?(b+=' classid="'+C+'"',f+=k("movie",a)):(b+=' data="'+a+'"',b+=' type="'+D+'"');f+=q(i);return s+t+b+u+f}function r(a){var d=[];g.each(a,function(a,c){"string"!==typeof a&&(a=w.stringify(a));a&&d.push(c+"="+E(a))});return d.join("&")}function k(a,
d){return'<param name="'+a+'" value="'+d+'"></param>'}var b=h("dom"),w=h("json"),x=h("attribute"),m=h("swf/ua"),g=h("util"),o=!!j.Env.host.ActiveXObject,D="application/x-shockwave-flash",C="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",B="flashvars",e="",s="<",u=">",F=j.Env.host.document,y=m.fpv,G=m.fpvGEQ,z=m.fpvGTE,t="object",E=encodeURIComponent,A={wmode:e,allowscriptaccess:e,allownetworking:e,allowfullscreen:e,play:"false",loop:e,menu:e,quality:e,scale:e,salign:e,bgcolor:e,devicefont:e,hasPriority:e,
base:e,swliveconnect:e,seamlesstabbing:e},v;return v=x.extend({constructor:function(a){this.callSuper(a);var d=this.get("expressInstall"),i,c,e,a=this.get("htmlMode");c=this.get("params");var f=this.get("attrs"),m=this.get("document"),h=b.create("<span>",void 0,m),k=this.get("elBefore"),n=this.get("src"),j=!("id"in f),p=this.get("version");e=f.id=f.id||g.guid("ks-swf-");j&&(i=RegExp("\\s+id\\s*=\\s*['\"]?"+g.escapeRegExp(e)+"['\"]?","i"));if(y()){if(p&&!z(p)&&(this.set("status",v.Status.TOO_LOW),
d)){n=d;if(!("width"in f)||!/%$/.test(f.width)&&310>parseInt(f.width,10))f.width="310";if(!("height"in f)||!/%$/.test(f.height)&&137>parseInt(f.height,10))f.height="137";d=c.flashVars=c.flashVars||{};g.mix(d,{MMredirectURL:location.href,MMplayerType:o?"ActiveX":"PlugIn",MMdoctitle:m.title.slice(0,47)+" - Flash Player Installation"})}"full"===a?(o?(d=l(n,f,c,1),delete f.id,delete f.style,p=l(n,f,c,0)):(p=l(n,f,c,0),delete f.id,delete f.style,d=l(n,f,c,1)),c=d+p+s+"/"+t+u+s+"/"+t+u):c=l(n,f,c,o)+s+
"/"+t+u;this.set("html",i?c.replace(i,""):c);k?b.insertBefore(h,k):b.append(h,this.get("render"));"outerHTML"in h?h.outerHTML=c:h.parentNode.replaceChild(b.create(c),h);i=b.get("#"+e,m);"full"===a?o?this.set("swfObject",i):this.set("swfObject",i.parentNode):this.set("swfObject",i);j&&b.removeAttr(i,"id");this.set("el",i);this.get("status")||this.set("status",v.Status.SUCCESS)}else this.set("status",v.Status.NOT_INSTALLED)},callSWF:function(a,d){var b=this.get("el"),c,d=d||[];try{b[a]&&(c=b[a].apply(b,
d))}catch(e){c="",0!==d.length&&(c='"'+d.join('", "')+'"'),c=(new Function("swf","return swf."+a+"("+c+");"))(b)}return c},destroy:function(){var a=this.get("swfObject");o?(a.style.display="none",function i(){if(4===a.readyState){for(var c in a)"function"===typeof a[c]&&(a[c]=null);a.parentNode.removeChild(a)}else setTimeout(i,10)}()):a.parentNode.removeChild(a)}},{ATTRS:{expressInstall:{value:j.config("base")+"swf/assets/expressInstall.swf"},src:{},version:{value:"9"},params:{value:{}},attrs:{value:{}},
render:{setter:function(a){"string"===typeof a&&(a=b.get(a,this.get("document")));return a},valueFn:function(){return document.body}},elBefore:{setter:function(a){"string"===typeof a&&(a=b.get(a,this.get("document")));return a}},document:{value:F},status:{},el:{},swfObject:{},html:{},htmlMode:{value:"default"}},getSrc:function(a){var d=a=b.get(a),e="",c,a=[],e=b.nodeName(d);if("object"===e){(e=b.attr(d,"data"))&&a.push(d);d=d.childNodes;for(e=0;e<d.length;e++)c=d[e],1===c.nodeType&&("movie"===(b.attr(c,
"name")||"").toLowerCase()?a.push(c):"embed"===b.nodeName(c)?a.push(c):"object"===b.nodeName(d[e])&&a.push(c))}else"embed"===e&&a.push(d);d=(a=a[0])&&b.nodeName(a);return"embed"===d?b.attr(a,"src"):"object"===d?b.attr(a,"data"):"param"===d?b.attr(a,"value"):null},Status:{TOO_LOW:"flash version is too low",NOT_INSTALLED:"flash is not installed",SUCCESS:"success"},HtmlMode:{DEFAULT:"default",FULL:"full"},fpv:y,fpvGEQ:G,fpvGTE:z})});
KISSY.add("swf/ua",["util"],function(j,h){function q(b){var g="string"===typeof b?b.match(/\d+/g).splice(0,3):b;x.isArray(g)&&(b=parseFloat(g[0]+"."+l(g[1],3)+l(g[2],5)));return b||0}function l(b,g){var b=(b||0)+"",h=g+1-b.length;return Array(0<h?h:0).join("0")+b}function r(h){if(h||b){b=!1;var g;if(navigator.plugins&&navigator.mimeTypes.length)g=(navigator.plugins["Shockwave Flash"]||0).description;else try{g=(new w.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(j){}k=
!g?void 0:g.match(/\d+/g).splice(0,3)}return k}var k,b=!0,w=j.Env.host,x=h("util");return{fpv:r,fpvGTE:function(b,g){return q(r(g))>=q(b)}}});
