/*
Copyright 2013, KISSY v1.50dev
MIT Licensed
build time: Nov 27 00:49
*/
KISSY.add("node/base",["dom","event/dom"],function(a,e){function c(d,l,f){if(!(this instanceof c))return new c(d,l,f);if(d)if("string"==typeof d){if(d=g.create(d,l,f),d.nodeType===j.DOCUMENT_FRAGMENT_NODE)return i.apply(this,b(d.childNodes)),this}else{if(a.isArray(d)||m(d))return i.apply(this,b(d)),this}else return this;this[0]=d;this.length=1;return this}var g=e("dom"),h=e("event/dom"),f=Array.prototype,k=f.slice,j=g.NodeType,i=f.push,b=a.makeArray,m=g.isDomNodeList;c.prototype={constructor:c,isNodeList:!0,
length:0,item:function(d){return"number"===typeof d?d>=this.length?null:new c(this[d]):new c(d)},add:function(d,b,a){"number"===typeof b&&(a=b,b=void 0);d=c.all(d,b).getDOMNodes();b=new c(this);void 0===a?i.apply(b,d):(a=[a,0],a.push.apply(a,d),f.splice.apply(b,a));return b},slice:function(d,b){return new c(k.apply(this,arguments))},getDOMNodes:function(){return k.call(this)},each:function(d,b){var i=this;a.each(i,function(a,j){a=new c(a);return d.call(b||a,a,j,i)});return i},getDOMNode:function(){return this[0]},
end:function(){return this.__parent||this},filter:function(d){return new c(g.filter(this,d))},all:function(d){d=0<this.length?c.all(d,this):new c;d.__parent=this;return d},one:function(d){d=this.all(d);if(d=d.length?d.slice(0,1):null)d.__parent=this;return d}};a.mix(c,{all:function(d,b){return"string"==typeof d&&(d=a.trim(d))&&3<=d.length&&a.startsWith(d,"<")&&a.endsWith(d,">")?(b&&(b.getDOMNode&&(b=b[0]),b=b.ownerDocument||b),new c(d,void 0,b)):new c(g.query(d,b))},one:function(b,a){var i=c.all(b,
a);return i.length?i.slice(0,1):null}});c.NodeType=j;c.KeyCode=h.KeyCode;c.Gesture=h.Gesture;c.REPLACE_HISTORY=h.REPLACE_HISTORY;return c});
KISSY.add("node/attach",["dom","event/dom","./base"],function(a,e){function c(a,b,c){c.unshift(b);a=g[a].apply(g,c);return void 0===a?b:a}var g=e("dom"),h=e("event/dom"),f=e("./base"),k=f.prototype,j=a.makeArray;f.KeyCode=h.KeyCode;a.each("nodeName,isCustomDomain,getEmptyIframeSrc,equals,contains,index,scrollTop,scrollLeft,height,width,innerHeight,innerWidth,outerHeight,outerWidth,addStyleSheet,appendTo,prependTo,insertBefore,before,after,insertAfter,test,hasClass,addClass,removeClass,replaceClass,toggleClass,removeAttr,hasAttr,hasProp,scrollIntoView,remove,empty,removeData,hasData,unselectable,wrap,wrapAll,replaceWith,wrapInner,unwrap".split(","),function(a){k[a]=
function(){var b=j(arguments);return c(a,this,b)}});a.each("getWindow,getDocument,filter,first,last,parent,closest,next,prev,clone,siblings,contents,children".split(","),function(a){k[a]=function(){var b=j(arguments);b.unshift(this);b=g[a].apply(g,b);return b===void 0?this:b===null?null:new f(b)}});a.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,outerHTML:0,outerHtml:0,data:1},function(i,b){k[b]=function(){var f;f=j(arguments);void 0===f[i]&&!a.isObject(f[0])?(f.unshift(this),f=g[b].apply(g,
f)):f=c(b,this,f);return f}});a.each(["on","detach","delegate","undelegate"],function(a){k[a]=function(){var b=j(arguments);b.unshift(this);h[a].apply(h,b);return this}});a.each(["fire","fireHandler"],function(a){k[a]=function(){var b=j(arguments);b.unshift(this);return h[a].apply(h,b)}})});
KISSY.add("node/override",["dom","./base","./attach"],function(a,e){var c=e("dom"),g=e("./base");e("./attach");var h=g.prototype;a.each(["append","prepend","before","after"],function(a){h[a]=function(e){"string"==typeof e&&(e=c.create(e));if(e)c[a](e,this);return this}});a.each(["wrap","wrapAll","replaceWith","wrapInner"],function(a){var c=h[a];h[a]=function(a){"string"==typeof a&&(a=g.all(a,this[0].ownerDocument));return c.call(this,a)}})});
KISSY.add("node/anim",["./base","dom","anim"],function(a,e){function c(a,c,b){for(var f=[],d={},b=b||0;b<c;b++)f.push.apply(f,k[b]);for(b=0;b<f.length;b++)d[f[b]]=a;return d}var g=e("./base"),h=e("dom"),f=e("anim"),k=[["height","margin-top","margin-bottom","padding-top","padding-bottom"],["width","margin-left","margin-right","padding-left","padding-right"],["opacity"]];a.augment(g,{animate:function(c){var e=a.makeArray(arguments);a.each(this,function(b){var c=a.clone(e),d=c[0];d.to?(d.node=b,f(d).run()):
f.apply(void 0,[b].concat(c)).run()});return this},stop:function(c,e,b){a.each(this,function(a){f.stop(a,c,e,b)});return this},pause:function(c,e){a.each(this,function(a){f.pause(a,e)});return this},resume:function(c,e){a.each(this,function(a){f.resume(a,e)});return this},isRunning:function(){for(var a=0;a<this.length;a++)if(f.isRunning(this[a]))return!0;return!1},isPaused:function(){for(var a=0;a<this.length;a++)if(f.isPaused(this[a]))return!0;return!1}});a.each({show:c("show",3),hide:c("hide",3),
toggle:c("toggle",3),fadeIn:c("show",3,2),fadeOut:c("hide",3,2),fadeToggle:c("toggle",3,2),slideDown:c("show",1),slideUp:c("hide",1),slideToggle:c("toggle",1)},function(c,e){g.prototype[e]=function(b,g,d){if(h[e]&&!b)h[e](this);else a.each(this,function(a){f(a,c,b,d,g).run()});return this}})});
KISSY.add("node",["node/base","node/attach","node/override","node/anim"],function(a,e){var c=e("node/base");e("node/attach");e("node/override");e("node/anim");a.mix(a,{Node:c,NodeList:c,one:c.one,all:c.all});return c});
