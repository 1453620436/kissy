/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Apr 15 17:56
*/
KISSY.add("tabs/bar",["toolbar"],function(c,d){var a=d("toolbar").extend({beforeCreateDom:function(a){a.elAttrs.role="tablist"},bindUI:function(){var a=this;a.on("afterSelectedChange",function(b){b.newVal&&b.target.isTabsTab&&a.set("selectedTab",b.target)})},syncUI:function(){var a=this,b=a.get("children");c.each(b,function(b){if(b.get("selected"))return a.setInternal("selectedTab",b),!1})},handleKeyDownInternal:function(a){var b=this.get("selectedTab"),a=this.getNextItemByKeyDown(a,b);if("boolean"===
typeof a)return a;a.set("selected",!0);return!0},_onSetSelectedTab:function(a,b){var c;a&&(b&&(c=b.prevVal)&&c.set("selected",!1),a.set("selected",!0))},_onSetHighlightedItem:function(a,b){this.callSuper(a,b);"mouse"===this.get("changeType")&&this._onSetSelectedTab.apply(this,arguments)}},{ATTRS:{selectedTab:{},changeType:{value:"click"},defaultChildCfg:{value:{xclass:"tabs-tab"}}},xclass:"tabs-bar"});a.ChangeType={CLICK:"click",MOUSE:"mouse"};return a});
KISSY.add("tabs/body",["component/container"],function(c,d){function a(a,c,d){if(a.get("lazyRender")){var g=a.get("children")[d];if(!g.get("selected"))return g}return e.superclass[c].call(a,d)}var e=d("component/container").extend({bindUI:function(){var a=this;a.on("afterSelectedPanelIndexChange",function(c){var d=a.get("children"),g=c.newVal,i;d[g]&&((i=d[c.prevVal])&&i.set("selected",!1),a.selectPanelByIndex(g))})},syncUI:function(){var a=this,d=a.get("children");c.each(d,function(c,g){if(c.get("selected"))return a.set("selectedPanelIndex",
g),!1})},createChild:function(b){return a(this,"createChild",b)},renderChild:function(b){return a(this,"renderChild",b)},selectPanelByIndex:function(a){this.get("children")[a].set("selected",!0);this.get("lazyRender")&&this.renderChild(a)}},{ATTRS:{selectedPanelIndex:{},allowTextSelection:{value:!0},focusable:{value:!1},lazyRender:{},handleGestureEvents:{value:!1},defaultChildCfg:{value:{xclass:"tabs-panel"}}},xclass:"tabs-body"});return e});
KISSY.add("tabs/tab",["button"],function(c,d){return d("button").extend({isTabsTab:!0,beforeCreateDom:function(a){var c=a.elAttrs;c.role="tab";a.selected&&(c["aria-selected"]=!0,a.elCls.push(this.getBaseCssClasses("selected")))},handleClickInternal:function(a){this.callSuper(a);this.set("selected",!0)},_onSetSelected:function(a){var c=this.$el,b=this.getBaseCssClasses("selected");c[a?"addClass":"removeClass"](b).attr("aria-selected",!!a)}},{ATTRS:{handleGestureEvents:{value:!1},focusable:{value:!1},
selected:{render:1,sync:0,parse:function(a){return a.hasClass(this.getBaseCssClass("selected"))}}},xclass:"tabs-tab"})});
KISSY.add("tabs/panel",["component/container"],function(c,d){return d("component/container").extend({isTabsPanel:1,beforeCreateDom:function(a){a.elAttrs.role="tabpanel";a.selected?a.elCls.push(this.getBaseCssClasses("selected")):a.elAttrs["aria-hidden"]=!1},_onSetSelected:function(a){var c=this.$el,b=this.getBaseCssClasses("selected");c[a?"addClass":"removeClass"](b).attr("aria-hidden",!a)}},{ATTRS:{selected:{render:1,sync:0,parse:function(a){return a.hasClass(this.getBaseCssClass("selected"))}},
focusable:{value:!1},allowTextSelection:{value:!0}},xclass:"tabs-panel"})});
KISSY.add("tabs",["component/container","tabs/bar","tabs/body","tabs/tab","tabs/panel"],function(c,d){var a=d("component/container"),e=d("tabs/bar"),b=d("tabs/body");d("tabs/tab");var l=d("tabs/panel"),a=a.extend({initializer:function(){var a=this.get("items");if(a){var i=this.get("children"),k=this.get("barOrientation"),b,d=this.get("prefixCls"),f={prefixCls:d,xclass:"tabs-bar",changeType:this.get("changeType"),children:[]},d={prefixCls:d,xclass:"tabs-body",lazyRender:this.get("lazyRender"),children:[]},
h=f.children,e=d.children;c.each(a,function(a){b=b||a.selected;h.push({content:a.title,selected:a.selected});e.push({content:a.content,selected:a.selected})});!b&&h.length&&(h[0].selected=!0,e[0].selected=!0);i[j[k]]=f;i[1-j[k]]=d}},beforeCreateDom:function(a){a.elCls.push(this.getBaseCssClass(this.get("barOrientation")))},decorateDom:function(){this.get("bar").set("changeType",this.get("changeType"))},bindUI:function(){this.on("afterSelectedTabChange",function(a){this.setSelectedTab(a.newVal)})},
addItem:function(a,c){var b=this.get("bar"),d,e,f=b.get("children"),h=this.get("body");"undefined"===typeof c&&(c=f.length);d={content:a.title};e={content:a.content};b.addChild(d,c);d=f[c];h.addChild(e,c);a.selected&&(b.set("selectedTab",d),h.set("selectedPanelIndex",c));return this},removeItemAt:function(a,c){var b=this.get("bar"),d=b.get("children"),e=b.getChildAt(a),f=this.get("body");e.get("selected")&&(1===d.length?b.set("selectedTab",null):0===a?b.set("selectedTab",b.getChildAt(a+1)):b.set("selectedTab",
b.getChildAt(a-1)));b.removeChild(b.getChildAt(a),c);f.removeChild(f.getChildAt(a),c);return this},removeItemByTab:function(a,b){return this.removeItemAt(c.indexOf(a,this.get("bar").get("children")),b)},removeItemByPanel:function(a,b){return this.removeItemAt(c.indexOf(a,this.get("body").get("children")),b)},getSelectedTab:function(){var a=this.get("bar"),b=null;c.each(a.get("children"),function(a){if(a.get("selected"))return b=a,!1});return b},getSelectedPanel:function(){var a=this.get("body"),b=
null;c.each(a.get("children"),function(a){if(a.get("selected"))return b=a,!1});return b},getTabs:function(){return this.get("bar").get("children")},getPanels:function(){return this.get("body").get("children")},getTabAt:function(a){return this.get("bar").get("children")[a]},getPanelAt:function(a){return this.get("body").get("children")[a]},setSelectedTab:function(a){var b=this.get("bar"),d=this.get("body");b.set("selectedTab",a);d.set("selectedPanelIndex",c.indexOf(a,b.get("children")));return this},
setSelectedPanel:function(a){var b=this.get("bar"),d=this.get("body"),a=c.indexOf(a,d.get("children"));d.set("selectedPanelIndex",a);b.set("selectedTab",this.getTabAt(a));return this},_onSetBarOrientation:function(a){this.$el.removeClass(this.getBaseCssClass("top bottom left right")).addClass(this.getBaseCssClass(a))}},{ATTRS:{items:{},changeType:{},lazyRender:{value:!1},handleGestureEvents:{value:!1},allowTextSelection:{value:!0},focusable:{value:!1},bar:{getter:function(){return this.get("children")[j[this.get("barOrientation")]]}},
body:{getter:function(){return this.get("children")[1-j[this.get("barOrientation")]]}},barOrientation:{render:1,sync:0,value:"top",parse:function(a){return(a=a[0].className.match(/(top|bottom|left|right)\b/))&&a[1]||void 0}}},xclass:"tabs"});a.Orientation={TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right"};var j={top:0,left:0,bottom:1,right:0};a.ChangeType=e.ChangeType;a.Bar=e;a.Body=b;a.Panel=l;return a});
