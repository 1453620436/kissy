/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 17 22:56
*/
KISSY.add("anim/base/queue",function(c,e){function i(a,d,b){var d=d||g,c,j=e.data(a,h);!j&&!b&&e.data(a,h,j={});j&&(c=j[d],!c&&!b&&(c=j[d]=[]));return c}var h=c.guid("ks-queue-"+c.now()+"-"),g=c.guid("ks-queue-"+c.now()+"-"),f;return f={queueCollectionKey:h,queue:function(a,c,b){a=i(a,c);a.push(b);return a},remove:function(a,d,b){var e=i(a,d,1);e&&(b=c.indexOf(b,e),-1<b&&e.splice(b,1));e&&!e.length&&f.clearQueue(a,d);return e},clearQueues:function(a){e.removeData(a,h)},clearQueue:function(a,d){var d=
d||g,b=e.data(a,h);b&&delete b[d];c.isEmptyObject(b)&&e.removeData(a,h)},dequeue:function(a,c){var b=i(a,c,1);b&&(b.shift(),b.length||f.clearQueue(a,c));return b}}},{requires:["dom"]});
KISSY.add("anim/base/utils",function(c,e,i,h){var g=c.guid("ks-anim-unqueued-"+c.now()+"-"),f=c.guid("ks-anim-paused-"+c.now()+"-");return{saveRunningAnim:function(a){var d=a.node,b=e.data(d,g);b||e.data(d,g,b={});b[c.stamp(a)]=a},removeRunningAnim:function(a){var d=a.node,b=e.data(d,g);b&&(delete b[c.stamp(a)],c.isEmptyObject(b)&&e.removeData(d,g))},isAnimPaused:function(a){var d=e.data(a.node,f);return d?!!d[c.stamp(a)]:0},removePausedAnim:function(a){var d=a.node,b=e.data(d,f);b&&(delete b[c.stamp(a)],
c.isEmptyObject(b)&&e.removeData(d,f))},savePausedAnim:function(a){var d=a.node,b=e.data(d,f);b||e.data(d,f,b={});b[c.stamp(a)]=a},isAnimRunning:function(a){var d=e.data(a.node,g);return d?!!d[c.stamp(a)]:0},isElPaused:function(a){return(a=e.data(a,f))&&!c.isEmptyObject(a)},isElRunning:function(a){return(a=e.data(a,g))&&!c.isEmptyObject(a)},pauseOrResumeQueue:function(a,d,b){a=e.data(a,"resume"==b?f:g);a=c.merge(a);c.each(a,function(a){if(d===h||a.config.queue==d)a[b]()})},stopEl:function(a,d,b,l){b&&
(l===h?i.clearQueues(a):!1!==l&&i.clearQueue(a,l));a=e.data(a,g);a=c.merge(a);c.each(a,function(b){(l===h||b.config.queue==l)&&b.stop(d)})}}},{requires:["dom","./queue"]});
KISSY.add("anim/base",function(c,e,i,h,g){function f(b){var a;f.superclass.constructor.apply(this,arguments);this.config=b;a=b.node;c.isPlainObject(a)||(a=e.get(b.node));this.node=this.el=a;this._backupProps={};this._propsData={};if(a=b.complete)this.on("complete",a)}var a=e.NodeType,d={toggle:1,hide:1,show:1};c.extend(f,h.Target,{prepareFx:function(){},runInternal:function(){var b=this,f=b.config,j=b.node,g,h=b._backupProps,n=b._propsData,k=f.to,p=f.delay||0,q=f.duration;i.saveRunningAnim(b);if(!1===
b.fire("beforeStart"))b.stop(0);else{c.each(k,function(a,b){c.isPlainObject(a)||(a={value:a});n[b]=c.mix({delay:p,easing:f.easing,frame:f.frame,duration:q},a)});if(j.nodeType==a.ELEMENT_NODE){if(k.width||k.height)k=j.style,c.mix(h,{overflow:k.overflow,"overflow-x":k.overflowX,"overflow-y":k.overflowY}),k.overflow="hidden","inline"===e.css(j,"display")&&"none"===e.css(j,"float")&&(c.UA.ie?k.zoom=1:k.display="inline-block");var o,m;m="none"===e.css(j,"display");c.each(n,function(a,c){g=a.value;if(d[g]){if("hide"==
g&&m||"show"==g&&!m)return b.stop(1),o=!1;h[c]=e.style(j,c);"toggle"==g?g=m?"show":"hide":"hide"==g?(a.value=0,h.display="none"):(a.value=e.css(j,c),e.css(j,c,0),e.show(j))}});if(!1===o)return}b.startTime=c.now();b.prepareFx();b.doStart()}},isRunning:function(){return i.isAnimRunning(this)},isPaused:function(){return i.isAnimPaused(this)},pause:function(){this.isRunning()&&(this._runTime=c.now()-this.startTime,i.removeRunningAnim(this),i.savePausedAnim(this),this.doStop());return this},doStop:function(){},
doStart:function(){},resume:function(){this.isPaused()&&(this.startTime=c.now()-this._runTime,i.removePausedAnim(this),i.saveRunningAnim(this),this.beforeResume(),this.doStart());return this},beforeResume:function(){},run:function(){var a;a=this.config.queue;!1===a?this.runInternal():(a=g.queue(this.node,a,this),1==a.length&&this.runInternal());return this},stop:function(a){var d=this.node,f=this.config.queue;if(this.__stopped)return this;if(!this.isRunning()&&!this.isPaused())return!1!==f&&g.remove(d,
f,this),this;this.doStop(a);i.removeRunningAnim(this);i.removePausedAnim(this);this.__stopped=1;if(a){var h;c.isEmptyObject(h=this._backupProps)||e.css(this.node,h);this.fire("complete")}!1!==f&&(a=g.dequeue(d,f))&&a[0]&&a[0].runInternal();this.fire("end");return this}});f.Utils=i;f.Q=g;return f},{requires:["dom","./base/utils","event/custom","./base/queue"]});
