/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 13 23:47
*/
KISSY.add("anim/timer/easing",[],function(){function h(a){return a}function c(a,b,n,f){var d=3*a-3*n+1,g=3*n-6*a,e=3*a,i=3*b-3*f+1,h=3*f-6*b,k=3*b;return function(a){a:{for(var b=a,n,f,j=0;8>j;j++){f=((d*b+g)*b+e)*b-a;if(l(f)<p){a=b;break a}n=(3*d*b+2*g)*b+e;if(l(n)<p)break;b-=f/n}n=1;j=0;for(b=a;n>j;){f=((d*b+g)*b+e)*b-a;if(l(f)<p)break;0<f?n=b:j=b;b=(n+j)/2}a=b}return((i*a+h)*a+k)*a}}var e=Math.PI,i=Math.pow,b=Math.sin,g=parseFloat,k=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^,]+)\)$/i,m={swing:function(a){return-Math.cos(a*
e)/2+0.5},easeNone:h,linear:h,easeIn:function(a){return a*a},ease:c(0.25,0.1,0.25,1),"ease-in":c(0.42,0,1,1),"ease-out":c(0,0,0.58,1),"ease-in-out":c(0.42,0,0.58,1),"ease-out-in":c(0,0.42,1,0.58),toFn:function(a){var b;return(b=a.match(k))?c(g(b[1]),g(b[2]),g(b[3]),g(b[4])):m[a]||h},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return 1>(a*=2)?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return 1>
(a*=2)?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){return 0===a||1===a?a:-(i(2,10*(a-=1))*b(2*(a-0.075)*e/0.3))},elasticOut:function(a){return 0===a||1===a?a:i(2,-10*a)*b(2*(a-0.075)*e/0.3)+1},elasticBoth:function(a){return 0===a||2===(a*=2)?a:1>a?-0.5*i(2,10*(a-=1))*b(2*(a-0.1125)*e/0.45):0.5*i(2,-10*(a-=1))*b(2*(a-0.1125)*e/0.45)+1},backIn:function(a){1===a&&(a-=0.001);return a*a*(2.70158*a-1.70158)},backOut:function(a){return(a-=1)*a*(2.70158*a+1.70158)+1},backBoth:function(a){var b,
n=(b=2.5949095)+1;return 1>(a*=2)?0.5*a*a*(n*a-b):0.5*((a-=2)*a*(n*a+b)+2)},bounceIn:function(a){return 1-m.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){return 0.5>a?0.5*m.bounceIn(2*a):0.5*m.bounceOut(2*a-1)+0.5}},p=1.0E-6,l=Math.abs;return m});
KISSY.add("anim/timer/manager",[],function(h){var c=h.stamp,e,i;e=function(b){return setTimeout(b,15)};i=function(b){clearTimeout(b)};return{runnings:{},timer:null,start:function(b){var g=c(b);this.runnings[g]||(this.runnings[g]=b,this.startTimer())},stop:function(b){this.notRun(b)},notRun:function(b){delete this.runnings[c(b)];h.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(b){this.notRun(b)},resume:function(b){this.start(b)},startTimer:function(){var b=this;b.timer||(b.timer=e(function k(){b.runFrames()?
b.stopTimer():b.timer=e(k)}))},stopTimer:function(){var b=this.timer;b&&(i(b),this.timer=0)},runFrames:function(){var b,g,e=this.runnings;for(b in e)e[b].frame();for(b in e){g=0;break}return void 0===g}}});
KISSY.add("anim/timer/fx",["dom"],function(h,c){function e(b){h.mix(this,b);this.pos=0;this.unit=this.unit||""}var i=c("dom");e.prototype={isCustomFx:0,constructor:e,load:function(b){h.mix(this,b);this.pos=0;this.unit=this.unit||""},frame:function(b){if(1!==this.pos){var g=this.anim,e=this.prop,m=g.node,c=this.from,l=this.propData,a=this.to;if(void 0===b)var j=h.now(),b=l.duration,j=j-g.startTime-l.delay,b=0>=j?0:j>=b?1:l.easing(j/b);this.pos=b;c===a||0===b||(this.val=c=this.interpolate(c,a,this.pos),
l.frame?l.frame.call(this,g,this):this.isCustomFx||(void 0===c?(this.pos=1,c=a):c+=this.unit,this.val=c,"attr"===this.type?i.attr(m,e,c,!0):i.css(m,e,c)))}},interpolate:function(b,e,c){if("number"===typeof b&&"number"===typeof e)return Math.round(1E5*(b+(e-b)*c))/1E5},cur:function(){var b=this.prop,e,c,h=this.anim.node;if(this.isCustomFx)return h[b]||0;if(!(e=this.type))e=this.type=(!h.style||null==h.style[b])&&null!=i.attr(h,b,void 0,1)?"attr":"css";b="attr"===e?i.attr(h,b,void 0,1):i.css(h,b);return isNaN(c=
parseFloat(b))?!b||"auto"===b?0:b:c}};e.Factories={};e.FxTypes={};e.getFx=function(b){var c=e,h,i;if(h=b.fxType)c=e.FxTypes[h];else if(!b.isCustomFx&&(i=e.Factories[b.prop]))c=i;return new c(b)};return e});
KISSY.add("anim/timer/short-hand",[],function(){return{background:[],border:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],borderBottom:["borderBottomWidth"],borderLeft:["borderLeftWidth"],borderTop:["borderTopWidth"],borderRight:["borderRightWidth"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]}});
KISSY.add("anim/timer/color",["./fx","./short-hand"],function(h,c){function e(b){var b=b+"",f;if(f=b.match(l))return[parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10)];if(f=b.match(a))return[parseInt(f[1],10),parseInt(f[2],10),parseInt(f[3],10),parseInt(f[4],10)];if(f=b.match(j)){for(b=1;b<f.length;b++)2>f[b].length&&(f[b]+=f[b]);return[parseInt(f[1],k),parseInt(f[2],k),parseInt(f[3],k)]}return p[b=b.toLowerCase()]?p[b]:[255,255,255]}function i(){i.superclass.constructor.apply(this,arguments)}
var b=c("./fx"),g=c("./short-hand"),k=16,m=Math.floor,p={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},l=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,a=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,j=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;
g.background.push("backgroundColor");g.borderColor=["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"];g.border.push("borderBottomColor","borderLeftColor","borderRightColor","borderTopColor");g.borderBottom.push("borderBottomColor");g.borderLeft.push("borderLeftColor");g.borderRight.push("borderRightColor");g.borderTop.push("borderTopColor");h.extend(i,b,{load:function(){i.superclass.load.apply(this,arguments);this.from&&(this.from=e(this.from));this.to&&(this.to=e(this.to))},
interpolate:function(a,b,d){var j=i.superclass.interpolate;if(3===a.length&&3===b.length)return"rgb("+[m(j(a[0],b[0],d)),m(j(a[1],b[1],d)),m(j(a[2],b[2],d))].join(", ")+")";if(4===a.length||4===b.length)return"rgba("+[m(j(a[0],b[0],d)),m(j(a[1],b[1],d)),m(j(a[2],b[2],d)),m(j(a[3]||1,b[3]||1,d))].join(", ")+")"}});h.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),function(a){b.Factories[a]=i});return b.FxTypes.color=i});
KISSY.add("anim/timer/transform",["dom","./fx"],function(h,c){function e(a){a=a.split(/,/);return a=h.map(a,function(a){return b(a)})}function i(){return{translateX:0,translateY:0,rotate:0,skewX:0,skewY:0,scaleX:1,scaleY:1}}function b(a){return Math.round(1E5*parseFloat(a))/1E5}function g(a){for(var a=a.split(")"),j=h.trim,n=-1,f=a.length-1,d,c,g=i();++n<f;)switch(d=a[n].split("("),c=j(d[0]),d=d[1],c){case "translateX":case "translateY":case "scaleX":case "scaleY":g[c]=b(d);break;case "rotate":case "skewX":case "skewY":var o=
b(d);h.endsWith(d,"deg")||(o=180*o/Math.PI);g[c]=o;break;case "translate":case "translate3d":d=d.split(",");g.translateX=b(d[0]);g.translateY=b(d[1]||0);break;case "scale":d=d.split(",");g.scaleX=b(d[0]);g.scaleY=b(d[1]||d[0]);break;case "matrix":return a=d,a=e(a),f=n=j=void 0,c=a[0],g=a[1],d=a[2],o=a[3],c*o-g*d?(j=Math.sqrt(c*c+g*g),f=(c*d+g*o)/(c*o-d*g),n=(c*o-g*d)/j,c*o<g*d&&(f=-f,j=-j)):j=n=f=0,{translateX:b(a[4]),translateY:b(a[5]),rotate:b(180*Math.atan2(g,c)/Math.PI),skewX:b(180*Math.atan(f)/
Math.PI),skewY:0,scaleX:b(j),scaleY:b(n)}}return g}function k(){k.superclass.constructor.apply(this,arguments)}var m=c("dom"),p=c("./fx"),l=h.Feature.isTransform3dSupported()?"translate3d({translateX}px,{translateY}px,0)":"translate({translateX}px,{translateY}px)";h.extend(k,p,{load:function(){k.superclass.load.apply(this,arguments);this.from=(this.from=m.style(this.anim.node,"transform")||this.from)&&"none"!==this.from?g(this.from):i();this.to=this.to?g(this.to):i()},interpolate:function(a,b,c){var f=
k.superclass.interpolate,d={};d.translateX=f(a.translateX,b.translateX,c);d.translateY=f(a.translateY,b.translateY,c);d.rotate=f(a.rotate,b.rotate,c);d.skewX=f(a.skewX,b.skewX,c);d.skewY=f(a.skewY,b.skewY,c);d.scaleX=f(a.scaleX,b.scaleX,c);d.scaleY=f(a.scaleY,b.scaleY,c);return h.substitute(l+" rotate({rotate}deg) skewX({skewX}deg) skewY({skewY}deg) scale({scaleX},{scaleY})",d)}});return p.Factories.transform=k});
KISSY.add("anim/timer","dom,./base,./timer/easing,./timer/manager,./timer/fx,./timer/short-hand,./timer/color,./timer/transform".split(","),function(h,c){function e(a,b,c,d,g){if(!(this instanceof e))return new e(a,b,c,d,g);e.superclass.constructor.apply(this,arguments);h.each(b=this.config.to,function(a,c){var d=l(c);if(c!==d){b[d]=b[c];delete b[c]}})}var i=c("dom"),b=c("./base"),g=c("./timer/easing"),k=c("./timer/manager"),m=c("./timer/fx"),p=c("./timer/short-hand");c("./timer/color");c("./timer/transform");
var l=i._camelCase,a=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;h.extend(e,b,{prepareFx:function(){var b=this.node,c=this._propsData;h.each(c,function(a){a.duration=a.duration*1E3;a.delay=a.delay*1E3;if(typeof a.easing==="string")a.easing=g.toFn(a.easing)});h.each(p,function(a,d){var e,f=c[d],g;if(f){g=f.value;e={};h.each(a,function(a){e[a]=i.css(b,a)});i.css(b,d,g);h.each(e,function(a,d){d in c||(c[d]=h.merge(f,{value:i.css(b,d)}));i.css(b,d,a)});delete c[d]}});var f,d,e,k,o,l,r,u=0,q;h.isPlainObject(b)&&
(u=1);for(f in c){d=c[f];e=d.value;l={isCustomFx:u,prop:f,anim:this,fxType:d.fxType,type:d.type,propData:d};r=m.getFx(l);k=e;o=r.cur();e=e+"";q="";if(e=e.match(a)){k=parseFloat(e[2]);if((q=e[3])&&q!=="px"&&o){var s=0,t=k;do{++t;i.css(b,f,t+q);s=r.cur()}while(s===0);o=t/s*o;i.css(b,f,o+q)}e[1]&&(k=(e[1]==="-="?-1:1)*k+o)}l.from=o;l.to=k;l.unit=q;r.load(l);d.fx=r}},frame:function(){var a,b=1,c,d=this._propsData;for(a in d){c=d[a];c=c.fx;c.frame();if(this.isRejected()||this.isResolved())return;b=b&c.pos===
1}d=h.now();a=this.config.duration*1E3;d=Math.max(0,this.startTime+a-d);this.defer.notify([this,1-(d/a||0),d]);b&&this.stop(b)},doStop:function(a){var b,c=this._propsData;k.stop(this);if(a)for(b in c){a=c[b];(a=a.fx)&&a.frame(1)}},doStart:function(){k.start(this)}});e.Easing=g;e.Fx=m;h.mix(e,b.Statics);return e});
