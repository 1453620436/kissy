/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Apr 10 18:34
*/
KISSY.add("anim/timer/easing",[],function(){function i(a){return a}function d(a,b,g,k){var e=3*a-3*g+1,c=3*g-6*a,f=3*a,h=3*b-3*k+1,i=3*k-6*b,j=3*b;return function(a){a:{for(var b=a,l,g,k=0;8>k;k++){g=((e*b+c)*b+f)*b-a;if(m(g)<o){a=b;break a}l=(3*e*b+2*c)*b+f;if(m(l)<o)break;b-=g/l}l=1;k=0;for(b=a;l>k;){g=((e*b+c)*b+f)*b-a;if(m(g)<o)break;0<g?l=b:k=b;b=(l+k)/2}a=b}return((h*a+i)*a+j)*a}}var h=Math.PI,j=Math.pow,b=Math.sin,c=parseFloat,f=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^,]+)\)$/i,n={swing:function(a){return 0.5-
Math.cos(a*h)/2},easeNone:i,linear:i,easeIn:function(a){return a*a},ease:d(0.25,0.1,0.25,1),"ease-in":d(0.42,0,1,1),"ease-out":d(0,0,0.58,1),"ease-in-out":d(0.42,0,0.58,1),"ease-out-in":d(0,0.42,1,0.58),toFn:function(a){var b;return(b=a.match(f))?d(c(b[1]),c(b[2]),c(b[3]),c(b[4])):n[a]||i},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return 1>(a*=2)?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return 1>
(a*=2)?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){return 0===a||1===a?a:0-j(2,10*(a-=1))*b(2*(a-0.075)*h/0.3)},elasticOut:function(a){return 0===a||1===a?a:j(2,-10*a)*b(2*(a-0.075)*h/0.3)+1},elasticBoth:function(a){return 0===a||2===(a*=2)?a:1>a?-0.5*j(2,10*(a-=1))*b(2*(a-0.1125)*h/0.45):0.5*j(2,-10*(a-=1))*b(2*(a-0.1125)*h/0.45)+1},backIn:function(a){1===a&&(a-=0.001);return a*a*(2.70158*a-1.70158)},backOut:function(a){return(a-=1)*a*(2.70158*a+1.70158)+1},backBoth:function(a){var b,
g=(b=2.5949095)+1;return 1>(a*=2)?0.5*a*a*(g*a-b):0.5*((a-=2)*a*(g*a+b)+2)},bounceIn:function(a){return 1-n.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){return 0.5>a?0.5*n.bounceIn(2*a):0.5*n.bounceOut(2*a-1)+0.5}},o=1.0E-6,m=Math.abs;return n});
KISSY.add("anim/timer/manager",[],function(i){var d=i.stamp,h,j;h=function(b){return setTimeout(b,15)};j=function(b){clearTimeout(b)};return{runnings:{},timer:null,start:function(b){var c=d(b);this.runnings[c]||(this.runnings[c]=b,this.startTimer())},stop:function(b){this.notRun(b)},notRun:function(b){delete this.runnings[d(b)];i.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(b){this.notRun(b)},resume:function(b){this.start(b)},startTimer:function(){var b=this;b.timer||(b.timer=h(function f(){b.runFrames()?
b.stopTimer():b.timer=h(f)}))},stopTimer:function(){var b=this.timer;b&&(j(b),this.timer=0)},runFrames:function(){var b,c,f=this.runnings;for(b in f)f[b].frame();for(b in f){c=0;break}return void 0===c}}});
KISSY.add("anim/timer/fx",["dom"],function(i,d){function h(b){i.mix(this,b);this.pos=0;this.unit=this.unit||""}var j=d("dom");h.prototype={isCustomFx:0,constructor:h,load:function(b){i.mix(this,b);this.pos=0;this.unit=this.unit||""},frame:function(b){if(1!==this.pos){var c=this.anim,f=this.prop,h=c.node,d=this.from,m=this.propData,a=this.to;if(void 0===b)var l=i.now(),b=m.duration,l=l-c.startTime-m.delay,b=0>=l?0:l>=b?1:m.easing(l/b);this.pos=b;d===a||0===b||(this.val=d=this.interpolate(d,a,this.pos),
m.frame?m.frame.call(this,c,this):this.isCustomFx||(void 0===d?(this.pos=1,d=a):d+=this.unit,this.val=d,"attr"===this.type?j.attr(h,f,d,!0):j.css(h,f,d)))}},interpolate:function(b,c,f){if("number"===typeof b&&"number"===typeof c)return Math.round(1E5*(b+(c-b)*f))/1E5},cur:function(){var b=this.prop,c,f,h=this.anim.node;if(this.isCustomFx)return h[b]||0;if(!(c=this.type))c=this.type=(!h.style||null==h.style[b])&&null!=j.attr(h,b,void 0,1)?"attr":"css";b="attr"===c?j.attr(h,b,void 0,1):j.css(h,b);return isNaN(f=
parseFloat(b))?!b||"auto"===b?0:b:f}};h.Factories={};h.FxTypes={};h.getFx=function(b){var c=h,f,d;if(f=b.fxType)c=h.FxTypes[f];else if(!b.isCustomFx&&(d=h.Factories[b.prop]))c=d;return new c(b)};return h});
KISSY.add("anim/timer/color",["./fx"],function(i,d){function h(b){var b=b+"",g;if(g=b.match(o))return[parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10)];if(g=b.match(m))return[parseInt(g[1],10),parseInt(g[2],10),parseInt(g[3],10),parseInt(g[4],10)];if(g=b.match(a)){for(b=1;b<g.length;b++)2>g[b].length&&(g[b]+=g[b]);return[parseInt(g[1],c),parseInt(g[2],c),parseInt(g[3],c)]}return n[b=b.toLowerCase()]?n[b]:[255,255,255]}function j(){j.superclass.constructor.apply(this,arguments)}var b=d("./fx"),
c=16,f=Math.floor,n={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},o=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,m=/^rgba\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+),\s*([0-9]+)\)$/i,a=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i;i.extend(j,b,{load:function(){j.superclass.load.apply(this,
arguments);this.from&&(this.from=h(this.from));this.to&&(this.to=h(this.to))},interpolate:function(a,b,k){var e=j.superclass.interpolate;if(3===a.length&&3===b.length)return"rgb("+[f(e(a[0],b[0],k)),f(e(a[1],b[1],k)),f(e(a[2],b[2],k))].join(", ")+")";if(4===a.length||4===b.length)return"rgba("+[f(e(a[0],b[0],k)),f(e(a[1],b[1],k)),f(e(a[2],b[2],k)),f(e(a[3]||1,b[3]||1,k))].join(", ")+")"}});i.each("backgroundColor,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor,color,outlineColor".split(","),
function(a){b.Factories[a]=j});return b.FxTypes.color=j});
KISSY.add("anim/timer/transform",["dom","./fx"],function(i,d){function h(a){a=a.split(/,/);return a=i.map(a,function(a){return b(a)})}function j(){return{translateX:0,translateY:0,rotate:0,skewX:0,skewY:0,scaleX:1,scaleY:1}}function b(a){return Math.round(1E5*parseFloat(a))/1E5}function c(a){for(var a=a.split(")"),l=i.trim,g=-1,k=a.length-1,e,d,c=j();++g<k;)switch(e=a[g].split("("),d=l(e[0]),e=e[1],d){case "translateX":case "translateY":case "scaleX":case "scaleY":c[d]=b(e);break;case "rotate":case "skewX":case "skewY":var f=
b(e);i.endsWith(e,"deg")||(f=180*f/Math.PI);c[d]=f;break;case "translate":case "translate3d":e=e.split(",");c.translateX=b(e[0]);c.translateY=b(e[1]||0);break;case "scale":e=e.split(",");c.scaleX=b(e[0]);c.scaleY=b(e[1]||e[0]);break;case "matrix":return a=e,a=h(a),k=g=l=void 0,d=a[0],c=a[1],e=a[2],f=a[3],d*f-c*e?(l=Math.sqrt(d*d+c*c),k=(d*e+c*f)/(d*f-e*c),g=(d*f-c*e)/l,d*f<c*e&&(k=-k,l=-l)):l=g=k=0,{translateX:b(a[4]),translateY:b(a[5]),rotate:b(180*Math.atan2(c,d)/Math.PI),skewX:b(180*Math.atan(k)/
Math.PI),skewY:0,scaleX:b(l),scaleY:b(g)}}return c}function f(){f.superclass.constructor.apply(this,arguments)}var n=d("dom"),o=d("./fx"),m=i.Feature.isTransform3dSupported()?"translate3d({translateX}px,{translateY}px,0)":"translate({translateX}px,{translateY}px)";i.extend(f,o,{load:function(){f.superclass.load.apply(this,arguments);this.from=(this.from=n.style(this.anim.node,"transform")||this.from)&&"none"!==this.from?c(this.from):j();this.to=this.to?c(this.to):j()},interpolate:function(a,b,g){var c=
f.superclass.interpolate,e={};e.translateX=c(a.translateX,b.translateX,g);e.translateY=c(a.translateY,b.translateY,g);e.rotate=c(a.rotate,b.rotate,g);e.skewX=c(a.skewX,b.skewX,g);e.skewY=c(a.skewY,b.skewY,g);e.scaleX=c(a.scaleX,b.scaleX,g);e.scaleY=c(a.scaleY,b.scaleY,g);return i.substitute(m+" rotate({rotate}deg) skewX({skewX}deg) skewY({skewY}deg) scale({scaleX},{scaleY})",e)}});return o.Factories.transform=f});
KISSY.add("anim/timer/short-hand",[],function(){return{background:["backgroundColor"],border:"borderBottomWidth,borderLeftWidth,borderRightWidth,borderTopWidth,borderBottomColor,borderLeftColor,borderRightColor,borderTopColor".split(","),borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderBottom:["borderBottomWidth","borderBottomColor"],borderLeft:["borderLeftWidth","borderLeftColor"],borderTop:["borderTopWidth","borderTopColor"],borderRight:["borderRightWidth",
"borderRightColor"],font:["fontSize","fontWeight"],margin:["marginBottom","marginLeft","marginRight","marginTop"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"]}});
KISSY.add("anim/timer","dom,./base,./timer/easing,./timer/manager,./timer/fx,./timer/color,./timer/transform,./timer/short-hand".split(","),function(i,d){function h(a,b,c,d,e){if(!(this instanceof h))return new h(a,b,c,d,e);h.superclass.constructor.apply(this,arguments)}var j=d("dom"),b=d("./base"),c=d("./timer/easing"),f=d("./timer/manager"),n=d("./timer/fx");d("./timer/color");d("./timer/transform");var o=d("./timer/short-hand"),m=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i;i.extend(h,b,{prepareFx:function(){var a=
this.node,b=this._propsData;i.each(b,function(a){a.duration=a.duration*1E3;a.delay=a.delay*1E3;if(typeof a.easing==="string")a.easing=c.toFn(a.easing)});i.each(o,function(c,d){var g,e=b[d],f;if(e){f=e.value;g={};i.each(c,function(b){g[b]=j.css(a,b)});j.css(a,d,f);i.each(g,function(c,d){d in b||(b[d]=i.merge(e,{value:j.css(a,d)}));j.css(a,d,c)});delete b[d]}});var g,d,e,f,h,p,r,u=0,q;i.isPlainObject(a)&&(u=1);for(g in b){d=b[g];e=d.value;p={isCustomFx:u,prop:g,anim:this,fxType:d.fxType,type:d.type,
propData:d};r=n.getFx(p);f=e;h=r.cur();e=e+"";q="";if(e=e.match(m)){f=parseFloat(e[2]);if((q=e[3])&&q!=="px"&&h){var s=0,t=f;do{++t;j.css(a,g,t+q);s=r.cur()}while(s===0);h=t/s*h;j.css(a,g,h+q)}e[1]&&(f=(e[1]==="-="?-1:1)*f+h)}p.from=h;p.to=f;p.unit=q;r.load(p);d.fx=r}},frame:function(){var a,b=1,d,c=this._propsData;for(a in c){d=c[a];d=d.fx;d.frame();if(this.isRejected()||this.isResolved())return;b=b&d.pos===1}c=i.now();a=this.config.duration*1E3;c=Math.max(0,this.startTime+a-c);this.defer.notify([this,
1-(c/a||0),c]);b&&this.stop(b)},doStop:function(a){var b,c=this._propsData;f.stop(this);if(a)for(b in c){a=c[b];(a=a.fx)&&a.frame(1)}},doStart:function(){f.start(this)}});h.Easing=c;h.Fx=n;i.mix(h,b.Statics);return i.Anim=h});
