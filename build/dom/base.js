/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 9 13:55
*/
KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(i,n){var m=n("./base/api");n("./base/attr");n("./base/class");n("./base/create");n("./base/data");n("./base/insertion");n("./base/offset");n("./base/style");n("./base/selector");n("./base/traversal");return i.DOM=m});
KISSY.add("dom/base/api",["ua"],function(i,n){var m=i.Env.host||{},r=m.document,e=n("ua"),h={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},l={isCustomDomain:function(a){var a=a||m,a=l.get(a),e=a.document.domain,a=a.location.hostname;return e!==a&&e!=="["+a+"]"},getEmptyIframeSrc:function(a){a=a||m;a=l.get(a);return e.ie&&
l.isCustomDomain(a)?"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+a.document.domain+'";document.close();')+"}())":""},NodeType:h,getWindow:function(a){if(!a)return m;a=l.get(a);if(i.isWindow(a))return a;var e=a;e.nodeType!==h.DOCUMENT_NODE&&(e=a.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return r;a=l.get(a);return i.isWindow(a)?a.document:a.nodeType===h.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&
!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var d=l.get(a),a=d.nodeName.toLowerCase();e.ie&&(d=d.scopeName)&&"HTML"!==d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};return l});
KISSY.add("dom/base/attr",["./api"],function(i,n){function m(c){return null==c?"":c+""}function r(c,t){var t=j[t]||t,a=o[t];return a&&a.get?a.get(c,t):c[t]}var e=n("./api"),h=i.Env.host.document,l=e.NodeType,h=h&&h.documentElement,a=e.nodeName,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,b=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,g=/:|^on/,c=/\r/g,f={},x={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(c){var a=c.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):b.test(c.nodeName)||k.test(c.nodeName)&&c.href?0:void 0}}},j={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},u=
{get:function(c,a){return e.prop(c,a)?a.toLowerCase():void 0},set:function(c,a,b){!1===a?e.removeAttr(c,b):(a=j[b]||b,a in c&&(c[a]=!0),c.setAttribute(b,b.toLowerCase()));return b}},o={},p={},z={select:{get:function(c){var a=c.selectedIndex,b=c.options,f;if(0>a)return null;if("select-one"===""+c.type)return e.val(b[a]);c=[];a=0;for(f=b.length;a<f;++a)b[a].selected&&c.push(e.val(b[a]));return c},set:function(c,a){var b=i.makeArray(a);i.each(c.options,function(c){c.selected=i.inArray(e.val(c),b)});
b.length||(c.selectedIndex=-1);return b}}};i.each(["radio","checkbox"],function(c){z[c]={get:function(c){return null===c.getAttribute("value")?"on":c.value},set:function(c,a){if(i.isArray(a))return c.checked=i.inArray(e.val(c),a),1}}});v.style={get:function(c){return c.style.cssText}};i.mix(e,{_valHooks:z,_propFix:j,_attrHooks:v,_propHooks:o,_attrNodeHook:p,_attrFix:f,prop:function(c,a,b){var f=e.query(c),g,d;if(i.isPlainObject(a))i.each(a,function(c,a){e.prop(f,a,c)});else if(a=j[a]||a,d=o[a],void 0!==
b)for(c=f.length-1;0<=c;c--)g=f[c],d&&d.set?d.set(g,b,a):g[a]=b;else if(f.length)return r(f[0],a)},hasProp:function(c,a){var b=e.query(c),f,g=b.length,d;for(f=0;f<g;f++)if(d=b[f],void 0!==r(d,a))return!0;return!1},removeProp:function(c,a){var a=j[a]||a,b=e.query(c),f,g;for(f=b.length-1;0<=f;f--){g=b[f];try{g[a]=void 0,delete g[a]}catch(d){}}},attr:function(c,b,j,h){var k=e.query(c),o=k[0];if(i.isPlainObject(b)){var h=j,q;for(q in b)e.attr(k,q,b[q],h)}else{if(h&&x[b])return e[b](c,j);b=b.toLowerCase();
if(h&&x[b])return e[b](c,j);b=f[b]||b;c=d.test(b)?u:g.test(b)?p:v[b];if(void 0===j){if(o&&o.nodeType===l.ELEMENT_NODE){"form"===a(o)&&(c=p);if(c&&c.get)return c.get(o,b);j=o.getAttribute(b);return""===j&&(b=o.getAttributeNode(b),!b||!b.specified)?void 0:null===j?void 0:j}}else for(h=k.length-1;0<=h;h--)if((o=k[h])&&o.nodeType===l.ELEMENT_NODE)"form"===a(o)&&(c=p),c&&c.set?c.set(o,j,b):o.setAttribute(b,""+j)}},removeAttr:function(c,b){var b=b.toLowerCase(),b=f[b]||b,a=e.query(c),g,h,u;for(u=a.length-
1;0<=u;u--)if(h=a[u],h.nodeType===l.ELEMENT_NODE&&(h.removeAttribute(b),d.test(b)&&(g=j[b]||b)in h))h[g]=!1},hasAttr:h&&!h.hasAttribute?function(c,b){var b=b.toLowerCase(),a=e.query(c),f,g;for(f=0;f<a.length;f++)if(g=a[f],(g=g.getAttributeNode(b))&&g.specified)return!0;return!1}:function(c,b){var a=e.query(c),f,g=a.length;for(f=0;f<g;f++)if(a[f].hasAttribute(b))return!0;return!1},val:function(b,f){var g,d,j,h,q;if(void 0===f){if(j=e.get(b)){if((g=z[a(j)]||z[j.type])&&"get"in g&&void 0!==(d=g.get(j,
"value")))return d;d=j.value;return"string"===typeof d?d.replace(c,""):null==d?"":d}}else{d=e.query(b);for(h=d.length-1;0<=h;h--){j=d[h];if(1!==j.nodeType)break;q=f;null==q?q="":"number"===typeof q?q+="":i.isArray(q)&&(q=i.map(q,m));g=z[a(j)]||z[j.type];if(!(g&&"set"in g)||void 0===g.set(j,q,"value"))j.value=q}}},text:function(c,b){var a,f,g,j;if(void 0===b)return a=e.get(c),e._getText(a);f=e.query(c);for(g=f.length-1;0<=g;g--)if(a=f[g],j=a.nodeType,j===l.ELEMENT_NODE)e.cleanData(a.getElementsByTagName("*")),
"textContent"in a?a.textContent=b:a.innerText=b;else if(j===l.TEXT_NODE||j===l.CDATA_SECTION_NODE)a.nodeValue=b},_getText:function(c){return c.textContent}});return e});
KISSY.add("dom/base/class",["./api"],function(i,n){function m(b){for(var b=i.trim(b||""),b=b.split(d),a=[],g,c=b.length,f=0;f<c;f++)(g=b[f])&&a.push(g);return a}function r(b){return function(a,g){var c,f,e,d=a.classList,j=l.call(arguments,2);c=0;for(f=g.length;c<f;c++)(e=g[c])&&d[b].apply(d,[e].concat(j))}}function e(b){return function(e,g){var c=m(g),f=l.call(arguments,2);h.query(e).each(function(g){g.nodeType===a.ELEMENT_NODE&&h[b].apply(h,[g,c].concat(f))})}}var h=n("./api"),l=[].slice,a=h.NodeType,
d=/[\.\s]\s*\.?/;i.mix(h,{_hasClass:function(b,a){var g,c,f,e=b.classList;if(e.length){g=0;for(c=a.length;g<c;g++)if((f=a[g])&&!e.contains(f))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(b,e){var g=!1,e=m(e);h.query(b).each(function(c){if(c.nodeType===a.ELEMENT_NODE&&h._hasClass(c,e))return g=!0,!1});return g},replaceClass:function(a,e,g){h.removeClass(a,e);h.addClass(a,g)},addClass:e("_addClass"),removeClass:e("_removeClass"),
toggleClass:e("_toggleClass")});return h});
KISSY.add("dom/base/create",["./api","ua"],function(i,n){function m(a,g){var e=a&&a!==b?a.createElement(c):f;g&&e===f&&(e.innerHTML="");return e}function r(c,a){var b=m(a);b.innerHTML="m<div>"+c+"</div>";return b.lastChild}function e(c,a){if(a)if(o&&a.canHaveChildren&&"removeNode"in c){if(c.firstChild)a:{try{c.innerHTML="";break a}catch(b){}for(var f;f=c.lastChild;)e(f,c)}c.removeNode(!1)}else a.removeChild(c)}function h(c,a,b){var f=a.nodeType;if(f===k.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;b=b.childNodes;
for(f=0;a[f];)b[f]&&h(c,a[f],b[f]),f++}else if(f===k.ELEMENT_NODE){a=a.getElementsByTagName("*");b=b.getElementsByTagName("*");for(f=0;a[f];)b[f]&&c(a[f],b[f]),f++}}function l(c,a){var b=i.require("event/dom"),f,g;if(a.nodeType!==k.ELEMENT_NODE||d.hasData(c)){f=d.data(c);for(g in f)d.data(a,g,f[g]);b&&b.clone(c,a)}}function a(c){var a=null,b,f;if(c&&(c.push||c.item)&&c[0]){a=c[0].ownerDocument;a=a.createDocumentFragment();c=i.makeArray(c);b=0;for(f=c.length;b<f;b++)a.appendChild(c[b])}return a}var d=
n("./api"),b=i.Env.host.document,k=d.NodeType,g=n("ua").ieMode,c="div",f=b&&b.createElement(c),x=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,v=/<([\w:]+)/,j=/^\s+/,u=/\s+$/,o=!!(g&&9>g),p=o,z=/<|&#?\w+;/,E=b&&"outerHTML"in b.documentElement,t=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;i.mix(d,{create:function(f,g,e,h){var o=null;if(!f)return o;if(f.nodeType)return d.clone(f);if("string"!==typeof f)return o;void 0===h&&(h=!0);h&&(f=i.trim(f));var h=d._creators,l,w,e=e||b,y,J=c;if(z.test(f))if(y=
t.exec(f))o=e.createElement(y[1]);else{f=f.replace(x,"<$1></$2>");if((y=v.exec(f))&&(l=y[1]))J=l.toLowerCase();l=(h[J]||r)(f,e);p&&(w=f.match(j))&&l.insertBefore(e.createTextNode(w[0]),l.firstChild);p&&/\S/.test(f)&&(w=f.match(u))&&l.appendChild(e.createTextNode(w[0]));f=l.childNodes;1===f.length?o=f[0].parentNode.removeChild(f[0]):f.length&&(o=a(f))}else o=e.createTextNode(f);i.isPlainObject(g)&&(o.nodeType===k.ELEMENT_NODE?d.attr(o,g,!0):o.nodeType===k.DOCUMENT_FRAGMENT_NODE&&d.attr(o.childNodes,
g,!0));return o},_fixCloneAttributes:function(c,a){var b=c.nodeName.toLowerCase(),f=(c.type||"").toLowerCase();if("textarea"===b)a.defaultValue=c.defaultValue,a.value=c.value;else if("input"===b&&("checkbox"===f||"radio"===f)){if(b=c.checked)a.defaultChecked=a.checked=b;b=c.value;a.value!==b&&(a.value=b)}},_creators:{div:r},_defaultCreator:r,html:function(c,a,b){var c=d.query(c),f=c[0],g=!1,e,w;if(!f)return null;if(void 0===a)return f.nodeType===k.ELEMENT_NODE?f.innerHTML:f.nodeType===k.DOCUMENT_FRAGMENT_NODE?
(b=m(f.ownerDocument,1),b.appendChild(f),b.innerHTML):null;a+="";if(!a.match(/<(?:script|style|link)/i)&&(!p||!a.match(j))&&!A[(a.match(v)||["",""])[1].toLowerCase()])try{for(e=c.length-1;0<=e;e--)w=c[e],w.nodeType===k.ELEMENT_NODE&&(d.cleanData(w.getElementsByTagName("*")),w.innerHTML=a);g=!0}catch(y){}g||(a=d.create(a,0,f.ownerDocument,0),d.empty(c),d.append(a,c,b))},outerHtml:function(c,a,b){var c=d.query(c),f=c.length,g=c[0];if(!g)return null;if(void 0===a){if(E&&g.nodeType!==k.DOCUMENT_FRAGMENT_NODE)return g.outerHTML;
a=m(g.ownerDocument,1);a.appendChild(d.clone(g,!0));return a.innerHTML}a+="";if(!a.match(/<(?:script|style|link)/i)&&E)for(b=f-1;0<=b;b--)g=c[b],g.nodeType===k.ELEMENT_NODE&&(d.cleanData(g,1),g.outerHTML=a);else a=d.create(a,0,g.ownerDocument,0),d.insertBefore(a,c,b),d.remove(c)},remove:function(c,a){var b,f=d.query(c),g,j=i.require("event/dom"),w;for(w=f.length-1;0<=w;w--)b=f[w],!a&&b.nodeType===k.ELEMENT_NODE&&(g=i.makeArray(b.getElementsByTagName("*")),g.push(b),d.removeData(g),j&&j.detach(g)),
e(b,b.parentNode)},clone:function(c,a,b,f){"object"===typeof a&&(f=a.deepWithDataAndEvent,b=a.withDataAndEvent,a=a.deep);var c=d.get(c),g,e=d._fixCloneAttributes,w;if(!c)return null;w=c.nodeType;g=c.cloneNode(a);if(w===k.ELEMENT_NODE||w===k.DOCUMENT_FRAGMENT_NODE)e&&w===k.ELEMENT_NODE&&e(c,g),a&&e&&h(e,c,g);b&&(l(c,g),a&&f&&h(l,c,g));return g},empty:function(c){var c=d.query(c),a,b;for(b=c.length-1;0<=b;b--)a=c[b],d.remove(a.childNodes)},_nodeListToFragment:a});d.outerHTML=d.outerHtml;var D=d._creators,
F=d.create,A={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},B;for(B in A)(function(c){D[B]=function(a,b){return F("<"+c+">"+a+"</"+c+">",void 0,b)}})(A[B]);D.option=D.optgroup=function(c,a){return F('<select multiple="multiple">'+c+"</select>",void 0,a)};return d});
KISSY.add("dom/base/data",["./api"],function(i,n){var m=n("./api"),r=i.Env.host,e="_ks_data_"+i.now(),h={},l={},a={applet:1,object:1,embed:1},d={hasData:function(a,c){if(a)if(void 0!==c){if(c in a)return!0}else if(!i.isEmptyObject(a))return!0;return!1}},b={hasData:function(a,c){return a==r?b.hasData(l,c):d.hasData(a[e],c)},data:function(a,c,f){if(a==r)return b.data(l,c,f);var d=a[e];if(void 0!==f)d=a[e]=a[e]||{},d[c]=f;else return void 0!==c?d&&d[c]:d=a[e]=a[e]||{}},removeData:function(a,c){if(a==
r)return b.removeData(l,c);var f=a[e];if(void 0!==c)delete f[c],i.isEmptyObject(f)&&b.removeData(a);else try{delete a[e]}catch(d){a[e]=void 0}}},k={hasData:function(a,c){var b=a[e];return!b?!1:d.hasData(h[b],c)},data:function(b,c,f){if(!a[b.nodeName.toLowerCase()]){var d=b[e];if(!d){if(void 0!==c&&void 0===f)return;d=b[e]=i.guid()}b=h[d];if(void 0!==f)b=h[d]=h[d]||{},b[c]=f;else return void 0!==c?b&&b[c]:b=h[d]=h[d]||{}}},removeData:function(a,c){var b=a[e],d;if(b)if(d=h[b],void 0!==c)delete d[c],
i.isEmptyObject(d)&&k.removeData(a);else{delete h[b];try{delete a[e]}catch(v){a[e]=void 0}a.removeAttribute&&a.removeAttribute(e)}}};i.mix(m,{__EXPANDO:e,hasData:function(a,c){for(var f=!1,e=m.query(a),d=0;d<e.length&&!(f=e[d],f=f.nodeType?k.hasData(f,c):b.hasData(f,c));d++);return f},data:function(a,c,f){var a=m.query(a),e=a[0];if(i.isPlainObject(c))for(var d in c)m.data(a,d,c[d]);else if(void 0===f){if(e)return e.nodeType?k.data(e,c):b.data(e,c)}else for(d=a.length-1;0<=d;d--)e=a[d],e.nodeType?
k.data(e,c,f):b.data(e,c,f)},removeData:function(a,c){var f=m.query(a),e,d;for(d=f.length-1;0<=d;d--)e=f[d],e.nodeType?k.removeData(e,c):b.removeData(e,c)},cleanData:function(a,c){var f=m.query(a),e,d,j=i.require("event/dom");for(d=f.length-1;0<=d;d--)if(e=f[d],e.nodeType){var h=c&&i.makeArray(e.getElementsByTagName("*"))||[];h.push(e);e=0;for(var o=h.length;e<o;e++)k.removeData(h[e]);j&&j.detach(h)}else b.removeData(e)}});return m});
KISSY.add("dom/base/insertion",["./api"],function(i,n){function m(c,f){var e=[],h,j,u;for(h=0;c[h];h++)if(j=c[h],u=d(j),j.nodeType===l.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,m(b(j.childNodes),f));else if("script"===u&&(!j.type||g.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),f&&f.push(j);else{if(j.nodeType===l.ELEMENT_NODE&&!a.test(u)){u=[];var i,p,z=j.getElementsByTagName("script");for(p=0;p<z.length;p++)i=z[p],(!i.type||g.test(i.type))&&u.push(i);k.apply(c,[h+1,0].concat(u))}e.push(j)}return e}
function r(a){a.src?i.getScript(a.src):(a=i.trim(a.text||a.textContent||a.innerHTML||""))&&i.globalEval(a)}function e(a,b,e,d){a=h.query(a);d&&(d=[]);a=m(a,d);h._fixInsertionChecked&&h._fixInsertionChecked(a);var b=h.query(b),j,g,o,p,k=b.length;if((a.length||d&&d.length)&&k){a=h._nodeListToFragment(a);1<k&&(p=h.clone(a,!0),b=i.makeArray(b));for(j=0;j<k;j++)g=b[j],a&&(o=0<j?h.clone(p,!0):a,e(o,g)),d&&d.length&&i.each(d,r)}}var h=n("./api"),l=h.NodeType,a=/^(?:button|input|object|select|textarea)$/i,
d=h.nodeName,b=i.makeArray,k=[].splice,g=/\/(java|ecma)script/i;i.mix(h,{_fixInsertionChecked:null,insertBefore:function(a,b,d){e(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,b,d){e(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},d)},appendTo:function(a,b,d){e(a,b,function(a,b){b.appendChild(a)},d)},prependTo:function(a,b,d){e(a,b,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,b){b=h.clone(h.get(b),!0);
a=h.query(a);a[0].parentNode&&h.insertBefore(b,a[0]);for(var e;(e=b.firstChild)&&1===e.nodeType;)b=e;h.appendTo(a,b)},wrap:function(a,b){a=h.query(a);b=h.get(b);i.each(a,function(a){h.wrapAll(a,b)})},wrapInner:function(a,b){a=h.query(a);b=h.get(b);i.each(a,function(a){var c=a.childNodes;c.length?h.wrapAll(c,b):a.appendChild(b)})},unwrap:function(a){a=h.query(a);i.each(a,function(a){a=a.parentNode;h.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var e=h.query(a),b=h.query(b);h.remove(b,!0);
h.insertBefore(b,e);h.remove(e)}});i.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){h[b]=h[a]});return h});
KISSY.add("dom/base/offset",["./api","ua"],function(i,n){function m(a){var e,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};e=a.getBoundingClientRect();a=e[c];e=e[f];a-=b.clientLeft||d.clientLeft||0;e-=b.clientTop||d.clientTop||0;return{left:a,top:e}}function r(a,b){var c={left:0,top:0},d=k(a),f,g=a,b=b||d;do{if(d==b){var h=g;f=m(h);h=k(h);f.left+=e[x](h);f.top+=e[v](h)}else f=m(g);c.left+=f.left;c.top+=f.top}while(d&&d!=b&&(g=d.frameElement)&&(d=d.parent));return c}var e=
n("./api"),h=i.Env.host,l=n("ua"),a=h.document,d=e.NodeType,b=a&&a.documentElement,k=e.getWindow,g=Math.max,c="left",f="top",x="scrollLeft",v="scrollTop";i.mix(e,{offset:function(a,b,c){if(void 0===b){var a=e.get(a),d;a&&(d=r(a,c));return d}c=e.query(a);for(d=c.length-1;0<=d;d--){var a=c[d],f=b;"static"===e.css(a,"position")&&(a.style.position="relative");var g=r(a),h={},i=void 0,k=void 0;for(k in f)i=parseFloat(e.css(a,k))||0,h[k]=i+f[k]-g[k];e.css(a,h)}},scrollIntoView:function(a,b,g,h){var l,m,
t,n;if(t=e.get(a)){b&&(b=e.get(b));b||(b=t.ownerDocument);b.nodeType===d.DOCUMENT_NODE&&(b=k(b));i.isPlainObject(g)&&(h=g.allowHorizontalScroll,n=g.onlyScrollIfNeeded,g=g.alignWithTop);h=void 0===h?!0:h;m=i.isWindow(b);var a=e.offset(t),r=e.outerHeight(t);l=e.outerWidth(t);var v,B,q,s;m?(m=b,v=e.height(m),B=e.width(m),s={left:e.scrollLeft(m),top:e.scrollTop(m)},m=a[c]-s[c],t=a[f]-s[f],l=a[c]+l-(s[c]+B),a=a[f]+r-(s[f]+v)):(v=e.offset(b),B=b.clientHeight,q=b.clientWidth,s={left:e.scrollLeft(b),top:e.scrollTop(b)},
m=a[c]-(v[c]+(parseFloat(e.css(b,"borderLeftWidth"))||0)),t=a[f]-(v[f]+(parseFloat(e.css(b,"borderTopWidth"))||0)),l=a[c]+l-(v[c]+q+(parseFloat(e.css(b,"borderRightWidth"))||0)),a=a[f]+r-(v[f]+B+(parseFloat(e.css(b,"borderBottomWidth"))||0)));if(n){if(0>t||0<a)!0===g?e.scrollTop(b,s.top+t):!1===g?e.scrollTop(b,s.top+a):0>t?e.scrollTop(b,s.top+t):e.scrollTop(b,s.top+a)}else(g=void 0===g?!0:!!g)?e.scrollTop(b,s.top+t):e.scrollTop(b,s.top+a);if(h)if(n){if(0>m||0<l)!0===g?e.scrollLeft(b,s.left+m):!1===
g?e.scrollLeft(b,s.left+l):0>m?e.scrollLeft(b,s.left+m):e.scrollLeft(b,s.left+l)}else void 0===g||g?e.scrollLeft(b,s.left+m):e.scrollLeft(b,s.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});i.each(["Left","Top"],function(a,b){var c="scroll"+a;e[c]=function(f,g){if("number"===typeof f)return arguments.callee(h,f);var f=e.get(f),i,l,m,n;f&&f.nodeType===d.ELEMENT_NODE?void 0!==g?f[c]=parseFloat(g):i=f[c]:(n=k(f),void 0!==g?(g=parseFloat(g),l="Left"===a?g:
e.scrollLeft(n),m="Top"===a?g:e.scrollTop(n),n.scrollTo(l,m)):(i=n["page"+(b?"Y":"X")+"Offset"],"number"!==typeof i&&(l=n.document,i=l.documentElement[c],"number"!==typeof i&&(i=l.body[c]))));return i}});i.each(["Width","Height"],function(a){e["doc"+a]=function(b){b=e.get(b);b=e.getDocument(b);return g(b.documentElement["scroll"+a],b.body["scroll"+a],e["viewport"+a](b))};e["viewport"+a]=function(b){var b=e.get(b),c=k(b),b=c["inner"+a];if(l.mobile&&b)return b;var b="client"+a,c=c.document,d=c.body,
f=c.documentElement[b];return"CSS1Compat"===c.compatMode&&f||d&&d[b]||f}});return e});
KISSY.add("dom/base/style",["./api","ua"],function(i,n){function m(a){if(B[a])return B[a];var b=g(a);return b&&b.propertyName||a}function r(a,b,c){var e={},d=a.style,f;for(f in b)e[f]=d[f],d[f]=b[f];c.call(a);for(f in b)d[f]=e[f]}function e(a,b,c){var e,f,d;if(!(3===a.nodeType||8===a.nodeType||!(e=a.style)))if(b=I(b),d=A[b],b=m(b),void 0!==c){null===c||c===t?c=t:!isNaN(Number(c))&&!E[b]&&(c+=D);d&&d.set&&(c=d.set(a,c));if(void 0!==c){try{e[b]=c}catch(g){}c===t&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||
a.removeAttribute("style")}else{if(!d||!("get"in d&&void 0!==(f=d.get(a,!1))))f=e[b];return void 0===f?"":f}}function h(a){var b,c=arguments;0!==a.offsetWidth?b=d.apply(void 0,c):r(a,L,function(){b=d.apply(void 0,c)});return b}function l(a,c,e,d){var f=0,g,h,i;for(h=0;h<c.length;h++)if(g=c[h])for(i=0;i<e.length;i++)f+=parseFloat(b._getComputedStyle(a,"border"===g?g+e[i]+"Width":g+e[i],d))||0;return f}function a(a){var b=a.ownerDocument,c;b.defaultView&&(c=b.defaultView.getComputedStyle(a,null));return c}
function d(e,d,g){if(i.isWindow(e))return d===p?b.viewportWidth(e):b.viewportHeight(e);if(9===e.nodeType)return d===p?b.docWidth(e):b.docHeight(e);var h=d===p?["Left","Right"]:["Top","Bottom"],q=d===p?e.offsetWidth:e.offsetHeight,j=a(e),k="border-box"===b._getComputedStyle(e,"boxSizing",j),s=0;if(null==q||0>=q){q=void 0;s=b._getComputedStyle(e,d,j);if(null==s||0>Number(s))s=e.style[d]||0;s=parseFloat(s)||0}void 0===g&&(g=k?v:f);d=void 0!==q||k;q=q||s;return g===f?d?q-l(e,["border","padding"],h,j):
s:d?q+(g===v?0:g===x?-l(e,["border"],h,j):l(e,["margin"],h,j)):s+l(e,c.slice(g),h,j)}var b=n("./api"),k=i.Env.host,g=i.Feature.getCssVendorInfo;n("ua");var c=["margin","border","padding"],f=-1,x=2,v=1,j=b.nodeName,u=k.document||{},o=/^margin/,p="width",z="display"+i.now(),E={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},t="",D="px",F=/\d(?!px)[a-z%]+$/i,A={},B={},q={},s=g("userSelect"),H=s&&s.propertyName,I=i.camelCase;B["float"]="cssFloat";i.mix(b,{_cssHooks:A,
_cssProps:B,_getComputedStyle:function(a,c,e){var d="",f,g;f=a.ownerDocument;c=m(c);if(e=e||f.defaultView.getComputedStyle(a,null))d=e.getPropertyValue(c)||e[c];""===d&&!b.contains(f,a)&&(d=a.style[c]);b._RE_NUM_NO_PX.test(d)&&o.test(c)&&(g=a.style,a=g.width,c=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=d,d=e.width,g.width=a,g.minWidth=c,g.maxWidth=f);return d},style:function(a,c,d){var a=b.query(a),f,g=a[0];if(i.isPlainObject(c))for(f in c)for(g=a.length-1;0<=g;g--)e(a[g],f,c[f]);else{if(void 0===
d)return f="",g&&(f=e(g,c,d)),f;for(g=a.length-1;0<=g;g--)e(a[g],c,d)}},css:function(a,c,d){var a=b.query(a),f=a[0],g;if(i.isPlainObject(c))for(g in c)for(f=a.length-1;0<=f;f--)e(a[f],g,c[g]);else{c=I(c);g=A[c];if(void 0===d){d="";if(f&&(!g||!("get"in g&&void 0!==(d=g.get(f,!0)))))d=b._getComputedStyle(f,c);return"undefined"===typeof d?"":d}for(f=a.length-1;0<=f;f--)e(a[f],c,d)}},show:function(a){var a=b.query(a),c,d,e;for(e=a.length-1;0<=e;e--)if(d=a[e],d.style.display=b.data(d,z)||t,"none"===b.css(d,
"display")){c=d.tagName.toLowerCase();var f=void 0,g=q[c],h=void 0;q[c]||(f=u.body||u.documentElement,h=u.createElement(c),b.prepend(h,f),g=b.css(h,"display"),f.removeChild(h),q[c]=g);c=g;b.data(d,z,c);d.style.display=c}},hide:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--){c=a[d];var e=c.style,f=e.display;"none"!==f&&(f&&b.data(c,z,f),e.display="none")}},toggle:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--)c=a[d],"none"===b.css(c,"display")?b.show(c):b.hide(c)},addStyleSheet:function(a,
c,d){"string"===typeof a&&(d=c,c=a,a=k);var a=b.getDocument(a),e;if(d&&(d=d.replace("#",t)))e=b.get("#"+d,a);e||(e=b.create("<style>",{id:d},a),b.get("head",a).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(a.createTextNode(c)))},unselectable:H?function(a){var a=b.query(a),c,d,e=0,f,g;for(d=a.length-1;0<=d;d--){c=a[d];g=c.getElementsByTagName("*");c.setAttribute("unselectable","on");for(f=["iframe","textarea","input","select"];c=g[e++];)i.inArray(j(c),f)||c.setAttribute("unselectable",
"on")}}:function(a){for(var a=b.query(a),c=a.length-1;0<=c;c--)a[c].style[H]="none"},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});i.each([p,"height"],function(c){b["inner"+i.ucfirst(c)]=function(a){return(a=b.get(a))&&h(a,c,x)};b["outer"+i.ucfirst(c)]=function(a,d){var e=b.get(a);return e&&h(e,c,d?0:v)};var d=c===p?["Left","Right"]:["Top","Bottom"];b[c]=function(e,g){var i=b.get(e);if(void 0!==g){if(i){var q=a(i);"border-box"===b._getComputedStyle(i,"boxSizing",q)&&(g+=
l(i,["padding","border"],d,q));return b.css(i,c,g)}}else return i&&h(i,c,f)};A[c]={get:function(a,b){var d;b&&(d=h(a,c)+"px");return d}}});var L={position:"absolute",visibility:"hidden",display:"block"};i.each(["left","top"],function(a){A[a]={get:function(c,d){var e,f,g;if(d){g=b.css(c,"position");if("static"===g)return"auto";e=b._getComputedStyle(c,a);if((f="auto"===e)&&"relative"===g)return"0px";if(f||F.test(e)){g={top:0,left:0};if("fixed"===b.css(c,"position"))f=c.getBoundingClientRect();else{for(e=
c.offsetParent||(c.ownerDocument||u).body;e&&!M.test(e.nodeName)&&"static"===b.css(e,"position");)e=e.offsetParent;f=b.offset(c);g=b.offset(e);g.top+=parseFloat(b.css(e,"borderTopWidth"))||0;g.left+=parseFloat(b.css(e,"borderLeftWidth"))||0}f.top-=parseFloat(b.css(c,"marginTop"))||0;f.left-=parseFloat(b.css(c,"marginLeft"))||0;e={top:f.top-g.top,left:f.left-g.left}[a]+"px"}}return e}}});var M=/^(?:body|html)$/i;return b});
KISSY.add("dom/base/selector",["./api"],function(i,n){function m(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function r(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function e(a){return function(b){var d=g._getElementById(a,c);return d&&g._contains(b,d)?[d]:[]}}function h(a){return function(b){return b.getElementsByClassName(a)}}function l(a){return function(b){return b.getElementsByTagName(a)}}function a(b,d){var f,k,n="string"===
typeof b,p=void 0!==d?a(d):(k=1)&&[c],w=p.length;if(b)if(n){b=B(b);if(k)if("body"===b)f=[c.body];else if(E.test(b)&&v)f=u(c.getElementsByClassName(RegExp.$1));else if(F.test(b))f=(k=g._getElementById(RegExp.$2,c))&&k.nodeName.toLowerCase()===RegExp.$1?[k]:[];else if(t.test(b))f=(k=g._getElementById(b.substr(1),c))?[k]:[];else if(D.test(b))f=u(c.getElementsByTagName(b));else if(!b.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&v){f=b.split(/\s+/);var y=p,x,A;k=0;for(n=
f.length;k<n;k++){x=f;A=k;var C;C=f[k];var G=C.charAt(0);C="#"===G?e(r(C)):"."===G?h(r(C)):l(C);x[A]=C}k=0;for(n=f.length;k<n;k++){C=f[k];var G=[],K;x=0;for(A=y.length;x<A;x++)K=C(y[x]),G.push.apply(G,u(K));y=G;if(!y.length)break}f=y&&1<y.length?g.unique(y):y}if(!f){f=[];for(k=0;k<w;k++)z.apply(f,g._selectInternal(b,p[k]));1<f.length&&1<w&&g.unique(f)}}else{if(f=b.nodeType||i.isWindow(b)?[b]:b.getDOMNodes?b.getDOMNodes():j(b)?b:o(b)?u(b):[b],!k){n=f;x=n.length;f=[];for(k=0;k<x;k++)for(y=0;y<w;y++)if(g._contains(p[y],
n[k])){f.push(n[k]);break}}}else f=[];f.each=m;return f}function d(a,c){var d=a&&b(a,"class");return d&&(d=d.replace(/[\r\t\n]/g,p))&&-1<(p+d+p).indexOf(p+c+p)}function b(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return"value"in c?c.value:c.nodeValue}function k(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var g=n("./api"),c=i.Env.host.document,f=c.documentElement,x=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector,v="getElementsByClassName"in
c,j=i.isArray,u=i.makeArray,o=g.isDomNodeList,p=" ",z=Array.prototype.push,E=/^\.([\w-]+)$/,t=/^#([\w-]+)$/,D=/^([\w-])+$/,F=/^([\w-]+)#([\w-]+)$/,A=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,B=i.trim;i.mix(g,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return u(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:b,_isTag:k,_hasSingleClass:d,_matchesInternal:function(a,b){for(var c=[],d=0,f,e=b.length;d<e;d++)f=b[d],x.call(f,a)&&c.push(f);return c},_selectInternal:function(a,b){return u(b.querySelectorAll(a))},query:a,get:function(b,c){return a(b,c)[0]||null},unique:function(){function a(c,d){return c===d?(b=!0,0):g._compareNodeOrder(c,d)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){b=c;d.sort(a);if(b)for(var f=1,e=d.length;f<e;)d[f]===d[f-1]?(d.splice(f,1),--e):f++;return d}}(),
filter:function(c,f,e){var c=a(c,e),h,j,l,m,e=[];if("string"===typeof f&&(f=B(f))&&(l=A.exec(f)))h=l[1],j=l[2],m=l[3],h?h&&!j&&!m&&(f=function(a){return b(a,"id")===h}):f=function(a){var b=!0,c=!0;j&&(b=k(a,j));m&&(c=d(a,m));return c&&b};return e="function"===typeof f?i.filter(c,f):g._matchesInternal(f,c)},test:function(b,c,d){b=a(b,d);return b.length&&g.filter(b,c,d).length===b.length}});return g});
KISSY.add("dom/base/traversal",["./api"],function(i,n){function m(a,d,b,e,g,c,f){if(!(a=h.get(a)))return null;if(0===d)return a;c||(a=a[b]);if(!a)return null;g=g&&h.get(g)||null;void 0===d&&(d=1);var c=[],m=i.isArray(d),n,j;"number"===typeof d&&(n=0,j=d,d=function(){return++n===j});for(;a&&a!==g;){if((a.nodeType===l.ELEMENT_NODE||a.nodeType===l.TEXT_NODE&&f)&&r(a,d)&&(!e||e(a)))if(c.push(a),!m)break;a=a[b]}return m?c:c[0]||null}function r(a,d){if(!d)return!0;if(i.isArray(d)){var b,e=d.length;if(!e)return!0;
for(b=0;b<e;b++)if(h.test(a,d[b]))return!0}else if(h.test(a,d))return!0;return!1}function e(a,d,b,e){var g=[],c,f;if((c=a=h.get(a))&&b)c=a.parentNode;if(c){b=i.makeArray(c.childNodes);for(c=0;c<b.length;c++)f=b[c],(e||f.nodeType===l.ELEMENT_NODE)&&f!==a&&g.push(f);d&&(g=h.filter(g,d))}return g}var h=n("./api"),l=h.NodeType;i.mix(h,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,b,e){return m(a,d,"parentNode",function(a){return a.nodeType!==l.DOCUMENT_FRAGMENT_NODE},
b,!0,e)},parent:function(a,d,b){return m(a,d,"parentNode",function(a){return a.nodeType!==l.DOCUMENT_FRAGMENT_NODE},b,void 0)},first:function(a,d,b){a=h.get(a);return m(a&&a.firstChild,d,"nextSibling",void 0,void 0,!0,b)},last:function(a,d,b){a=h.get(a);return m(a&&a.lastChild,d,"previousSibling",void 0,void 0,!0,b)},next:function(a,d,b){return m(a,d,"nextSibling",void 0,void 0,void 0,b)},prev:function(a,d,b){return m(a,d,"previousSibling",void 0,void 0,void 0,b)},siblings:function(a,d,b){return e(a,
d,!0,b)},children:function(a,d){return e(a,d,void 0)},contents:function(a,d){return e(a,d,void 0,1)},contains:function(a,d){a=h.get(a);d=h.get(d);return a&&d?h._contains(a,d):!1},index:function(a,d){var b=h.query(a),e,g=0;e=b[0];if(!d){b=e&&e.parentNode;if(!b)return-1;for(;e=e.previousSibling;)e.nodeType===l.ELEMENT_NODE&&g++;return g}g=h.query(d);return"string"===typeof d?i.indexOf(e,g):i.indexOf(g[0],b)},equals:function(a,d){a=h.query(a);d=h.query(d);if(a.length!==d.length)return!1;for(var b=a.length;0<=
b;b--)if(a[b]!==d[b])return!1;return!0}});return h});
