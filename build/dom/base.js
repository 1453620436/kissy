/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 14 22:16
*/
KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(u,i){var m=i("./base/api");i("./base/attr");i("./base/class");i("./base/create");i("./base/data");i("./base/insertion");i("./base/offset");i("./base/style");i("./base/selector");i("./base/traversal");return u.DOM=m});
KISSY.add("dom/base/api",["util","ua"],function(u,i){var m=i("util"),s=u.Env.host||{},k=s.document,b=i("ua"),h={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n={isCustomDomain:function(b){var b=b||s,b=n.get(b),c=b.document.domain,b=b.location.hostname;return c!==b&&c!=="["+b+"]"},getEmptyIframeSrc:function(e){e=e||s;
e=n.get(e);return b.ie&&n.isCustomDomain(e)?"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+e.document.domain+'";document.close();')+"}())":""},NodeType:h,getWindow:function(b){if(!b)return s;b=n.get(b);if(m.isWindow(b))return b;var c=b;c.nodeType!==h.DOCUMENT_NODE&&(c=b.ownerDocument);return c.defaultView||c.parentWindow},getDocument:function(b){if(!b)return k;b=n.get(b);return m.isWindow(b)?b.document:b.nodeType===h.DOCUMENT_NODE?b:b.ownerDocument},isDomNodeList:function(b){return b&&
!b.nodeType&&b.item&&!b.setTimeout},nodeName:function(e){var c=n.get(e),e=c.nodeName.toLowerCase();b.ie&&(c=c.scopeName)&&"HTML"!==c&&(e=c.toLowerCase()+":"+e);return e},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};return n});
KISSY.add("dom/base/attr",["util","./api"],function(u,i){function m(b){return null==b?"":b+""}function s(b,d){var d=j[d]||d,a=q[d];return a&&a.get?a.get(b,d):b[d]}var k=i("util"),b=i("./api"),h=u.Env.host.document,n=b.NodeType,h=h&&h.documentElement,e=b.nodeName,c=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,a=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,g=/:|^on/,d=/\r/g,f={},r={val:1,css:1,html:1,text:1,
data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},x={tabindex:{get:function(b){var d=b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):a.test(b.nodeName)||l.test(b.nodeName)&&b.href?0:void 0}}},j={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
p={get:function(d,a){return b.prop(d,a)?a.toLowerCase():void 0},set:function(d,a,f){!1===a?b.removeAttr(d,f):(a=j[f]||f,a in d&&(d[a]=!0),d.setAttribute(f,f.toLowerCase()));return f}},q={},t={},z={select:{get:function(d){var a=d.selectedIndex,f=d.options,c;if(0>a)return null;if("select-one"===""+d.type)return b.val(f[a]);d=[];a=0;for(c=f.length;a<c;++a)f[a].selected&&d.push(b.val(f[a]));return d},set:function(d,a){var f=k.makeArray(a);k.each(d.options,function(d){d.selected=k.inArray(b.val(d),f)});
f.length||(d.selectedIndex=-1);return f}}};k.each(["radio","checkbox"],function(d){z[d]={get:function(d){return null===d.getAttribute("value")?"on":d.value},set:function(d,a){if(k.isArray(a))return d.checked=k.inArray(b.val(d),a),1}}});x.style={get:function(d){return d.style.cssText}};k.mix(b,{_valHooks:z,_propFix:j,_attrHooks:x,_propHooks:q,_attrNodeHook:t,_attrFix:f,prop:function(d,a,f){var c=b.query(d),g,e;if(k.isPlainObject(a))k.each(a,function(d,o){b.prop(c,o,d)});else if(a=j[a]||a,e=q[a],void 0!==
f)for(d=c.length-1;0<=d;d--)g=c[d],e&&e.set?e.set(g,f,a):g[a]=f;else if(c.length)return s(c[0],a)},hasProp:function(d,a){var f=b.query(d),c,g=f.length,e;for(c=0;c<g;c++)if(e=f[c],void 0!==s(e,a))return!0;return!1},removeProp:function(d,a){var a=j[a]||a,f=b.query(d),c,g;for(c=f.length-1;0<=c;c--){g=f[c];try{g[a]=void 0,delete g[a]}catch(e){}}},attr:function(d,a,j,h){var l=b.query(d),q=l[0];if(k.isPlainObject(a)){var h=j,v;for(v in a)b.attr(l,v,a[v],h)}else{if(h&&r[a])return b[a](d,j);a=a.toLowerCase();
if(h&&r[a])return b[a](d,j);a=f[a]||a;d=c.test(a)?p:g.test(a)?t:x[a];if(void 0===j){if(q&&q.nodeType===n.ELEMENT_NODE){"form"===e(q)&&(d=t);if(d&&d.get)return d.get(q,a);j=q.getAttribute(a);return""===j&&(a=q.getAttributeNode(a),!a||!a.specified)?void 0:null===j?void 0:j}}else for(h=l.length-1;0<=h;h--)if((q=l[h])&&q.nodeType===n.ELEMENT_NODE)"form"===e(q)&&(d=t),d&&d.set?d.set(q,j,a):q.setAttribute(a,""+j)}},removeAttr:function(d,a){var a=a.toLowerCase(),a=f[a]||a,g=b.query(d),e,p,r;for(r=g.length-
1;0<=r;r--)if(p=g[r],p.nodeType===n.ELEMENT_NODE&&(p.removeAttribute(a),c.test(a)&&(e=j[a]||a)in p))p[e]=!1},hasAttr:h&&!h.hasAttribute?function(d,a){var a=a.toLowerCase(),f=b.query(d),c,g;for(c=0;c<f.length;c++)if(g=f[c],(g=g.getAttributeNode(a))&&g.specified)return!0;return!1}:function(d,a){var f=b.query(d),c,g=f.length;for(c=0;c<g;c++)if(f[c].hasAttribute(a))return!0;return!1},val:function(a,f){var c,g,j,p,v;if(void 0===f){if(j=b.get(a)){if((c=z[e(j)]||z[j.type])&&"get"in c&&void 0!==(g=c.get(j,
"value")))return g;g=j.value;return"string"===typeof g?g.replace(d,""):null==g?"":g}}else{g=b.query(a);for(p=g.length-1;0<=p;p--){j=g[p];if(1!==j.nodeType)break;v=f;null==v?v="":"number"===typeof v?v+="":k.isArray(v)&&(v=k.map(v,m));c=z[e(j)]||z[j.type];if(!(c&&"set"in c)||void 0===c.set(j,v,"value"))j.value=v}}},text:function(d,a){var c,f,g,j;if(void 0===a)return c=b.get(d),b._getText(c);f=b.query(d);for(g=f.length-1;0<=g;g--)if(c=f[g],j=c.nodeType,j===n.ELEMENT_NODE)b.cleanData(c.getElementsByTagName("*")),
"textContent"in c?c.textContent=a:c.innerText=a;else if(j===n.TEXT_NODE||j===n.CDATA_SECTION_NODE)c.nodeValue=a},_getText:function(d){return d.textContent}});return b});
KISSY.add("dom/base/class",["./api","util"],function(u,i){function m(a){for(var a=h.trim(a||""),a=a.split(c),b=[],g,d=a.length,f=0;f<d;f++)(g=a[f])&&b.push(g);return b}function s(a){return function(b,c){var d,f,e,h=b.classList,j=n.call(arguments,2);d=0;for(f=c.length;d<f;d++)(e=c[d])&&h[a].apply(h,[e].concat(j))}}function k(a){return function(c,g){var d=m(g),f=n.call(arguments,2);b.query(c).each(function(c){c.nodeType===e.ELEMENT_NODE&&b[a].apply(b,[c,d].concat(f))})}}var b=i("./api"),h=i("util"),
n=[].slice,e=b.NodeType,c=/[\.\s]\s*\.?/;h.mix(b,{_hasClass:function(a,b){var c,d,f,e=a.classList;if(e.length){c=0;for(d=b.length;c<d;c++)if((f=b[c])&&!e.contains(f))return!1;return!0}return!1},_addClass:s("add"),_removeClass:s("remove"),_toggleClass:s("toggle"),hasClass:function(a,c){var g=!1,c=m(c);b.query(a).each(function(d){if(d.nodeType===e.ELEMENT_NODE&&b._hasClass(d,c))return g=!0,!1});return g},replaceClass:function(a,c,g){b.removeClass(a,c);b.addClass(a,g)},addClass:k("_addClass"),removeClass:k("_removeClass"),
toggleClass:k("_toggleClass")});return b});
KISSY.add("dom/base/create",["util","./api","ua"],function(u,i){function m(c,b){var g=c&&c!==a?c.createElement(d):f;b&&g===f&&(g.innerHTML="");return g}function s(d,a){var c=m(a);c.innerHTML="m<div>"+d+"</div>";return c.lastChild}function k(d,a){if(a)if(q&&a.canHaveChildren&&"removeNode"in d){if(d.firstChild)a:{try{d.innerHTML="";break a}catch(c){}for(var b;b=d.lastChild;)k(b,d)}d.removeNode(!1)}else a.removeChild(d)}function b(d,a,c){var f=a.nodeType;if(f===l.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;
c=c.childNodes;for(f=0;a[f];)c[f]&&b(d,a[f],c[f]),f++}else if(f===l.ELEMENT_NODE){a=a.getElementsByTagName("*");c=c.getElementsByTagName("*");for(f=0;a[f];)c[f]&&d(a[f],c[f]),f++}}function h(d,a){var b=u.require("event/dom"),f,g;if(a.nodeType!==l.ELEMENT_NODE||c.hasData(d)){f=c.data(d);for(g in f)c.data(a,g,f[g]);b&&b.clone(d,a)}}function n(d){var a=null,c,b;if(d&&(d.push||d.item)&&d[0]){a=d[0].ownerDocument;a=a.createDocumentFragment();d=e.makeArray(d);c=0;for(b=d.length;c<b;c++)a.appendChild(d[c])}return a}
var e=i("util"),c=i("./api"),a=u.Env.host.document,l=c.NodeType,g=i("ua").ieMode,d="div",f=a&&a.createElement(d),r=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,x=/<([\w:]+)/,j=/^\s+/,p=/\s+$/,q=!!(g&&9>g),t=q,z=/<|&#?\w+;/,E=a&&"outerHTML"in a.documentElement,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;e.mix(c,{create:function(b,f,g,h){var A=null;if(!b)return A;if(b.nodeType)return c.clone(b);if("string"!==typeof b)return A;void 0===h&&(h=!0);h&&(b=e.trim(b));var h=c._creators,q,w,
g=g||a,H,K=d;if(z.test(b))if(H=C.exec(b))A=g.createElement(H[1]);else{b=b.replace(r,"<$1></$2>");if((H=x.exec(b))&&(q=H[1]))K=q.toLowerCase();q=(h[K]||s)(b,g);t&&(w=b.match(j))&&q.insertBefore(g.createTextNode(w[0]),q.firstChild);t&&/\S/.test(b)&&(w=b.match(p))&&q.appendChild(g.createTextNode(w[0]));b=q.childNodes;1===b.length?A=b[0].parentNode.removeChild(b[0]):b.length&&(A=n(b))}else A=g.createTextNode(b);e.isPlainObject(f)&&(A.nodeType===l.ELEMENT_NODE?c.attr(A,f,!0):A.nodeType===l.DOCUMENT_FRAGMENT_NODE&&
c.attr(A.childNodes,f,!0));return A},_fixCloneAttributes:function(d,a){var b=d.nodeName.toLowerCase(),c=(d.type||"").toLowerCase();if("textarea"===b)a.defaultValue=d.defaultValue,a.value=d.value;else if("input"===b&&("checkbox"===c||"radio"===c)){if(b=d.checked)a.defaultChecked=a.checked=b;b=d.value;a.value!==b&&(a.value=b)}},_creators:{div:s},_defaultCreator:s,html:function(d,a,b){var d=c.query(d),f=d[0],g=!1,e,w;if(!f)return null;if(void 0===a)return f.nodeType===l.ELEMENT_NODE?f.innerHTML:f.nodeType===
l.DOCUMENT_FRAGMENT_NODE?(b=m(f.ownerDocument,1),b.appendChild(f),b.innerHTML):null;a+="";if(!a.match(/<(?:script|style|link)/i)&&(!t||!a.match(j))&&!y[(a.match(x)||["",""])[1].toLowerCase()])try{for(e=d.length-1;0<=e;e--)w=d[e],w.nodeType===l.ELEMENT_NODE&&(c.cleanData(w.getElementsByTagName("*")),w.innerHTML=a);g=!0}catch(H){}g||(a=c.create(a,0,f.ownerDocument,0),c.empty(d),c.append(a,d,b))},outerHtml:function(d,a,b){var d=c.query(d),f=d.length,g=d[0];if(!g)return null;if(void 0===a){if(E&&g.nodeType!==
l.DOCUMENT_FRAGMENT_NODE)return g.outerHTML;a=m(g.ownerDocument,1);a.appendChild(c.clone(g,!0));return a.innerHTML}a+="";if(!a.match(/<(?:script|style|link)/i)&&E)for(b=f-1;0<=b;b--)g=d[b],g.nodeType===l.ELEMENT_NODE&&(c.cleanData(g,1),g.outerHTML=a);else a=c.create(a,0,g.ownerDocument,0),c.insertBefore(a,d,b),c.remove(d)},remove:function(a,d){var b,f=c.query(a),g,j=u.require("event/dom"),w;for(w=f.length-1;0<=w;w--)b=f[w],!d&&b.nodeType===l.ELEMENT_NODE&&(g=e.makeArray(b.getElementsByTagName("*")),
g.push(b),c.removeData(g),j&&j.detach(g)),k(b,b.parentNode)},clone:function(a,d,f,g){"object"===typeof d&&(g=d.deepWithDataAndEvent,f=d.withDataAndEvent,d=d.deep);var a=c.get(a),j,e=c._fixCloneAttributes,w;if(!a)return null;w=a.nodeType;j=a.cloneNode(d);if(w===l.ELEMENT_NODE||w===l.DOCUMENT_FRAGMENT_NODE)e&&w===l.ELEMENT_NODE&&e(a,j),d&&e&&b(e,a,j);f&&(h(a,j),d&&g&&b(h,a,j));return j},empty:function(a){var a=c.query(a),d,b;for(b=a.length-1;0<=b;b--)d=a[b],c.remove(d.childNodes)},_nodeListToFragment:n});
c.outerHTML=c.outerHtml;var D=c._creators,F=c.create,y={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},B;for(B in y)(function(a){D[B]=function(d,b){return F("<"+a+">"+d+"</"+a+">",void 0,b)}})(y[B]);D.option=D.optgroup=function(a,d){return F('<select multiple="multiple">'+a+"</select>",void 0,d)};return c});
KISSY.add("dom/base/data",["util","./api"],function(u,i){var m=i("util"),s=i("./api"),k=u.Env.host,b="_ks_data_"+m.now(),h={},n={},e={applet:1,object:1,embed:1},c={hasData:function(a,d){if(a)if(void 0!==d){if(d in a)return!0}else if(!m.isEmptyObject(a))return!0;return!1}},a={hasData:function(g,d){return g==k?a.hasData(n,d):c.hasData(g[b],d)},data:function(c,d,f){if(c==k)return a.data(n,d,f);var e=c[b];if(void 0!==f)e=c[b]=c[b]||{},e[d]=f;else return void 0!==d?e&&e[d]:e=c[b]=c[b]||{}},removeData:function(c,
d){if(c==k)return a.removeData(n,d);var f=c[b];if(void 0!==d)delete f[d],m.isEmptyObject(f)&&a.removeData(c);else try{delete c[b]}catch(e){c[b]=void 0}}},l={hasData:function(a,d){var f=a[b];return!f?!1:c.hasData(h[f],d)},data:function(a,d,c){if(!e[a.nodeName.toLowerCase()]){var r=a[b];if(!r){if(void 0!==d&&void 0===c)return;r=a[b]=m.guid()}a=h[r];if(void 0!==c)a=h[r]=h[r]||{},a[d]=c;else return void 0!==d?a&&a[d]:a=h[r]=h[r]||{}}},removeData:function(a,d){var c=a[b],e;if(c)if(e=h[c],void 0!==d)delete e[d],
m.isEmptyObject(e)&&l.removeData(a);else{delete h[c];try{delete a[b]}catch(x){a[b]=void 0}a.removeAttribute&&a.removeAttribute(b)}}};m.mix(s,{__EXPANDO:b,hasData:function(b,d){for(var c=!1,e=s.query(b),h=0;h<e.length&&!(c=e[h],c=c.nodeType?l.hasData(c,d):a.hasData(c,d));h++);return c},data:function(b,d,c){var b=s.query(b),e=b[0];if(m.isPlainObject(d))for(var h in d)s.data(b,h,d[h]);else if(void 0===c){if(e)return e.nodeType?l.data(e,d):a.data(e,d)}else for(h=b.length-1;0<=h;h--)e=b[h],e.nodeType?
l.data(e,d,c):a.data(e,d,c)},removeData:function(b,d){var c=s.query(b),e,h;for(h=c.length-1;0<=h;h--)e=c[h],e.nodeType?l.removeData(e,d):a.removeData(e,d)},cleanData:function(b,d){var c=s.query(b),e,h,j=u.require("event/dom");for(h=c.length-1;0<=h;h--)if(e=c[h],e.nodeType){var p=d&&m.makeArray(e.getElementsByTagName("*"))||[];p.push(e);e=0;for(var q=p.length;e<q;e++)l.removeData(p[e]);j&&j.detach(p)}else a.removeData(e)}});return s});
KISSY.add("dom/base/insertion",["util","./api"],function(u,i){function m(d,b){var h=[],k,j,p;for(k=0;d[k];k++)if(j=d[k],p=c(j),j.nodeType===n.DOCUMENT_FRAGMENT_NODE)h.push.apply(h,m(a(j.childNodes),b));else if("script"===p&&(!j.type||g.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),b&&b.push(j);else{if(j.nodeType===n.ELEMENT_NODE&&!e.test(p)){p=[];var q,t,z=j.getElementsByTagName("script");for(t=0;t<z.length;t++)q=z[t],(!q.type||g.test(q.type))&&p.push(q);l.apply(d,[k+1,0].concat(p))}h.push(j)}return h}
function s(a){a.src?u.getScript(a.src):(a=b.trim(a.text||a.textContent||a.innerHTML||""))&&b.globalEval(a)}function k(a,c,e,g){a=h.query(a);g&&(g=[]);a=m(a,g);h._fixInsertionChecked&&h._fixInsertionChecked(a);var c=h.query(c),j,p,q,l,k=c.length;if((a.length||g&&g.length)&&k){a=h._nodeListToFragment(a);1<k&&(l=h.clone(a,!0),c=b.makeArray(c));for(j=0;j<k;j++)p=c[j],a&&(q=0<j?h.clone(l,!0):a,e(q,p)),g&&g.length&&b.each(g,s)}}var b=i("util"),h=i("./api"),n=h.NodeType,e=/^(?:button|input|object|select|textarea)$/i,
c=h.nodeName,a=b.makeArray,l=[].splice,g=/\/(java|ecma)script/i;b.mix(h,{_fixInsertionChecked:null,insertBefore:function(a,b,c){k(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){k(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){k(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){k(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(a,b){b=h.clone(h.get(b),!0);
a=h.query(a);a[0].parentNode&&h.insertBefore(b,a[0]);for(var c;(c=b.firstChild)&&1===c.nodeType;)b=c;h.appendTo(a,b)},wrap:function(a,c){a=h.query(a);c=h.get(c);b.each(a,function(a){h.wrapAll(a,c)})},wrapInner:function(a,c){a=h.query(a);c=h.get(c);b.each(a,function(a){var b=a.childNodes;b.length?h.wrapAll(b,c):a.appendChild(c)})},unwrap:function(a){a=h.query(a);b.each(a,function(a){a=a.parentNode;h.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var c=h.query(a),b=h.query(b);h.remove(b,!0);
h.insertBefore(b,c);h.remove(c)}});b.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){h[b]=h[a]});return h});
KISSY.add("dom/base/offset",["util","./api","ua"],function(u,i){function m(b){var c,e=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};c=b.getBoundingClientRect();b=c[d];c=c[f];b-=a.clientLeft||e.clientLeft||0;c-=a.clientTop||e.clientTop||0;return{left:b,top:c}}function s(a,c){var d={left:0,top:0},e=l(a),f,g=a,c=c||e;do{if(e==c){var h=g;f=m(h);h=l(h);f.left+=b[r](h);f.top+=b[x](h)}else f=m(g);d.left+=f.left;d.top+=f.top}while(e&&e!=c&&(g=e.frameElement)&&(e=e.parent));return d}
var k=i("util"),b=i("./api"),h=u.Env.host,n=i("ua"),e=h.document,c=b.NodeType,a=e&&e.documentElement,l=b.getWindow,g=Math.max,d="left",f="top",r="scrollLeft",x="scrollTop";k.mix(b,{offset:function(a,c,d){if(void 0===c){var a=b.get(a),e;a&&(e=s(a,d));return e}d=b.query(a);for(e=d.length-1;0<=e;e--){var a=d[e],f=c;"static"===b.css(a,"position")&&(a.style.position="relative");var g=s(a),h={},l=void 0,k=void 0;for(k in f)l=parseFloat(b.css(a,k))||0,h[k]=l+f[k]-g[k];b.css(a,h)}},scrollIntoView:function(a,
e,h,g){var n,i,m,s;if(m=b.get(a)){e&&(e=b.get(e));e||(e=m.ownerDocument);e.nodeType===c.DOCUMENT_NODE&&(e=l(e));k.isPlainObject(h)&&(g=h.allowHorizontalScroll,s=h.onlyScrollIfNeeded,h=h.alignWithTop);g=void 0===g?!0:g;i=k.isWindow(e);var a=b.offset(m),r=b.outerHeight(m);n=b.outerWidth(m);var u,x,v,o;i?(i=e,u=b.height(i),x=b.width(i),o={left:b.scrollLeft(i),top:b.scrollTop(i)},i=a[d]-o[d],m=a[f]-o[f],n=a[d]+n-(o[d]+x),a=a[f]+r-(o[f]+u)):(u=b.offset(e),x=e.clientHeight,v=e.clientWidth,o={left:b.scrollLeft(e),
top:b.scrollTop(e)},i=a[d]-(u[d]+(parseFloat(b.css(e,"borderLeftWidth"))||0)),m=a[f]-(u[f]+(parseFloat(b.css(e,"borderTopWidth"))||0)),n=a[d]+n-(u[d]+v+(parseFloat(b.css(e,"borderRightWidth"))||0)),a=a[f]+r-(u[f]+x+(parseFloat(b.css(e,"borderBottomWidth"))||0)));if(s){if(0>m||0<a)!0===h?b.scrollTop(e,o.top+m):!1===h?b.scrollTop(e,o.top+a):0>m?b.scrollTop(e,o.top+m):b.scrollTop(e,o.top+a)}else(h=void 0===h?!0:!!h)?b.scrollTop(e,o.top+m):b.scrollTop(e,o.top+a);if(g)if(s){if(0>i||0<n)!0===h?b.scrollLeft(e,
o.left+i):!1===h?b.scrollLeft(e,o.left+n):0>i?b.scrollLeft(e,o.left+i):b.scrollLeft(e,o.left+n)}else void 0===h||h?b.scrollLeft(e,o.left+i):b.scrollLeft(e,o.left+n)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});k.each(["Left","Top"],function(a,d){var e="scroll"+a;b[e]=function(f,g){if("number"===typeof f)return arguments.callee(h,f);var f=b.get(f),k,i,n,m;f&&f.nodeType===c.ELEMENT_NODE?void 0!==g?f[e]=parseFloat(g):k=f[e]:(m=l(f),void 0!==g?(g=parseFloat(g),
i="Left"===a?g:b.scrollLeft(m),n="Top"===a?g:b.scrollTop(m),m.scrollTo(i,n)):(k=m["page"+(d?"Y":"X")+"Offset"],"number"!==typeof k&&(i=m.document,k=i.documentElement[e],"number"!==typeof k&&(k=i.body[e]))));return k}});k.each(["Width","Height"],function(a){b["doc"+a]=function(c){c=b.get(c);c=b.getDocument(c);return g(c.documentElement["scroll"+a],c.body["scroll"+a],b["viewport"+a](c))};b["viewport"+a]=function(c){var c=b.get(c),d=l(c),c=d["inner"+a];if(n.mobile&&c)return c;var c="client"+a,d=d.document,
e=d.body,f=d.documentElement[c];return"CSS1Compat"===d.compatMode&&f||e&&e[c]||f}});return b});
KISSY.add("dom/base/style",["util","./api","feature","ua"],function(u,i){function m(a){if(B[a])return B[a];var c=g(a);return c&&c.propertyName||a}function s(a,c,b){var d={},e=a.style,f;for(f in c)d[f]=e[f],e[f]=c[f];b.call(a);for(f in c)e[f]=d[f]}function k(a,c,b){var d,e,f;if(!(3===a.nodeType||8===a.nodeType||!(d=a.style)))if(c=J(c),f=y[c],c=m(c),void 0!==b){null===b||b===C?b=C:!isNaN(Number(b))&&!E[c]&&(b+=D);f&&f.set&&(b=f.set(a,b));if(void 0!==b){try{d[c]=b}catch(h){}b===C&&d.removeAttribute&&
d.removeAttribute(c)}d.cssText||a.removeAttribute("style")}else{if(!f||!("get"in f&&void 0!==(e=f.get(a,!1))))e=d[c];return void 0===e?"":e}}function b(a){var c,b=arguments;0!==a.offsetWidth?c=e.apply(void 0,b):s(a,A,function(){c=e.apply(void 0,b)});return c}function h(c,b,d,e){var f=0,h,g,o;for(g=0;g<b.length;g++)if(h=b[g])for(o=0;o<d.length;o++)f+=parseFloat(a._getComputedStyle(c,"border"===h?h+d[o]+"Width":h+d[o],e))||0;return f}function n(a){var c=a.ownerDocument,b;c.defaultView&&(b=c.defaultView.getComputedStyle(a,
null));return b}function e(b,e,g){if(c.isWindow(b))return e===t?a.viewportWidth(b):a.viewportHeight(b);if(9===b.nodeType)return e===t?a.docWidth(b):a.docHeight(b);var o=e===t?["Left","Right"]:["Top","Bottom"],j=e===t?b.offsetWidth:b.offsetHeight,l=n(b),k="border-box"===a._getComputedStyle(b,"boxSizing",l),i=0;if(null==j||0>=j){j=void 0;i=a._getComputedStyle(b,e,l);if(null==i||0>Number(i))i=b.style[e]||0;i=parseFloat(i)||0}void 0===g&&(g=k?x:f);e=void 0!==j||k;j=j||i;return g===f?e?j-h(b,["border",
"padding"],o,l):i:e?j+(g===x?0:g===r?-h(b,["border"],o,l):h(b,["margin"],o,l)):i+h(b,d.slice(g),o,l)}var c=i("util"),a=i("./api"),l=u.Env.host,g=i("feature").getCssVendorInfo;i("ua");var d=["margin","border","padding"],f=-1,r=2,x=1,j=a.nodeName,p=l.document||{},q=/^margin/,t="width",z="display"+c.now(),E={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},C="",D="px",F=/\d(?!px)[a-z%]+$/i,y={},B={},v={},o=g("userSelect"),I=o&&o.propertyName,J=c.camelCase;B["float"]=
"cssFloat";c.mix(a,{_cssHooks:y,_cssProps:B,_getComputedStyle:function(b,c,d){var e="",f,g;f=b.ownerDocument;c=m(c);if(d=d||f.defaultView.getComputedStyle(b,null))e=d.getPropertyValue(c)||d[c];""===e&&!a.contains(f,b)&&(e=b.style[c]);a._RE_NUM_NO_PX.test(e)&&q.test(c)&&(g=b.style,b=g.width,c=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=e,e=d.width,g.width=b,g.minWidth=c,g.maxWidth=f);return e},style:function(b,d,e){var b=a.query(b),f,g=b[0];if(c.isPlainObject(d))for(f in d)for(g=b.length-
1;0<=g;g--)k(b[g],f,d[f]);else{if(void 0===e)return f="",g&&(f=k(g,d,e)),f;for(g=b.length-1;0<=g;g--)k(b[g],d,e)}},css:function(b,d,e){var b=a.query(b),f=b[0],g;if(c.isPlainObject(d))for(g in d)for(f=b.length-1;0<=f;f--)k(b[f],g,d[g]);else{d=J(d);g=y[d];if(void 0===e){e="";if(f&&(!g||!("get"in g&&void 0!==(e=g.get(f,!0)))))e=a._getComputedStyle(f,d);return"undefined"===typeof e?"":e}for(f=b.length-1;0<=f;f--)k(b[f],d,e)}},show:function(b){var b=a.query(b),c,d,e;for(e=b.length-1;0<=e;e--)if(d=b[e],
d.style.display=a.data(d,z)||C,"none"===a.css(d,"display")){c=d.tagName.toLowerCase();var f=void 0,g=v[c],h=void 0;v[c]||(f=p.body||p.documentElement,h=p.createElement(c),a.prepend(h,f),g=a.css(h,"display"),f.removeChild(h),v[c]=g);c=g;a.data(d,z,c);d.style.display=c}},hide:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var e=c.style,f=e.display;"none"!==f&&(f&&a.data(c,z,f),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,
"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){"string"===typeof b&&(d=c,c=b,b=l);var b=a.getDocument(b),e;if(d&&(d=d.replace("#",C)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c)))},unselectable:I?function(b){var b=a.query(b),d,e,f=0,g,h;for(e=b.length-1;0<=e;e--){d=b[e];h=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(g=["iframe","textarea","input","select"];d=
h[f++];)c.inArray(j(d),g)||d.setAttribute("unselectable","on")}}:function(b){for(var b=a.query(b),c=b.length-1;0<=c;c--)b[c].style[I]="none"},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([t,"height"],function(d){a["inner"+c.ucfirst(d)]=function(c){return(c=a.get(c))&&b(c,d,r)};a["outer"+c.ucfirst(d)]=function(c,e){var f=a.get(c);return f&&b(f,d,e?0:x)};var e=d===t?["Left","Right"]:["Top","Bottom"];a[d]=function(c,g){var o=a.get(c);if(void 0!==g){if(o){var j=n(o);
"border-box"===a._getComputedStyle(o,"boxSizing",j)&&(g+=h(o,["padding","border"],e,j));return a.css(o,d,g)}}else return o&&b(o,d,f)};y[d]={get:function(a,c){var e;c&&(e=b(a,d)+"px");return e}}});var A={position:"absolute",visibility:"hidden",display:"block"};c.each(["left","top"],function(b){y[b]={get:function(c,d){var e,f,g;if(d){g=a.css(c,"position");if("static"===g)return"auto";e=a._getComputedStyle(c,b);if((f="auto"===e)&&"relative"===g)return"0px";if(f||F.test(e)){g={top:0,left:0};if("fixed"===
a.css(c,"position"))f=c.getBoundingClientRect();else{for(e=c.offsetParent||(c.ownerDocument||p).body;e&&!M.test(e.nodeName)&&"static"===a.css(e,"position");)e=e.offsetParent;f=a.offset(c);g=a.offset(e);g.top+=parseFloat(a.css(e,"borderTopWidth"))||0;g.left+=parseFloat(a.css(e,"borderLeftWidth"))||0}f.top-=parseFloat(a.css(c,"marginTop"))||0;f.left-=parseFloat(a.css(c,"marginLeft"))||0;e={top:f.top-g.top,left:f.left-g.left}[b]+"px"}}return e}}});var M=/^(?:body|html)$/i;return a});
KISSY.add("dom/base/selector",["./api","util"],function(u,i){function m(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function s(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function k(a){return function(b){var c=l._getElementById(a,d);return c&&l._contains(b,c)?[c]:[]}}function b(a){return function(b){return b.getElementsByClassName(a)}}function h(a){return function(b){return b.getElementsByTagName(a)}}function n(a,c){var e,
f,i="string"===typeof a,w=void 0!==c?n(c):(f=1)&&[d],u=w.length;if(a)if(i){a=B(a);if(f)if("body"===a)e=[d.body];else if(E.test(a)&&x)e=p(d.getElementsByClassName(RegExp.$1));else if(F.test(a))e=(f=l._getElementById(RegExp.$2,d))&&f.nodeName.toLowerCase()===RegExp.$1?[f]:[];else if(C.test(a))e=(f=l._getElementById(a.substr(1),d))?[f]:[];else if(D.test(a))e=p(d.getElementsByTagName(a));else if(!a.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&x){e=a.split(/\s+/);var r=w,
t,v;f=0;for(i=e.length;f<i;f++){t=e;v=f;var y;y=e[f];var G=y.charAt(0);y="#"===G?k(s(y)):"."===G?b(s(y)):h(y);t[v]=y}f=0;for(i=e.length;f<i;f++){y=e[f];var G=[],L;t=0;for(v=r.length;t<v;t++)L=y(r[t]),G.push.apply(G,p(L));r=G;if(!r.length)break}e=r&&1<r.length?l.unique(r):r}if(!e){e=[];for(f=0;f<u;f++)z.apply(e,l._selectInternal(a,w[f]));1<e.length&&1<u&&l.unique(e)}}else{if(e=a.nodeType||g.isWindow(a)?[a]:a.getDOMNodes?a.getDOMNodes():j(a)?a:q(a)?p(a):[a],!f){i=e;t=i.length;e=[];for(f=0;f<t;f++)for(r=
0;r<u;r++)if(l._contains(w[r],i[f])){e.push(i[f]);break}}}else e=[];e.each=m;return e}function e(a,b){var d=a&&c(a,"class");return d&&(d=d.replace(/[\r\t\n]/g,t))&&-1<(t+d+t).indexOf(t+b+t)}function c(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return"value"in c?c.value:c.nodeValue}function a(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var l=i("./api"),g=i("util"),d=u.Env.host.document,f=d.documentElement,r=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||
f.msMatchesSelector,x="getElementsByClassName"in d,j=g.isArray,p=g.makeArray,q=l.isDomNodeList,t=" ",z=Array.prototype.push,E=/^\.([\w-]+)$/,C=/^#([\w-]+)$/,D=/^([\w-])+$/,F=/^([\w-]+)#([\w-]+)$/,y=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,B=g.trim,v="sourceIndex"in f?function(a,b){return a.sourceIndex-b.sourceIndex}:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1};g.mix(l,{_getElementsByTagName:function(a,
b){return p(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},_getSimpleAttr:c,_isTag:a,_hasSingleClass:e,_matchesInternal:function(a,b){for(var c=[],d=0,e,f=b.length;d<f;d++)e=b[d],r.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return p(b.querySelectorAll(a))},query:n,get:function(a,b){return n(a,b)[0]||null},unique:function(){function a(c,d){return c===d?(b=!0,0):v(c,d)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){b=c;d.sort(a);
if(b)for(var e=1,f=d.length;e<f;)d[e]===d[e-1]?(d.splice(e,1),--f):e++;return d}}(),filter:function(b,d,f){var b=n(b,f),h,j,i,k,f=[];if("string"===typeof d&&(d=B(d))&&(i=y.exec(d)))h=i[1],j=i[2],k=i[3],h?h&&!j&&!k&&(d=function(a){return c(a,"id")===h}):d=function(b){var c=!0,d=!0;j&&(c=a(b,j));k&&(d=e(b,k));return d&&c};return f="function"===typeof d?g.filter(b,d):l._matchesInternal(d,b)},test:function(a,b,c){a=n(a,c);return a.length&&l.filter(a,b,c).length===a.length}});return l});
KISSY.add("dom/base/traversal",["util","./api"],function(u,i){function m(e,c,a,i,g,d,f){if(!(e=h.get(e)))return null;if(0===c)return e;d||(e=e[a]);if(!e)return null;g=g&&h.get(g)||null;void 0===c&&(c=1);var d=[],k=b.isArray(c),m,j;"number"===typeof c&&(m=0,j=c,c=function(){return++m===j});for(;e&&e!==g;){if((e.nodeType===n.ELEMENT_NODE||e.nodeType===n.TEXT_NODE&&f)&&s(e,c)&&(!i||i(e)))if(d.push(e),!k)break;e=e[a]}return k?d:d[0]||null}function s(e,c){if(!c)return!0;if(b.isArray(c)){var a,i=c.length;
if(!i)return!0;for(a=0;a<i;a++)if(h.test(e,c[a]))return!0}else if(h.test(e,c))return!0;return!1}function k(e,c,a,i){var g=[],d,f;if((d=e=h.get(e))&&a)d=e.parentNode;if(d){a=b.makeArray(d.childNodes);for(d=0;d<a.length;d++)f=a[d],(i||f.nodeType===n.ELEMENT_NODE)&&f!==e&&g.push(f);c&&(g=h.filter(g,c))}return g}var b=i("util"),h=i("./api"),n=h.NodeType;b.mix(h,{_contains:function(b,c){return!!(b.compareDocumentPosition(c)&16)},closest:function(b,c,a,h){return m(b,c,"parentNode",function(a){return a.nodeType!==
n.DOCUMENT_FRAGMENT_NODE},a,!0,h)},parent:function(b,c,a){return m(b,c,"parentNode",function(a){return a.nodeType!==n.DOCUMENT_FRAGMENT_NODE},a,void 0)},first:function(b,c,a){b=h.get(b);return m(b&&b.firstChild,c,"nextSibling",void 0,void 0,!0,a)},last:function(b,c,a){b=h.get(b);return m(b&&b.lastChild,c,"previousSibling",void 0,void 0,!0,a)},next:function(b,c,a){return m(b,c,"nextSibling",void 0,void 0,void 0,a)},prev:function(b,c,a){return m(b,c,"previousSibling",void 0,void 0,void 0,a)},siblings:function(b,
c,a){return k(b,c,!0,a)},children:function(b,c){return k(b,c,void 0)},contents:function(b,c){return k(b,c,void 0,1)},contains:function(b,c){b=h.get(b);c=h.get(c);return b&&c?h._contains(b,c):!1},index:function(e,c){var a=h.query(e),i,g=0;i=a[0];if(!c){a=i&&i.parentNode;if(!a)return-1;for(;i=i.previousSibling;)i.nodeType===n.ELEMENT_NODE&&g++;return g}g=h.query(c);return"string"===typeof c?b.indexOf(i,g):b.indexOf(g[0],a)},equals:function(b,c){b=h.query(b);c=h.query(c);if(b.length!==c.length)return!1;
for(var a=b.length;0<=a;a--)if(b[a]!==c[a])return!1;return!0}});return h});
