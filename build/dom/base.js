/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Apr 15 17:44
*/
KISSY.add("dom/base/api",["ua"],function(i,n){var m=i.Env.host||{},r=m.document,f=n("ua"),h={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},l={isCustomDomain:function(a){var a=a||m,a=l.get(a),f=a.document.domain,a=a.location.hostname;return f!==a&&f!=="["+a+"]"},getEmptyIframeSrc:function(a){a=a||m;a=l.get(a);return f.ie&&
l.isCustomDomain(a)?"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+a.document.domain+'";document.close();')+"}())":""},NodeType:h,getWindow:function(a){if(!a)return m;a=l.get(a);if(i.isWindow(a))return a;var f=a;f.nodeType!==h.DOCUMENT_NODE&&(f=a.ownerDocument);return f.defaultView||f.parentWindow},getDocument:function(a){if(!a)return r;a=l.get(a);return i.isWindow(a)?a.document:a.nodeType===h.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&
!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var d=l.get(a),a=d.nodeName.toLowerCase();f.ie&&(d=d.scopeName)&&"HTML"!==d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};return l});
KISSY.add("dom/base/attr",["./api"],function(i,n){function m(c){return null==c?"":c+""}function r(c,t){var t=j[t]||t,a=o[t];return a&&a.get?a.get(c,t):c[t]}var f=n("./api"),h=i.Env.host.document,l=f.NodeType,h=h&&h.documentElement,a=f.nodeName,d=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,b=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,g=/:|^on/,c=/\r/g,e={},x={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(c){var a=c.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):b.test(c.nodeName)||k.test(c.nodeName)&&c.href?0:void 0}}},j={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},u=
{get:function(c,a){return f.prop(c,a)?a.toLowerCase():void 0},set:function(c,a,b){!1===a?f.removeAttr(c,b):(a=j[b]||b,a in c&&(c[a]=!0),c.setAttribute(b,b.toLowerCase()));return b}},o={},q={},z={select:{get:function(c){var a=c.selectedIndex,b=c.options,e;if(0>a)return null;if("select-one"===""+c.type)return f.val(b[a]);c=[];a=0;for(e=b.length;a<e;++a)b[a].selected&&c.push(f.val(b[a]));return c},set:function(c,a){var b=i.makeArray(a);i.each(c.options,function(c){c.selected=i.inArray(f.val(c),b)});
b.length||(c.selectedIndex=-1);return b}}};i.each(["radio","checkbox"],function(c){z[c]={get:function(c){return null===c.getAttribute("value")?"on":c.value},set:function(c,a){if(i.isArray(a))return c.checked=i.inArray(f.val(c),a),1}}});v.style={get:function(c){return c.style.cssText}};i.mix(f,{_valHooks:z,_propFix:j,_attrHooks:v,_propHooks:o,_attrNodeHook:q,_attrFix:e,prop:function(c,a,b){var e=f.query(c),g,d;if(i.isPlainObject(a))i.each(a,function(p,c){f.prop(e,c,p)});else if(a=j[a]||a,d=o[a],void 0!==
b)for(c=e.length-1;0<=c;c--)g=e[c],d&&d.set?d.set(g,b,a):g[a]=b;else if(e.length)return r(e[0],a)},hasProp:function(c,a){var b=f.query(c),e,g=b.length,d;for(e=0;e<g;e++)if(d=b[e],void 0!==r(d,a))return!0;return!1},removeProp:function(c,a){var a=j[a]||a,b=f.query(c),e,g;for(e=b.length-1;0<=e;e--){g=b[e];try{g[a]=void 0,delete g[a]}catch(d){}}},attr:function(c,b,j,h){var k=f.query(c),o=k[0];if(i.isPlainObject(b)){var h=j,p;for(p in b)f.attr(k,p,b[p],h)}else{if(h&&x[b])return f[b](c,j);b=b.toLowerCase();
if(h&&x[b])return f[b](c,j);b=e[b]||b;c=d.test(b)?u:g.test(b)?q:v[b];if(void 0===j){if(o&&o.nodeType===l.ELEMENT_NODE){"form"===a(o)&&(c=q);if(c&&c.get)return c.get(o,b);j=o.getAttribute(b);return""===j&&(b=o.getAttributeNode(b),!b||!b.specified)?void 0:null===j?void 0:j}}else for(h=k.length-1;0<=h;h--)if((o=k[h])&&o.nodeType===l.ELEMENT_NODE)"form"===a(o)&&(c=q),c&&c.set?c.set(o,j,b):o.setAttribute(b,""+j)}},removeAttr:function(c,b){var b=b.toLowerCase(),b=e[b]||b,a=f.query(c),g,h,u;for(u=a.length-
1;0<=u;u--)if(h=a[u],h.nodeType===l.ELEMENT_NODE&&(h.removeAttribute(b),d.test(b)&&(g=j[b]||b)in h))h[g]=!1},hasAttr:h&&!h.hasAttribute?function(c,b){var b=b.toLowerCase(),a=f.query(c),e,g;for(e=0;e<a.length;e++)if(g=a[e],(g=g.getAttributeNode(b))&&g.specified)return!0;return!1}:function(c,b){var a=f.query(c),e,g=a.length;for(e=0;e<g;e++)if(a[e].hasAttribute(b))return!0;return!1},val:function(b,e){var g,d,j,h,p;if(void 0===e){if(j=f.get(b)){if((g=z[a(j)]||z[j.type])&&"get"in g&&void 0!==(d=g.get(j,
"value")))return d;d=j.value;return"string"===typeof d?d.replace(c,""):null==d?"":d}}else{d=f.query(b);for(h=d.length-1;0<=h;h--){j=d[h];if(1!==j.nodeType)break;p=e;null==p?p="":"number"===typeof p?p+="":i.isArray(p)&&(p=i.map(p,m));g=z[a(j)]||z[j.type];if(!(g&&"set"in g)||void 0===g.set(j,p,"value"))j.value=p}}},text:function(c,b){var a,e,g,j;if(void 0===b)return a=f.get(c),f._getText(a);e=f.query(c);for(g=e.length-1;0<=g;g--)if(a=e[g],j=a.nodeType,j===l.ELEMENT_NODE)f.cleanData(a.getElementsByTagName("*")),
"textContent"in a?a.textContent=b:a.innerText=b;else if(j===l.TEXT_NODE||j===l.CDATA_SECTION_NODE)a.nodeValue=b},_getText:function(c){return c.textContent}});return f});
KISSY.add("dom/base/class",["./api"],function(i,n){function m(b){for(var b=i.trim(b||""),b=b.split(d),a=[],g,c=b.length,e=0;e<c;e++)(g=b[e])&&a.push(g);return a}function r(b){return function(a,g){var c,e,f,d=a.classList,j=l.call(arguments,2);c=0;for(e=g.length;c<e;c++)(f=g[c])&&d[b].apply(d,[f].concat(j))}}function f(b){return function(f,g){var c=m(g),e=l.call(arguments,2);h.query(f).each(function(g){g.nodeType===a.ELEMENT_NODE&&h[b].apply(h,[g,c].concat(e))})}}var h=n("./api"),l=[].slice,a=h.NodeType,
d=/[\.\s]\s*\.?/;i.mix(h,{_hasClass:function(b,a){var g,c,e,f=b.classList;if(f.length){g=0;for(c=a.length;g<c;g++)if((e=a[g])&&!f.contains(e))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(b,f){var g=!1,f=m(f);h.query(b).each(function(c){if(c.nodeType===a.ELEMENT_NODE&&h._hasClass(c,f))return g=!0,!1});return g},replaceClass:function(a,f,g){h.removeClass(a,f);h.addClass(a,g)},addClass:f("_addClass"),removeClass:f("_removeClass"),
toggleClass:f("_toggleClass")});return h});
KISSY.add("dom/base/create",["./api","ua"],function(i,n){function m(a){a=a&&a!==b?a.createElement(c):e;a===e&&(a.innerHTML="");return a}function r(c,a){var b=m(a);b.innerHTML="m<div>"+c+"</div>";return b.lastChild}function f(c,a){if(a)if(o&&a.canHaveChildren&&"removeNode"in c){if(c.firstChild)a:{try{c.innerHTML="";break a}catch(b){}for(var e;e=c.lastChild;)f(e,c)}c.removeNode(!1)}else a.removeChild(c)}function h(c,a,b){var e=a.nodeType;if(e===k.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;b=b.childNodes;
for(e=0;a[e];)b[e]&&h(c,a[e],b[e]),e++}else if(e===k.ELEMENT_NODE){a=a.getElementsByTagName("*");b=b.getElementsByTagName("*");for(e=0;a[e];)b[e]&&c(a[e],b[e]),e++}}function l(c,a){var b=i.require("event/dom"),e,g;if(a.nodeType!==k.ELEMENT_NODE||d.hasData(c)){e=d.data(c);for(g in e)d.data(a,g,e[g]);b&&b.clone(c,a)}}function a(c){var a=null,b,e;if(c&&(c.push||c.item)&&c[0]){a=c[0].ownerDocument;a=a.createDocumentFragment();c=i.makeArray(c);b=0;for(e=c.length;b<e;b++)a.appendChild(c[b])}return a}var d=
n("./api"),b=i.Env.host.document,k=d.NodeType,g=n("ua").ieMode,c="div",e=b&&b.createElement(c),x=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,j=/^\s+/,u=/\s+$/,o=!!(g&&9>g),q=o,z=/<|&#?\w+;/,E=b&&"outerHTML"in b.documentElement,t=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;i.mix(d,{create:function(e,g,f,h){var o=null;if(!e)return o;if(e.nodeType)return d.clone(e);if("string"!==typeof e)return o;void 0===h&&(h=!0);h&&(e=i.trim(e));var h=d._creators,l,w,f=f||b,y,J=c;if(z.test(e))if(y=
t.exec(e))o=f.createElement(y[1]);else{e=e.replace(x,"<$1></$2>");if((y=v.exec(e))&&(l=y[1]))J=l.toLowerCase();l=(h[J]||r)(e,f);q&&(w=e.match(j))&&l.insertBefore(f.createTextNode(w[0]),l.firstChild);q&&/\S/.test(e)&&(w=e.match(u))&&l.appendChild(f.createTextNode(w[0]));e=l.childNodes;1===e.length?o=e[0].parentNode.removeChild(e[0]):e.length&&(o=a(e))}else o=f.createTextNode(e);i.isPlainObject(g)&&(o.nodeType===k.ELEMENT_NODE?d.attr(o,g,!0):o.nodeType===k.DOCUMENT_FRAGMENT_NODE&&d.attr(o.childNodes,
g,!0));return o},_fixCloneAttributes:function(c,a){var b=c.nodeName.toLowerCase(),e=(c.type||"").toLowerCase();if("textarea"===b)a.defaultValue=c.defaultValue,a.value=c.value;else if("input"===b&&("checkbox"===e||"radio"===e)){if(b=c.checked)a.defaultChecked=a.checked=b;b=c.value;a.value!==b&&(a.value=b)}},_creators:{div:r},_defaultCreator:r,html:function(c,a,b){var c=d.query(c),e=c[0],g=!1,f,w;if(!e)return null;if(void 0===a)return e.nodeType===k.ELEMENT_NODE?e.innerHTML:e.nodeType===k.DOCUMENT_FRAGMENT_NODE?
(b=m(e.ownerDocument),b.appendChild(e),b.innerHTML):null;a+="";if(!a.match(/<(?:script|style|link)/i)&&(!q||!a.match(j))&&!A[(a.match(v)||["",""])[1].toLowerCase()])try{for(f=c.length-1;0<=f;f--)w=c[f],w.nodeType===k.ELEMENT_NODE&&(d.cleanData(w.getElementsByTagName("*")),w.innerHTML=a);g=!0}catch(y){}g||(a=d.create(a,0,e.ownerDocument,0),d.empty(c),d.append(a,c,b))},outerHtml:function(c,a,b){var c=d.query(c),e=c.length,g=c[0];if(!g)return null;if(void 0===a){if(E&&g.nodeType!==k.DOCUMENT_FRAGMENT_NODE)return g.outerHTML;
a=m(g.ownerDocument);a.appendChild(d.clone(g,!0));return a.innerHTML}a+="";if(!a.match(/<(?:script|style|link)/i)&&E)for(b=e-1;0<=b;b--)g=c[b],g.nodeType===k.ELEMENT_NODE&&(d.cleanData(g,1),g.outerHTML=a);else a=d.create(a,0,g.ownerDocument,0),d.insertBefore(a,c,b),d.remove(c)},remove:function(c,a){var b,e=d.query(c),g,j=i.require("event/dom"),w;for(w=e.length-1;0<=w;w--)b=e[w],!a&&b.nodeType===k.ELEMENT_NODE&&(g=i.makeArray(b.getElementsByTagName("*")),g.push(b),d.removeData(g),j&&j.detach(g)),f(b,
b.parentNode)},clone:function(c,a,b,e){"object"===typeof a&&(e=a.deepWithDataAndEvent,b=a.withDataAndEvent,a=a.deep);var c=d.get(c),g,f=d._fixCloneAttributes,w;if(!c)return null;w=c.nodeType;g=c.cloneNode(a);if(w===k.ELEMENT_NODE||w===k.DOCUMENT_FRAGMENT_NODE)f&&w===k.ELEMENT_NODE&&f(c,g),a&&f&&h(f,c,g);b&&(l(c,g),a&&e&&h(l,c,g));return g},empty:function(c){var c=d.query(c),a,b;for(b=c.length-1;0<=b;b--)a=c[b],d.remove(a.childNodes)},_nodeListToFragment:a});d.outerHTML=d.outerHtml;var D=d._creators,
F=d.create,A={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},B;for(B in A)(function(c){D[B]=function(a,b){return F("<"+c+">"+a+"</"+c+">",void 0,b)}})(A[B]);D.option=D.optgroup=function(c,a){return F('<select multiple="multiple">'+c+"</select>",void 0,a)};return d});
KISSY.add("dom/base/data",["./api"],function(i,n){var m=n("./api"),r=i.Env.host,f="_ks_data_"+i.now(),h={},l={},a={applet:1,object:1,embed:1},d={hasData:function(a,c){if(a)if(void 0!==c){if(c in a)return!0}else if(!i.isEmptyObject(a))return!0;return!1}},b={hasData:function(a,c){return a==r?b.hasData(l,c):d.hasData(a[f],c)},data:function(a,c,e){if(a==r)return b.data(l,c,e);var d=a[f];if(void 0!==e)d=a[f]=a[f]||{},d[c]=e;else return void 0!==c?d&&d[c]:d=a[f]=a[f]||{}},removeData:function(a,c){if(a==
r)return b.removeData(l,c);var e=a[f];if(void 0!==c)delete e[c],i.isEmptyObject(e)&&b.removeData(a);else try{delete a[f]}catch(d){a[f]=void 0}}},k={hasData:function(a,c){var b=a[f];return!b?!1:d.hasData(h[b],c)},data:function(b,c,e){if(!a[b.nodeName.toLowerCase()]){var d=b[f];if(!d){if(void 0!==c&&void 0===e)return;d=b[f]=i.guid()}b=h[d];if(void 0!==e)b=h[d]=h[d]||{},b[c]=e;else return void 0!==c?b&&b[c]:b=h[d]=h[d]||{}}},removeData:function(a,c){var b=a[f],d;if(b)if(d=h[b],void 0!==c)delete d[c],
i.isEmptyObject(d)&&k.removeData(a);else{delete h[b];try{delete a[f]}catch(v){a[f]=void 0}a.removeAttribute&&a.removeAttribute(f)}}};i.mix(m,{__EXPANDO:f,hasData:function(a,c){for(var e=!1,f=m.query(a),d=0;d<f.length&&!(e=f[d],e=e.nodeType?k.hasData(e,c):b.hasData(e,c));d++);return e},data:function(a,c,e){var a=m.query(a),f=a[0];if(i.isPlainObject(c))for(var d in c)m.data(a,d,c[d]);else if(void 0===e){if(f)return f.nodeType?k.data(f,c):b.data(f,c)}else for(d=a.length-1;0<=d;d--)f=a[d],f.nodeType?
k.data(f,c,e):b.data(f,c,e)},removeData:function(a,c){var e=m.query(a),f,d;for(d=e.length-1;0<=d;d--)f=e[d],f.nodeType?k.removeData(f,c):b.removeData(f,c)},cleanData:function(a,c){var e=m.query(a),f,d,j=i.require("event/dom");for(d=e.length-1;0<=d;d--)if(f=e[d],f.nodeType){var h=c&&i.makeArray(f.getElementsByTagName("*"))||[];h.push(f);f=0;for(var o=h.length;f<o;f++)k.removeData(h[f]);j&&j.detach(h)}else b.removeData(f)}});return m});
KISSY.add("dom/base/insertion",["./api"],function(i,n){function m(c,e){var f=[],h,j,u;for(h=0;c[h];h++)if(j=c[h],u=d(j),j.nodeType===l.DOCUMENT_FRAGMENT_NODE)f.push.apply(f,m(b(j.childNodes),e));else if("script"===u&&(!j.type||g.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),e&&e.push(j);else{if(j.nodeType===l.ELEMENT_NODE&&!a.test(u)){u=[];var i,q,z=j.getElementsByTagName("script");for(q=0;q<z.length;q++)i=z[q],(!i.type||g.test(i.type))&&u.push(i);k.apply(c,[h+1,0].concat(u))}f.push(j)}return f}
function r(a){a.src?i.getScript(a.src):(a=i.trim(a.text||a.textContent||a.innerHTML||""))&&i.globalEval(a)}function f(a,b,f,d){a=h.query(a);d&&(d=[]);a=m(a,d);h._fixInsertionChecked&&h._fixInsertionChecked(a);var b=h.query(b),j,g,o,q,k=b.length;if((a.length||d&&d.length)&&k){a=h._nodeListToFragment(a);1<k&&(q=h.clone(a,!0),b=i.makeArray(b));for(j=0;j<k;j++)g=b[j],a&&(o=0<j?h.clone(q,!0):a,f(o,g)),d&&d.length&&i.each(d,r)}}var h=n("./api"),l=h.NodeType,a=/^(?:button|input|object|select|textarea)$/i,
d=h.nodeName,b=i.makeArray,k=[].splice,g=/\/(java|ecma)script/i;i.mix(h,{_fixInsertionChecked:null,insertBefore:function(a,b,d){f(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,b,d){f(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},d)},appendTo:function(a,b,d){f(a,b,function(a,b){b.appendChild(a)},d)},prependTo:function(a,b,d){f(a,b,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,b){b=h.clone(h.get(b),!0);
a=h.query(a);a[0].parentNode&&h.insertBefore(b,a[0]);for(var f;(f=b.firstChild)&&1===f.nodeType;)b=f;h.appendTo(a,b)},wrap:function(a,b){a=h.query(a);b=h.get(b);i.each(a,function(a){h.wrapAll(a,b)})},wrapInner:function(a,b){a=h.query(a);b=h.get(b);i.each(a,function(a){var c=a.childNodes;c.length?h.wrapAll(c,b):a.appendChild(b)})},unwrap:function(a){a=h.query(a);i.each(a,function(a){a=a.parentNode;h.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var f=h.query(a),b=h.query(b);h.remove(b,!0);
h.insertBefore(b,f);h.remove(f)}});i.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){h[b]=h[a]});return h});
KISSY.add("dom/base/offset",["./api","ua"],function(i,n){function m(a){var f,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};f=a.getBoundingClientRect();a=f[c];f=f[e];a-=b.clientLeft||d.clientLeft||0;f-=b.clientTop||d.clientTop||0;return{left:a,top:f}}function r(a,b){var c={left:0,top:0},d=k(a),e,g=a,b=b||d;do{if(d==b){var h=g;e=m(h);h=k(h);e.left+=f[x](h);e.top+=f[v](h)}else e=m(g);c.left+=e.left;c.top+=e.top}while(d&&d!=b&&(g=d.frameElement)&&(d=d.parent));return c}var f=
n("./api"),h=i.Env.host,l=n("ua"),a=h.document,d=f.NodeType,b=a&&a.documentElement,k=f.getWindow,g=Math.max,c="left",e="top",x="scrollLeft",v="scrollTop";i.mix(f,{offset:function(a,b,c){if(void 0===b){var a=f.get(a),d;a&&(d=r(a,c));return d}c=f.query(a);for(d=c.length-1;0<=d;d--){var a=c[d],e=b;"static"===f.css(a,"position")&&(a.style.position="relative");var g=r(a),h={},i=void 0,k=void 0;for(k in e)i=parseFloat(f.css(a,k))||0,h[k]=i+e[k]-g[k];f.css(a,h)}},scrollIntoView:function(a,b,g,h){var l,m,
t,n;if(t=f.get(a)){b&&(b=f.get(b));b||(b=t.ownerDocument);b.nodeType===d.DOCUMENT_NODE&&(b=k(b));i.isPlainObject(g)&&(h=g.allowHorizontalScroll,n=g.onlyScrollIfNeeded,g=g.alignWithTop);h=void 0===h?!0:h;m=i.isWindow(b);var a=f.offset(t),r=f.outerHeight(t);l=f.outerWidth(t);var v,B,p,s;m?(m=b,v=f.height(m),B=f.width(m),s={left:f.scrollLeft(m),top:f.scrollTop(m)},m=a[c]-s[c],t=a[e]-s[e],l=a[c]+l-(s[c]+B),a=a[e]+r-(s[e]+v)):(v=f.offset(b),B=b.clientHeight,p=b.clientWidth,s={left:f.scrollLeft(b),top:f.scrollTop(b)},
m=a[c]-(v[c]+(parseFloat(f.css(b,"borderLeftWidth"))||0)),t=a[e]-(v[e]+(parseFloat(f.css(b,"borderTopWidth"))||0)),l=a[c]+l-(v[c]+p+(parseFloat(f.css(b,"borderRightWidth"))||0)),a=a[e]+r-(v[e]+B+(parseFloat(f.css(b,"borderBottomWidth"))||0)));if(n){if(0>t||0<a)!0===g?f.scrollTop(b,s.top+t):!1===g?f.scrollTop(b,s.top+a):0>t?f.scrollTop(b,s.top+t):f.scrollTop(b,s.top+a)}else(g=void 0===g?!0:!!g)?f.scrollTop(b,s.top+t):f.scrollTop(b,s.top+a);if(h)if(n){if(0>m||0<l)!0===g?f.scrollLeft(b,s.left+m):!1===
g?f.scrollLeft(b,s.left+l):0>m?f.scrollLeft(b,s.left+m):f.scrollLeft(b,s.left+l)}else void 0===g||g?f.scrollLeft(b,s.left+m):f.scrollLeft(b,s.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});i.each(["Left","Top"],function(a,b){var c="scroll"+a;f[c]=function(e,g){if("number"===typeof e)return arguments.callee(h,e);var e=f.get(e),i,l,m,n;e&&e.nodeType===d.ELEMENT_NODE?void 0!==g?e[c]=parseFloat(g):i=e[c]:(n=k(e),void 0!==g?(g=parseFloat(g),l="Left"===a?g:
f.scrollLeft(n),m="Top"===a?g:f.scrollTop(n),n.scrollTo(l,m)):(i=n["page"+(b?"Y":"X")+"Offset"],"number"!==typeof i&&(l=n.document,i=l.documentElement[c],"number"!==typeof i&&(i=l.body[c]))));return i}});i.each(["Width","Height"],function(a){f["doc"+a]=function(b){b=f.get(b);b=f.getDocument(b);return g(b.documentElement["scroll"+a],b.body["scroll"+a],f["viewport"+a](b))};f["viewport"+a]=function(b){var b=f.get(b),c=k(b),b=c["inner"+a];if(l.mobile&&b)return b;var b="client"+a,c=c.document,d=c.body,
e=c.documentElement[b];return"CSS1Compat"===c.compatMode&&e||d&&d[b]||e}});return f});
KISSY.add("dom/base/style",["./api","ua"],function(i,n){function m(a){if(B[a])return B[a];var b=g(a);return b&&b.propertyName||a}function r(a,b,c){var f={},d=a.style,e;for(e in b)f[e]=d[e],d[e]=b[e];c.call(a);for(e in b)d[e]=f[e]}function f(a,b,c){var f,e,d;if(!(3===a.nodeType||8===a.nodeType||!(f=a.style)))if(b=I(b),d=A[b],b=m(b),void 0!==c){null===c||c===t?c=t:!isNaN(Number(c))&&!E[b]&&(c+=D);d&&d.set&&(c=d.set(a,c));if(void 0!==c){try{f[b]=c}catch(g){}c===t&&f.removeAttribute&&f.removeAttribute(b)}f.cssText||
a.removeAttribute("style")}else{if(!d||!("get"in d&&void 0!==(e=d.get(a,!1))))e=f[b];return void 0===e?"":e}}function h(a){var b,c=arguments;0!==a.offsetWidth?b=d.apply(void 0,c):r(a,L,function(){b=d.apply(void 0,c)});return b}function l(a,c,f,d){var e=0,g,h,i;for(h=0;h<c.length;h++)if(g=c[h])for(i=0;i<f.length;i++)e+=parseFloat(b._getComputedStyle(a,"border"===g?g+f[i]+"Width":g+f[i],d))||0;return e}function a(a){var b=a.ownerDocument,c;b.defaultView&&(c=b.defaultView.getComputedStyle(a,null));return c}
function d(f,d,g){if(i.isWindow(f))return d===q?b.viewportWidth(f):b.viewportHeight(f);if(9===f.nodeType)return d===q?b.docWidth(f):b.docHeight(f);var h=d===q?["Left","Right"]:["Top","Bottom"],p=d===q?f.offsetWidth:f.offsetHeight,j=a(f),k="border-box"===b._getComputedStyle(f,"boxSizing",j),s=0;if(null==p||0>=p){p=void 0;s=b._getComputedStyle(f,d,j);if(null==s||0>Number(s))s=f.style[d]||0;s=parseFloat(s)||0}void 0===g&&(g=k?v:e);d=void 0!==p||k;p=p||s;return g===e?d?p-l(f,["border","padding"],h,j):
s:d?p+(g===v?0:g===x?-l(f,["border"],h,j):l(f,["margin"],h,j)):s+l(f,c.slice(g),h,j)}var b=n("./api"),k=i.Env.host,g=i.Feature.getCssVendorInfo;n("ua");var c=["margin","border","padding"],e=-1,x=2,v=1,j=b.nodeName,u=k.document||{},o=/^margin/,q="width",z="display"+i.now(),E={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},t="",D="px",F=/\d(?!px)[a-z%]+$/i,A={},B={},p={},s=g("userSelect"),H=s&&s.propertyName,I=i.camelCase;B["float"]="cssFloat";i.mix(b,{_cssHooks:A,
_cssProps:B,_getComputedStyle:function(a,c,f){var d="",e,g;e=a.ownerDocument;c=m(c);if(f=f||e.defaultView.getComputedStyle(a,null))d=f.getPropertyValue(c)||f[c];""===d&&!b.contains(e,a)&&(d=a.style[c]);b._RE_NUM_NO_PX.test(d)&&o.test(c)&&(g=a.style,a=g.width,c=g.minWidth,e=g.maxWidth,g.minWidth=g.maxWidth=g.width=d,d=f.width,g.width=a,g.minWidth=c,g.maxWidth=e);return d},style:function(a,c,d){var a=b.query(a),e,g=a[0];if(i.isPlainObject(c))for(e in c)for(g=a.length-1;0<=g;g--)f(a[g],e,c[e]);else{if(void 0===
d)return e="",g&&(e=f(g,c,d)),e;for(g=a.length-1;0<=g;g--)f(a[g],c,d)}},css:function(a,c,d){var a=b.query(a),e=a[0],g;if(i.isPlainObject(c))for(g in c)for(e=a.length-1;0<=e;e--)f(a[e],g,c[g]);else{c=I(c);g=A[c];if(void 0===d){d="";if(e&&(!g||!("get"in g&&void 0!==(d=g.get(e,!0)))))d=b._getComputedStyle(e,c);return"undefined"===typeof d?"":d}for(e=a.length-1;0<=e;e--)f(a[e],c,d)}},show:function(a){var a=b.query(a),c,d,f;for(f=a.length-1;0<=f;f--)if(d=a[f],d.style.display=b.data(d,z)||t,"none"===b.css(d,
"display")){c=d.tagName.toLowerCase();var e=void 0,g=p[c],h=void 0;p[c]||(e=u.body||u.documentElement,h=u.createElement(c),b.prepend(h,e),g=b.css(h,"display"),e.removeChild(h),p[c]=g);c=g;b.data(d,z,c);d.style.display=c}},hide:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--){c=a[d];var f=c.style,e=f.display;"none"!==e&&(e&&b.data(c,z,e),f.display="none")}},toggle:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--)c=a[d],"none"===b.css(c,"display")?b.show(c):b.hide(c)},addStyleSheet:function(a,
c,d){"string"===typeof a&&(d=c,c=a,a=k);var a=b.getDocument(a),f;if(d&&(d=d.replace("#",t)))f=b.get("#"+d,a);f||(f=b.create("<style>",{id:d},a),b.get("head",a).appendChild(f),f.styleSheet?f.styleSheet.cssText=c:f.appendChild(a.createTextNode(c)))},unselectable:H?function(a){var a=b.query(a),c,d,f=0,e,g;for(d=a.length-1;0<=d;d--){c=a[d];g=c.getElementsByTagName("*");c.setAttribute("unselectable","on");for(e=["iframe","textarea","input","select"];c=g[f++];)i.inArray(j(c),e)||c.setAttribute("unselectable",
"on")}}:function(a){for(var a=b.query(a),c=a.length-1;0<=c;c--)a[c].style[H]="none"},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});i.each([q,"height"],function(c){b["inner"+i.ucfirst(c)]=function(a){return(a=b.get(a))&&h(a,c,x)};b["outer"+i.ucfirst(c)]=function(a,d){var f=b.get(a);return f&&h(f,c,d?0:v)};var d=c===q?["Left","Right"]:["Top","Bottom"];b[c]=function(f,g){var i=b.get(f);if(void 0!==g){if(i){var p=a(i);"border-box"===b._getComputedStyle(i,"boxSizing",p)&&(g+=
l(i,["padding","border"],d,p));return b.css(i,c,g)}}else return i&&h(i,c,e)};A[c]={get:function(a,b){var d;b&&(d=h(a,c)+"px");return d}}});var L={position:"absolute",visibility:"hidden",display:"block"};i.each(["left","top"],function(a){A[a]={get:function(c,d){var f,e,g;if(d){g=b.css(c,"position");if("static"===g)return"auto";f=b._getComputedStyle(c,a);if((e="auto"===f)&&"relative"===g)return"0px";if(e||F.test(f)){g={top:0,left:0};if("fixed"===b.css(c,"position"))e=c.getBoundingClientRect();else{for(f=
c.offsetParent||(c.ownerDocument||u).body;f&&!M.test(f.nodeName)&&"static"===b.css(f,"position");)f=f.offsetParent;e=b.offset(c);g=b.offset(f);g.top+=parseFloat(b.css(f,"borderTopWidth"))||0;g.left+=parseFloat(b.css(f,"borderLeftWidth"))||0}e.top-=parseFloat(b.css(c,"marginTop"))||0;e.left-=parseFloat(b.css(c,"marginLeft"))||0;f={top:e.top-g.top,left:e.left-g.left}[a]+"px"}}return f}}});var M=/^(?:body|html)$/i;return b});
KISSY.add("dom/base/selector",["./api"],function(i,n){function m(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function r(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function f(a){return function(b){var d=g._getElementById(a,c);return d&&g._contains(b,d)?[d]:[]}}function h(a){return function(b){return b.getElementsByClassName(a)}}function l(a){return function(b){return b.getElementsByTagName(a)}}function a(b,d){var e,k,n="string"===
typeof b,q=void 0!==d?a(d):(k=1)&&[c],w=q.length;if(b)if(n){b=B(b);if(k)if("body"===b)e=[c.body];else if(E.test(b)&&v)e=u(c.getElementsByClassName(RegExp.$1));else if(F.test(b))e=(k=g._getElementById(RegExp.$2,c))&&k.nodeName.toLowerCase()===RegExp.$1?[k]:[];else if(t.test(b))e=(k=g._getElementById(b.substr(1),c))?[k]:[];else if(D.test(b))e=u(c.getElementsByTagName(b));else if(!b.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&v){e=b.split(/\s+/);var y=q,x,A;k=0;for(n=
e.length;k<n;k++){x=e;A=k;var C;C=e[k];var G=C.charAt(0);C="#"===G?f(r(C)):"."===G?h(r(C)):l(C);x[A]=C}k=0;for(n=e.length;k<n;k++){C=e[k];var G=[],K;x=0;for(A=y.length;x<A;x++)K=C(y[x]),G.push.apply(G,u(K));y=G;if(!y.length)break}e=y&&1<y.length?g.unique(y):y}if(!e){e=[];for(k=0;k<w;k++)z.apply(e,g._selectInternal(b,q[k]));1<e.length&&1<w&&g.unique(e)}}else{if(e=b.nodeType||i.isWindow(b)?[b]:b.getDOMNodes?b.getDOMNodes():j(b)?b:o(b)?u(b):[b],!k){n=e;x=n.length;e=[];for(k=0;k<x;k++)for(y=0;y<w;y++)if(g._contains(q[y],
n[k])){e.push(n[k]);break}}}else e=[];e.each=m;return e}function d(a,c){var d=a&&b(a,"class");return d&&(d=d.replace(/[\r\t\n]/g,q))&&-1<(q+d+q).indexOf(q+c+q)}function b(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function k(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var g=n("./api"),c=i.Env.host.document,e=c.documentElement,x=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector,v="getElementsByClassName"in
c,j=i.isArray,u=i.makeArray,o=g.isDomNodeList,q=" ",z=Array.prototype.push,E=/^\.([\w-]+)$/,t=/^#([\w-]+)$/,D=/^([\w-])+$/,F=/^([\w-]+)#([\w-]+)$/,A=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,B=i.trim;i.mix(g,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return u(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:b,_isTag:k,_hasSingleClass:d,_matchesInternal:function(a,b){for(var c=[],d=0,e,f=b.length;d<f;d++)e=b[d],x.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return u(b.querySelectorAll(a))},query:a,get:function(b,c){return a(b,c)[0]||null},unique:function(){function a(c,d){return c===d?(b=!0,0):g._compareNodeOrder(c,d)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){b=c;d.sort(a);if(b)for(var e=1,f=d.length;e<f;)d[e]===d[e-1]?(d.splice(e,1),--f):e++;return d}}(),
filter:function(c,e,f){var c=a(c,f),h,j,l,m,f=[];if("string"===typeof e&&(e=B(e))&&(l=A.exec(e)))h=l[1],j=l[2],m=l[3],h?h&&!j&&!m&&(e=function(a){return b(a,"id")===h}):e=function(a){var b=!0,c=!0;j&&(b=k(a,j));m&&(c=d(a,m));return c&&b};return f="function"===typeof e?i.filter(c,e):g._matchesInternal(e,c)},test:function(b,c,d){b=a(b,d);return b.length&&g.filter(b,c,d).length===b.length}});return g});
KISSY.add("dom/base/traversal",["./api"],function(i,n){function m(a,d,b,f,g,c,e){if(!(a=h.get(a)))return null;if(0===d)return a;c||(a=a[b]);if(!a)return null;g=g&&h.get(g)||null;void 0===d&&(d=1);var c=[],m=i.isArray(d),n,j;"number"===typeof d&&(n=0,j=d,d=function(){return++n===j});for(;a&&a!==g;){if((a.nodeType===l.ELEMENT_NODE||a.nodeType===l.TEXT_NODE&&e)&&r(a,d)&&(!f||f(a)))if(c.push(a),!m)break;a=a[b]}return m?c:c[0]||null}function r(a,d){if(!d)return!0;if(i.isArray(d)){var b,f=d.length;if(!f)return!0;
for(b=0;b<f;b++)if(h.test(a,d[b]))return!0}else if(h.test(a,d))return!0;return!1}function f(a,d,b,f){var g=[],c,e;if((c=a=h.get(a))&&b)c=a.parentNode;if(c){b=i.makeArray(c.childNodes);for(c=0;c<b.length;c++)e=b[c],(f||e.nodeType===l.ELEMENT_NODE)&&e!==a&&g.push(e);d&&(g=h.filter(g,d))}return g}var h=n("./api"),l=h.NodeType;i.mix(h,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,b,f){return m(a,d,"parentNode",function(a){return a.nodeType!==l.DOCUMENT_FRAGMENT_NODE},
b,!0,f)},parent:function(a,d,b){return m(a,d,"parentNode",function(a){return a.nodeType!==l.DOCUMENT_FRAGMENT_NODE},b,void 0)},first:function(a,d,b){a=h.get(a);return m(a&&a.firstChild,d,"nextSibling",void 0,void 0,!0,b)},last:function(a,d,b){a=h.get(a);return m(a&&a.lastChild,d,"previousSibling",void 0,void 0,!0,b)},next:function(a,d,b){return m(a,d,"nextSibling",void 0,void 0,void 0,b)},prev:function(a,d,b){return m(a,d,"previousSibling",void 0,void 0,void 0,b)},siblings:function(a,d,b){return f(a,
d,!0,b)},children:function(a,d){return f(a,d,void 0)},contents:function(a,d){return f(a,d,void 0,1)},contains:function(a,d){a=h.get(a);d=h.get(d);return a&&d?h._contains(a,d):!1},index:function(a,d){var b=h.query(a),f,g=0;f=b[0];if(!d){b=f&&f.parentNode;if(!b)return-1;for(;f=f.previousSibling;)f.nodeType===l.ELEMENT_NODE&&g++;return g}g=h.query(d);return"string"===typeof d?i.indexOf(f,g):i.indexOf(g[0],b)},equals:function(a,d){a=h.query(a);d=h.query(d);if(a.length!==d.length)return!1;for(var b=a.length;0<=
b;b--)if(a[b]!==d[b])return!1;return!0}});return h});KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(i,n){var m=n("./base/api");n("./base/attr");n("./base/class");n("./base/create");n("./base/data");n("./base/insertion");n("./base/offset");n("./base/style");n("./base/selector");n("./base/traversal");return i.DOM=m});
