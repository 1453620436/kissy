/*
Copyright 2013, KISSY v1.41
MIT Licensed
build time: Dec 2 15:14
*/
KISSY.add("dom/ie/create",["dom/base"],function(j,e){var f=e("dom/base");f._fixCloneAttributes=function(c,a){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(c);var b=a.nodeName.toLowerCase(),d=c.childNodes;if("object"===b&&!a.childNodes.length)for(b=0;b<d.length;b++)a.appendChild(d[b].cloneNode(!0));else if("input"===b&&("checkbox"===c.type||"radio"===c.type)){if(c.checked&&(a.defaultChecked=a.checked=c.checked),a.value!==c.value)a.value=c.value}else if("option"===b)a.selected=
c.defaultSelected;else if("input"===b||"textarea"===b)a.defaultValue=c.defaultValue,a.value=c.value;a.removeAttribute(f.__EXPANDO)};var i=f._creators,h=f._defaultCreator,n=/<tbody/i;8>j.UA.ieMode&&(i.table=function(c,a){var b=h(c,a);if(n.test(c))return b;var d=b.firstChild,k=j.makeArray(d.childNodes);j.each(k,function(a){"tbody"===f.nodeName(a)&&!a.childNodes.length&&d.removeChild(a)});return b})});
KISSY.add("dom/ie/insertion",["dom/base"],function(j,e){var f=e("dom/base");8>j.UA.ieMode&&(f._fixInsertionChecked=function h(e){for(var c=0;c<e.length;c++){var a=e[c];if(a.nodeType===f.NodeType.DOCUMENT_FRAGMENT_NODE)h(a.childNodes);else if("input"===f.nodeName(a)){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}else if(a.nodeType===f.NodeType.ELEMENT_NODE)for(var a=a.getElementsByTagName("input"),b=0;b<a.length;b++)h(a[b])}})});
KISSY.add("dom/ie/traversal",["dom/base"],function(j,e){var f=e("dom/base");f._contains=function(c,a){c.nodeType===f.NodeType.DOCUMENT_NODE&&(c=c.documentElement);a=a.parentNode;return c===a?!0:a&&a.nodeType===f.NodeType.ELEMENT_NODE?c.contains&&c.contains(a):!1};var i=document.createElement("div");i.appendChild(document.createComment(""));var h;h=i.getElementsByTagName("*").length?function(c,a){var b=a.getElementsByTagName(c),d="*"===c;if(d||"number"!==typeof b.length){for(var k=[],l=0,r;r=b[l++];)(!d||
1===r.nodeType)&&k.push(r);return k}return b}:function(c,a){return a.getElementsByTagName(c)};f._getElementsByTagName=h;var n=f._getSimpleAttr;f._getElementById=function(c,a){var b=a.getElementById(c);if(b&&n(b,"id")!==c)for(var d=h("*",a),k=0,l=d.length;k<l;k++)if(n(d[k],"id")===c)return d[k];return b}});
KISSY.add("dom/ie/transform",["dom/base"],function(j,e){function f(c){return[[c[0],c[2],c[4]],[c[1],c[3],c[5]],[0,0,1]]}function i(c,a){var b;if(2<arguments.length){var d=c;for(b=1;b<arguments.length;b++)d=i(d,arguments[b]);return d}var d=[],k=c.length,l=a.length,r=a[0].length;for(b=0;b<k;b++)for(var f=0;f<r;f++){for(var h=0,e=0;e<l;e++)h+=c[b][e]*a[e][f];var e=d,j=b,g=f;e[j]||(e[j]=[]);e[j][g]=h}return d}function h(c){return-1<c.indexOf("deg")?parseInt(c,10)*(2*Math.PI/360):parseFloat(c)}var n=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;
e("dom/base")._cssHooks.transform={get:function(c,a){var b=c[a?"currentStyle":"style"];if(b&&n.test(b.filter)){var b=RegExp.$1.split(","),d=0,k=0,l=b[4]&&b[4].split("="),f=b[5]&&b[5].split("=");l&&"dx"===l[0].toLowerCase()&&(d=parseFloat(l[1]));f&&"dy"===f[0].toLowerCase()&&(k=parseFloat(f[1]));b=[b[0].split("=")[1],b[2].split("=")[1],b[1].split("=")[1],b[3].split("=")[1],d,k]}else return a?"none":"";return"matrix("+b.join(",")+")"},set:function(c,a){var b=c.style,d,k=c.currentStyle,l,e={width:c.clientWidth,
height:c.clientHeight};l=e.width/2;var q=e.height/2,o=c.style.transformOrigin,o=(o||"50% 50%").split(/\s+/);1===o.length&&(o[1]=o[0]);for(var p=0;p<o.length;p++){var s=parseFloat(o[p]);o[p]=j.endsWith(o[p],"%")?s*e[p?"height":"width"]/100:s}e=o;b.zoom=1;if(a){d=a.split(")");for(var o=j.trim,p=-1,s=d.length-1,g,u,t=f([1,0,0,1,0,0]),m;++p<s;){g=d[p].split("(");u=o(g[0]);g=g[1];m=[1,0,0,1,0,0];switch(u){case "translateX":m[4]=parseInt(g,10);break;case "translateY":m[5]=parseInt(g,10);break;case "translate":g=
g.split(",");m[4]=parseInt(g[0],10);m[5]=parseInt(g[1]||0,10);break;case "rotate":g=h(g);m[0]=Math.cos(g);m[1]=Math.sin(g);m[2]=-Math.sin(g);m[3]=Math.cos(g);break;case "scaleX":m[0]=+g;break;case "scaleY":m[3]=+g;break;case "scale":g=g.split(",");m[0]=+g[0];m[3]=1<g.length?+g[1]:+g[0];break;case "skewX":m[2]=Math.tan(h(g));break;case "skewY":m[1]=Math.tan(h(g));break;case "matrix":g=g.split(","),m[0]=+g[0],m[1]=+g[1],m[2]=+g[2],m[3]=+g[3],m[4]=parseInt(g[4],10),m[5]=parseInt(g[5],10)}t=i(t,f(m))}a=
t;d=e[0];e=e[1];d=i([[1,0,d],[0,1,e],[0,0,1]],a,[[1,0,-d],[0,1,-e],[0,0,1]],[[l],[q],[1]]);d.x=d[0][0];d.y=d[1][0];l=["progid:DXImageTransform.Microsoft.Matrix(M11="+a[0][0],"M12="+a[0][1],"M21="+a[1][0],"M22="+a[1][1],"Dx="+a[0][2],"Dy="+a[1][2],'SizingMethod="auto expand"'].join()+")"}else l="";q=k&&k.filter||b.filter||"";if(!l&&!j.trim(q.replace(n,""))&&(b.removeAttribute("filter"),!l||k&&!k.filter))return;b.filter=n.test(q)?q.replace(n,l):q+(q?", ":"")+l;l?(k=c.offsetHeight/2,b.marginLeft=d.x-
c.offsetWidth/2+"px",b.marginTop=d.y-k+"px"):b.marginLeft=b.marginTop=0}}});
KISSY.add("dom/ie/input-selection",["dom/base"],function(j,e){function f(a,b){var d=0,c=0,l=a.ownerDocument.selection.createRange(),e=i(a);e.inRange(l)&&(e.setEndPoint("EndToStart",l),d=n(a,e).length,b&&(c=d+n(a,l).length));return[d,c]}function i(a){if("textarea"===a.type){var b=a.document.body.createTextRange();b.moveToElementText(a);return b}return a.createTextRange()}function h(a,b,d){var c=Math.min(b,d),e=Math.max(b,d);return c===e?0:"textarea"===a.type?(a=a.value.substring(c,e).replace(/\r\n/g,
"\n").length,b>d&&(a=-a),a):d-b}function n(a,b){if("textarea"===a.type){var d=b.text,c=b.duplicate();if(0===c.compareEndPoints("StartToEnd",c))return d;c.moveEnd("character",-1);c.text===d&&(d+="\r\n");return d}return b.text}var c=e("dom/base")._propHooks;c.selectionStart={set:function(a,b){var d=a.ownerDocument.selection.createRange();if(i(a).inRange(d)){var c=f(a,1)[1],e=h(a,b,c);d.collapse(!1);d.moveStart("character",-e);b>c&&d.collapse(!0);d.select()}},get:function(a){return f(a)[0]}};c.selectionEnd=
{set:function(a,c){var d=a.ownerDocument.selection.createRange();if(i(a).inRange(d)){var k=f(a)[0],e=h(a,k,c);d.collapse(!0);d.moveEnd("character",e);k>c&&d.collapse(!1);d.select()}},get:function(a){return f(a,1)[1]}}});
KISSY.add("dom/ie/attr",["dom/base"],function(j,e){function f(a){var b="",e=a.nodeType;if(e===i.NodeType.ELEMENT_NODE)for(a=a.firstChild;a;a=a.nextSibling)b+=f(a);else if(e===c.TEXT_NODE||e===c.CDATA_SECTION_NODE)b+=a.nodeValue;return b}var i=e("dom/base"),h=i._attrHooks,n=i._attrNodeHook,c=i.NodeType,a=i._valHooks,b=i._propFix;8>j.UA.ieMode&&(h.style.set=function(a,c){a.style.cssText=c},j.mix(n,{get:function(a,c){var b=a.getAttributeNode(c);return b&&(b.specified||b.nodeValue)?b.nodeValue:void 0},
set:function(a,b,c){var e=a.getAttributeNode(c),f;if(e)e.nodeValue=b;else try{f=a.ownerDocument.createAttribute(c),f.value=b,a.setAttributeNode(f)}catch(h){return a.setAttribute(c,b,0)}}}),j.mix(i._attrFix,b),h.tabIndex=h.tabindex,j.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){h[a]={get:function(b){b=b.getAttribute(a,2);return b===null?void 0:b}}}),a.button=h.value=n,h.placeholder={get:function(a,b){return a[b]||n.get(a,b)}},a.option={get:function(a){var b=a.attributes.value;
return!b||b.specified?a.value:a.text}});(h.href=h.href||{}).set=function(a,b,e){for(var f=a.childNodes,h,i=f.length,j=i>0,i=i-1;i>=0;i--)f[i].nodeType!==c.TEXT_NODE&&(j=0);if(j){h=a.ownerDocument.createElement("b");h.style.display="none";a.appendChild(h)}a.setAttribute(e,""+b);h&&a.removeChild(h)};i._getText=f;return i});
KISSY.add("dom/ie","./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/transform,./ie/input-selection,./ie/attr".split(","),function(j,e){e("./ie/create");e("./ie/insertion");e("./ie/style");e("./ie/traversal");e("./ie/transform");e("./ie/input-selection");return e("./ie/attr")});
