/*
Copyright 2013, KISSY v1.50dev
MIT Licensed
build time: Nov 27 00:40
*/
KISSY.add("dom/ie/create",["dom/base"],function(l,k){var e=k("dom/base");e._fixCloneAttributes=function(c,a){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(c);var b=a.nodeName.toLowerCase(),d=c.childNodes;if("object"===b&&!a.childNodes.length)for(b=0;b<d.length;b++)a.appendChild(d[b].cloneNode(!0));else if("input"===b&&("checkbox"===c.type||"radio"===c.type)){if(c.checked&&(a.defaultChecked=a.checked=c.checked),a.value!==c.value)a.value=c.value}else if("option"===b)a.selected=
c.defaultSelected;else if("input"===b||"textarea"===b)a.defaultValue=c.defaultValue,a.value=c.value;a.removeAttribute(e.__EXPANDO)};var m=e._creators,h=e._defaultCreator,i=/<tbody/i;8>l.UA.ieMode&&(m.table=function(c,a){var b=h(c,a);if(i.test(c))return b;var d=b.firstChild,f=l.makeArray(d.childNodes);l.each(f,function(a){"tbody"==e.nodeName(a)&&!a.childNodes.length&&d.removeChild(a)});return b})});
KISSY.add("dom/ie/insertion",["dom/base"],function(l,k){var e=k("dom/base");8>l.UA.ieMode&&(e._fixInsertionChecked=function h(i){for(var c=0;c<i.length;c++){var a=i[c];if(a.nodeType==e.NodeType.DOCUMENT_FRAGMENT_NODE)h(a.childNodes);else if("input"==e.nodeName(a)){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}else if(a.nodeType==e.NodeType.ELEMENT_NODE)for(var a=a.getElementsByTagName("input"),b=0;b<a.length;b++)h(a[b])}})});
KISSY.add("dom/ie/style",["dom/base"],function(l,k){var e=k("dom/base"),m=e._cssProps,h=l.UA,i=l.Env.host.document,i=i&&i.documentElement,c=/^(top|right|bottom|left)$/,a=e._cssHooks,b=/opacity\s*=\s*([^)]*)/,d=/alpha\([^)]*\)/i;m["float"]="styleFloat";a.backgroundPosition={get:function(a,d){return d?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==i.style.opacity&&(a.opacity={get:function(a,d){return b.test((d&&a.currentStyle?a.currentStyle.filter:
a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(a,b){var b=parseFloat(b),f=a.style,c=a.currentStyle,j=isNaN(b)?"":"alpha(opacity="+100*b+")",g=l.trim(c&&c.filter||f.filter||"");f.zoom=1;if((1<=b||!j)&&!l.trim(g.replace(d,"")))if(f.removeAttribute("filter"),!j||c&&!c.filter)return;f.filter=d.test(g)?g.replace(d,j):g+(g?", ":"")+j}})}catch(f){"IE filters ActiveX is disabled. ex = "+f}var h=8==h.ie,j={};j.thin=h?"1px":"2px";j.medium=h?"3px":"4px";j.thick=h?"5px":"6px";l.each(["",
"Top","Left","Right","Bottom"],function(d){var b="border"+d+"Width",f="border"+d+"Style";a[b]={get:function(a,d){var c=d?a.currentStyle:0,o=c&&""+c[b]||void 0;o&&0>o.indexOf("px")&&(o=j[o]&&"none"!==c[f]?j[o]:0);return o}}});e._getComputedStyle=function(a,d){var d=m[d]||d,b=a.currentStyle&&a.currentStyle[d];if(e._RE_NUM_NO_PX.test(b)&&!c.test(d)){var f=a.style,j=f.left,g=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;f.left="fontSize"===d?"1em":b||0;b=f.pixelLeft+"px";f.left=j;a.runtimeStyle.left=
g}return""===b?"auto":b}});
KISSY.add("dom/ie/traversal",["dom/base"],function(l,k){var e=k("dom/base");e._contains=function(c,a){c.nodeType==e.NodeType.DOCUMENT_NODE&&(c=c.documentElement);a=a.parentNode;return c==a?!0:a&&a.nodeType==e.NodeType.ELEMENT_NODE?c.contains&&c.contains(a):!1};var m=document.createElement("div");m.appendChild(document.createComment(""));var h;h=m.getElementsByTagName("*").length?function(c,a){var b=a.getElementsByTagName(c),d="*"==c;if(d||"number"!=typeof b.length){for(var f=[],j=0,o;o=b[j++];)(!d||
1===o.nodeType)&&f.push(o);return f}return b}:function(c,a){return a.getElementsByTagName(c)};e._getElementsByTagName=h;var i=e._getSimpleAttr;e._getElementById=function(c,a){var b=a.getElementById(c);if(b&&i(b,"id")!==c)for(var d=h("*",a),f=0,j=d.length;f<j;f++)if(i(d[f],"id")==c)return d[f];return b}});
KISSY.add("dom/ie/transform",["dom/base"],function(l,k){function e(c){return[[c[0],c[2],c[4]],[c[1],c[3],c[5]],[0,0,1]]}function m(c,a){if(2<arguments.length){for(var b=c,d=1;d<arguments.length;d++)b=m(b,arguments[d]);return b}for(var b=[],f=c.length,j=a.length,o=a[0].length,d=0;d<f;d++)for(var e=0;e<o;e++){for(var h=0,i=0;i<j;i++)h+=c[d][i]*a[i][e];var i=b,l=d,g=e;i[l]||(i[l]=[]);i[l][g]=h}return b}function h(c){return-1<c.indexOf("deg")?parseInt(c,10)*(2*Math.PI/360):parseFloat(c)}var i=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;
k("dom/base")._cssHooks.transform={get:function(c,a){var b=c[a?"currentStyle":"style"];if(b&&i.test(b.filter)){var b=RegExp.$1.split(","),d=0,f=0,j=b[4]&&b[4].split("="),e=b[5]&&b[5].split("=");j&&"dx"==j[0].toLowerCase()&&(d=parseFloat(j[1]));e&&"dy"==e[0].toLowerCase()&&(f=parseFloat(e[1]));b=[b[0].split("=")[1],b[2].split("=")[1],b[1].split("=")[1],b[3].split("=")[1],d,f]}else return a?"none":"";return"matrix("+b.join(",")+")"},set:function(c,a){var b=c.style,d=c.currentStyle,f,j={width:c.clientWidth,
height:c.clientHeight};f=j.width/2;var o=j.height/2,q=c.style.transformOrigin,q=(q||"50% 50%").split(/\s+/);1==q.length&&(q[1]=q[0]);for(var k=0;k<q.length;k++){var r=parseFloat(q[k]);q[k]=l.endsWith(q[k],"%")?r*j[k?"height":"width"]/100:r}j=q;b.zoom=1;if(a){var p;p=a.split(")");for(var q=l.trim,k=-1,r=p.length-1,g,t,s=e([1,0,0,1,0,0]),n;++k<r;){g=p[k].split("(");t=q(g[0]);g=g[1];n=[1,0,0,1,0,0];switch(t){case "translateX":n[4]=parseInt(g,10);break;case "translateY":n[5]=parseInt(g,10);break;case "translate":g=
g.split(",");n[4]=parseInt(g[0],10);n[5]=parseInt(g[1]||0,10);break;case "rotate":g=h(g);n[0]=Math.cos(g);n[1]=Math.sin(g);n[2]=-Math.sin(g);n[3]=Math.cos(g);break;case "scaleX":n[0]=+g;break;case "scaleY":n[3]=+g;break;case "scale":g=g.split(",");n[0]=+g[0];n[3]=1<g.length?+g[1]:+g[0];break;case "skewX":n[2]=Math.tan(h(g));break;case "skewY":n[1]=Math.tan(h(g));break;case "matrix":g=g.split(","),n[0]=+g[0],n[1]=+g[1],n[2]=+g[2],n[3]=+g[3],n[4]=parseInt(g[4],10),n[5]=parseInt(g[5],10)}s=m(s,e(n))}a=
s;p=j[0];j=j[1];p=m([[1,0,p],[0,1,j],[0,0,1]],a,[[1,0,-p],[0,1,-j],[0,0,1]],[[f],[o],[1]]);p.x=p[0][0];p.y=p[1][0];f=["progid:DXImageTransform.Microsoft.Matrix(M11="+a[0][0],"M12="+a[0][1],"M21="+a[1][0],"M22="+a[1][1],"Dx="+a[0][2],"Dy="+a[1][2],'SizingMethod="auto expand"'].join()+")"}else f="";o=d&&d.filter||b.filter||"";if(!f&&!l.trim(o.replace(i,""))&&(b.removeAttribute("filter"),!f||d&&!d.filter))return;b.filter=i.test(o)?o.replace(i,f):o+(o?", ":"")+f;f?(d=c.offsetHeight/2,b.marginLeft=p.x-
c.offsetWidth/2+"px",b.marginTop=p.y-d+"px"):b.marginLeft=b.marginTop=0}}});
KISSY.add("dom/ie/input-selection",["dom/base"],function(l,k){function e(a,b){var d=0,f=0,c=a.ownerDocument.selection.createRange(),e=m(a);e.inRange(c)&&(e.setEndPoint("EndToStart",c),d=i(a,e).length,b&&(f=d+i(a,c).length));return[d,f]}function m(a){if("textarea"==a.type){var b=a.document.body.createTextRange();b.moveToElementText(a);return b}return a.createTextRange()}function h(a,b,d){var f=Math.min(b,d),c=Math.max(b,d);return f==c?0:"textarea"==a.type?(a=a.value.substring(f,c).replace(/\r\n/g,
"\n").length,b>d&&(a=-a),a):d-b}function i(a,b){if("textarea"==a.type){var d=b.text,c=b.duplicate();if(0==c.compareEndPoints("StartToEnd",c))return d;c.moveEnd("character",-1);c.text==d&&(d+="\r\n");return d}return b.text}var c=k("dom/base")._propHooks;c.selectionStart={set:function(a,b){var d=a.ownerDocument.selection.createRange();if(m(a).inRange(d)){var c=e(a,1)[1],j=h(a,b,c);d.collapse(!1);d.moveStart("character",-j);b>c&&d.collapse(!0);d.select()}},get:function(a){return e(a)[0]}};c.selectionEnd=
{set:function(a,b){var d=a.ownerDocument.selection.createRange();if(m(a).inRange(d)){var c=e(a)[0],j=h(a,c,b);d.collapse(!0);d.moveEnd("character",j);c>b&&d.collapse(!1);d.select()}},get:function(a){return e(a,1)[1]}}});
KISSY.add("dom/ie/attr",["dom/base"],function(l,k){function e(a){var b="",j=a.nodeType;if(j===m.NodeType.ELEMENT_NODE)for(a=a.firstChild;a;a=a.nextSibling)b+=e(a);else if(j==c.TEXT_NODE||j==c.CDATA_SECTION_NODE)b+=a.nodeValue;return b}var m=k("dom/base"),h=m._attrHooks,i=m._attrNodeHook,c=m.NodeType,a=m._valHooks,b=m._propFix;8>l.UA.ieMode&&(h.style.set=function(a,b){a.style.cssText=b},l.mix(i,{get:function(a,b){var c=a.getAttributeNode(b);return c&&(c.specified||c.nodeValue)?c.nodeValue:void 0},
set:function(a,b,c){var e=a.getAttributeNode(c),h;if(e)e.nodeValue=b;else try{h=a.ownerDocument.createAttribute(c),h.value=b,a.setAttributeNode(h)}catch(i){return a.setAttribute(c,b,0)}}}),l.mix(m._attrFix,b),h.tabIndex=h.tabindex,l.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){h[a]={get:function(b){b=b.getAttribute(a,2);return b===null?void 0:b}}}),a.button=h.value=i,h.placeholder={get:function(a,b){return a[b]||i.get(a,b)}},a.option={get:function(a){var b=a.attributes.value;
return!b||b.specified?a.value:a.text}});(h.href=h.href||{}).set=function(a,b,e){for(var h=a.childNodes,i,k=h.length,l=k>0,k=k-1;k>=0;k--)h[k].nodeType!=c.TEXT_NODE&&(l=0);if(l){i=a.ownerDocument.createElement("b");i.style.display="none";a.appendChild(i)}a.setAttribute(e,""+b);i&&a.removeChild(i)};m._getText=e;return m});
KISSY.add("dom/ie","./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/transform,./ie/input-selection,./ie/attr".split(","),function(l,k){k("./ie/create");k("./ie/insertion");k("./ie/style");k("./ie/traversal");k("./ie/transform");k("./ie/input-selection");return k("./ie/attr")});
