/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Jan 23 14:54
*/
KISSY.add("dom/ie/create",["dom/base"],function(l,k){var f=k("dom/base");f._fixCloneAttributes=function(c,a){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(c);var b=a.nodeName.toLowerCase(),d=c.childNodes,e=(c.type||"").toLowerCase();if("object"===b&&!a.childNodes.length)for(b=0;b<d.length;b++)a.appendChild(d[b].cloneNode(!0));else if("input"===b&&("checkbox"===e||"radio"===e)){if(d=c.checked)a.defaultChecked=a.checked=d;d=c.value;a.value!==d&&(a.value=d)}else if("option"===
b)a.selected=c.defaultSelected;else if("input"===b||"textarea"===b)a.defaultValue=c.defaultValue,a.value=c.value;a.removeAttribute(f.__EXPANDO)};var m=f._creators,h=f._defaultCreator,i=/<tbody/i;8>l.UA.ieMode&&(m.table=function(c,a){var b=h(c,a);if(i.test(c))return b;var d=b.firstChild,e=l.makeArray(d.childNodes);l.each(e,function(a){"tbody"===f.nodeName(a)&&!a.childNodes.length&&d.removeChild(a)});return b})});
KISSY.add("dom/ie/insertion",["dom/base"],function(l,k){var f=k("dom/base");8>l.UA.ieMode&&(f._fixInsertionChecked=function h(i){for(var c=0;c<i.length;c++){var a=i[c];if(a.nodeType===f.NodeType.DOCUMENT_FRAGMENT_NODE)h(a.childNodes);else if("input"===f.nodeName(a)){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}else if(a.nodeType===f.NodeType.ELEMENT_NODE)for(var a=a.getElementsByTagName("input"),b=0;b<a.length;b++)h(a[b])}})});
KISSY.add("dom/ie/style",["dom/base"],function(l,k){var f=k("dom/base"),m=f._cssProps,h=l.UA,i=l.Env.host.document,i=i&&i.documentElement,c=/^(top|right|bottom|left)$/,a=f._cssHooks,b=/opacity\s*=\s*([^)]*)/,d=/alpha\([^)]*\)/i;m["float"]="styleFloat";a.backgroundPosition={get:function(a,d){return d?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==i.style.opacity&&(a.opacity={get:function(a,d){return b.test((d&&a.currentStyle?a.currentStyle.filter:
a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(a,b){var b=parseFloat(b),e=a.style,c=a.currentStyle,j=isNaN(b)?"":"alpha(opacity="+100*b+")",g=l.trim(c&&c.filter||e.filter||"");e.zoom=1;if((1<=b||!j)&&!l.trim(g.replace(d,"")))if(e.removeAttribute("filter"),!j||c&&!c.filter)return;e.filter=d.test(g)?g.replace(d,j):g+(g?", ":"")+j}})}catch(e){"IE filters ActiveX is disabled. ex = "+e}var h=8===h.ie,j={};j.thin=h?"1px":"2px";j.medium=h?"3px":"4px";j.thick=h?"5px":"6px";l.each(["",
"Top","Left","Right","Bottom"],function(d){var b="border"+d+"Width",e="border"+d+"Style";a[b]={get:function(a,d){var c=d?a.currentStyle:0,o=c&&""+c[b]||void 0;o&&0>o.indexOf("px")&&(o=j[o]&&"none"!==c[e]?j[o]:0);return o}}});f._getComputedStyle=function(a,d){var d=m[d]||d,b=a.currentStyle&&a.currentStyle[d];if(f._RE_NUM_NO_PX.test(b)&&!c.test(d)){var e=a.style,j=e.left,g=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;e.left="fontSize"===d?"1em":b||0;b=e.pixelLeft+"px";e.left=j;a.runtimeStyle.left=
g}return""===b?"auto":b}});
KISSY.add("dom/ie/traversal",["dom/base"],function(l,k){var f=k("dom/base");f._contains=function(c,a){c.nodeType===f.NodeType.DOCUMENT_NODE&&(c=c.documentElement);a=a.parentNode;return c===a?!0:a&&a.nodeType===f.NodeType.ELEMENT_NODE?c.contains&&c.contains(a):!1};var m=document.createElement("div");m.appendChild(document.createComment(""));var h;h=m.getElementsByTagName("*").length?function(c,a){var b=a.getElementsByTagName(c),d="*"===c;if(d||"number"!==typeof b.length){for(var e=[],j=0,o;o=b[j++];)(!d||
1===o.nodeType)&&e.push(o);return e}return b}:function(c,a){return a.getElementsByTagName(c)};f._getElementsByTagName=h;var i=f._getSimpleAttr;f._getElementById=function(c,a){var b=a.getElementById(c);if(b&&i(b,"id")!==c)for(var d=h("*",a),e=0,j=d.length;e<j;e++)if(i(d[e],"id")===c)return d[e];return b}});
KISSY.add("dom/ie/transform",["dom/base"],function(l,k){function f(c){return[[c[0],c[2],c[4]],[c[1],c[3],c[5]],[0,0,1]]}function m(c,a){var b;if(2<arguments.length){var d=c;for(b=1;b<arguments.length;b++)d=m(d,arguments[b]);return d}var d=[],e=c.length,j=a.length,o=a[0].length;for(b=0;b<e;b++)for(var f=0;f<o;f++){for(var h=0,i=0;i<j;i++)h+=c[b][i]*a[i][f];var i=d,l=b,g=f;i[l]||(i[l]=[]);i[l][g]=h}return d}function h(c){return-1<c.indexOf("deg")?parseInt(c,10)*(2*Math.PI/360):parseFloat(c)}var i=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;
k("dom/base")._cssHooks.transform={get:function(c,a){var b=c[a?"currentStyle":"style"];if(b&&i.test(b.filter)){var b=RegExp.$1.split(","),d=0,e=0,j=b[4]&&b[4].split("="),f=b[5]&&b[5].split("=");j&&"dx"===j[0].toLowerCase()&&(d=parseFloat(j[1]));f&&"dy"===f[0].toLowerCase()&&(e=parseFloat(f[1]));b=[b[0].split("=")[1],b[2].split("=")[1],b[1].split("=")[1],b[3].split("=")[1],d,e]}else return a?"none":"";return"matrix("+b.join(",")+")"},set:function(c,a){var b=c.style,d,e=c.currentStyle,j,o={width:c.clientWidth,
height:c.clientHeight};j=o.width/2;var k=o.height/2,p=c.style.transformOrigin,p=(p||"50% 50%").split(/\s+/);1===p.length&&(p[1]=p[0]);for(var q=0;q<p.length;q++){var r=parseFloat(p[q]);p[q]=l.endsWith(p[q],"%")?r*o[q?"height":"width"]/100:r}o=p;b.zoom=1;if(a){d=a.split(")");for(var p=l.trim,q=-1,r=d.length-1,g,t,s=f([1,0,0,1,0,0]),n;++q<r;){g=d[q].split("(");t=p(g[0]);g=g[1];n=[1,0,0,1,0,0];switch(t){case "translateX":n[4]=parseInt(g,10);break;case "translateY":n[5]=parseInt(g,10);break;case "translate":g=
g.split(",");n[4]=parseInt(g[0],10);n[5]=parseInt(g[1]||0,10);break;case "rotate":g=h(g);n[0]=Math.cos(g);n[1]=Math.sin(g);n[2]=-Math.sin(g);n[3]=Math.cos(g);break;case "scaleX":n[0]=+g;break;case "scaleY":n[3]=+g;break;case "scale":g=g.split(",");n[0]=+g[0];n[3]=1<g.length?+g[1]:+g[0];break;case "skewX":n[2]=Math.tan(h(g));break;case "skewY":n[1]=Math.tan(h(g));break;case "skew":g=g.split(",");n[2]=Math.tan(h(g[0]));1<g.length&&(n[1]=Math.tan(h(g[1])));break;case "matrix":g=g.split(","),n[0]=+g[0],
n[1]=+g[1],n[2]=+g[2],n[3]=+g[3],n[4]=parseInt(g[4],10),n[5]=parseInt(g[5],10)}s=m(s,f(n))}a=s;d=o[0];o=o[1];d=m([[1,0,d],[0,1,o],[0,0,1]],a,[[1,0,-d],[0,1,-o],[0,0,1]],[[j],[k],[1]]);d.x=d[0][0];d.y=d[1][0];j=["progid:DXImageTransform.Microsoft.Matrix(M11="+a[0][0],"M12="+a[0][1],"M21="+a[1][0],"M22="+a[1][1],"Dx="+a[0][2],"Dy="+a[1][2],'SizingMethod="auto expand"'].join()+")"}else j="";k=e&&e.filter||b.filter||"";if(!j&&!l.trim(k.replace(i,""))&&(b.removeAttribute("filter"),!j||e&&!e.filter))return;
b.filter=i.test(k)?k.replace(i,j):k+(k?", ":"")+j;j?(e=c.offsetHeight/2,b.marginLeft=d.x-c.offsetWidth/2+"px",b.marginTop=d.y-e+"px"):b.marginLeft=b.marginTop=0}}});
KISSY.add("dom/ie/input-selection",["dom/base"],function(l,k){function f(a,b){var d=0,e=0,c=a.ownerDocument.selection.createRange(),f=m(a);f.inRange(c)&&(f.setEndPoint("EndToStart",c),d=i(a,f).length,b&&(e=d+i(a,c).length));return[d,e]}function m(a){if("textarea"===a.type){var b=a.document.body.createTextRange();b.moveToElementText(a);return b}return a.createTextRange()}function h(a,b,d){var e=Math.min(b,d),c=Math.max(b,d);return e===c?0:"textarea"===a.type?(a=a.value.substring(e,c).replace(/\r\n/g,
"\n").length,b>d&&(a=-a),a):d-b}function i(a,b){if("textarea"===a.type){var d=b.text,e=b.duplicate();if(0===e.compareEndPoints("StartToEnd",e))return d;e.moveEnd("character",-1);e.text===d&&(d+="\r\n");return d}return b.text}var c=k("dom/base")._propHooks;c.selectionStart={set:function(a,b){var d=a.ownerDocument.selection.createRange();if(m(a).inRange(d)){var e=f(a,1)[1],c=h(a,b,e);d.collapse(!1);d.moveStart("character",-c);b>e&&d.collapse(!0);d.select()}},get:function(a){return f(a)[0]}};c.selectionEnd=
{set:function(a,b){var d=a.ownerDocument.selection.createRange();if(m(a).inRange(d)){var c=f(a)[0],j=h(a,c,b);d.collapse(!0);d.moveEnd("character",j);c>b&&d.collapse(!1);d.select()}},get:function(a){return f(a,1)[1]}}});
KISSY.add("dom/ie/attr",["dom/base"],function(l,k){function f(a){var b="",j=a.nodeType;if(j===m.NodeType.ELEMENT_NODE)for(a=a.firstChild;a;a=a.nextSibling)b+=f(a);else if(j===c.TEXT_NODE||j===c.CDATA_SECTION_NODE)b+=a.nodeValue;return b}var m=k("dom/base"),h=m._attrHooks,i=m._attrNodeHook,c=m.NodeType,a=m._valHooks,b=m._propFix;8>l.UA.ieMode&&(h.style.set=function(a,b){a.style.cssText=b},l.mix(i,{get:function(a,b){var c=a.getAttributeNode(b);return c&&(c.specified||c.nodeValue)?c.nodeValue:void 0},
set:function(a,b,c){var f=a.getAttributeNode(c),h;if(f)f.nodeValue=b;else try{h=a.ownerDocument.createAttribute(c),h.value=b,a.setAttributeNode(h)}catch(i){return a.setAttribute(c,b,0)}}}),l.mix(m._attrFix,b),h.tabIndex=h.tabindex,l.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){h[a]={get:function(b){b=b.getAttribute(a,2);return b===null?void 0:b}}}),a.button=h.value=i,h.placeholder={get:function(a,b){return a[b]||i.get(a,b)}},a.option={get:function(a){var b=a.attributes.value;
return!b||b.specified?a.value:a.text}});(h.href=h.href||{}).set=function(a,b,f){for(var h=a.childNodes,i,k=h.length,l=k>0,k=k-1;k>=0;k--)h[k].nodeType!==c.TEXT_NODE&&(l=0);if(l){i=a.ownerDocument.createElement("b");i.style.display="none";a.appendChild(i)}a.setAttribute(f,""+b);i&&a.removeChild(i)};m._getText=f;return m});
KISSY.add("dom/ie","./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/transform,./ie/input-selection,./ie/attr".split(","),function(l,k){k("./ie/create");k("./ie/insertion");k("./ie/style");k("./ie/traversal");k("./ie/transform");k("./ie/input-selection");return k("./ie/attr")});
