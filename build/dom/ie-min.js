/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 27 21:47
*/
KISSY.add("dom/ie/create",["dom/base","ua"],function(n,e){var f=e("dom/base");f._fixCloneAttributes=function(c,a){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(c);var b=a.nodeName.toLowerCase(),d=c.childNodes,h=(c.type||"").toLowerCase();if("object"===b&&!a.childNodes.length)for(b=0;b<d.length;b++)a.appendChild(d[b].cloneNode(!0));else if("input"===b&&("checkbox"===h||"radio"===h)){if(d=c.checked)a.defaultChecked=a.checked=d;d=c.value;a.value!==d&&(a.value=d)}else if("option"===
b)a.selected=c.defaultSelected;else if("input"===b||"textarea"===b)a.defaultValue=c.defaultValue,a.value=c.value;a.removeAttribute(f.__EXPANDO)};var j=f._creators,i=f._defaultCreator,l=/<tbody/i;8>e("ua").ieMode&&(j.table=function(c,a){var b=i(c,a);if(l.test(c))return b;var d=b.firstChild,h=n.makeArray(d.childNodes);n.each(h,function(a){"tbody"===f.nodeName(a)&&!a.childNodes.length&&d.removeChild(a)});return b})});
KISSY.add("dom/ie/insertion",["dom/base","ua"],function(n,e){var f=e("dom/base");8>e("ua").ieMode&&(f._fixInsertionChecked=function i(e){for(var c=0;c<e.length;c++){var a=e[c];if(a.nodeType===f.NodeType.DOCUMENT_FRAGMENT_NODE)i(a.childNodes);else if("input"===f.nodeName(a)){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}else if(a.nodeType===f.NodeType.ELEMENT_NODE)for(var a=a.getElementsByTagName("input"),b=0;b<a.length;b++)i(a[b])}})});
KISSY.add("dom/ie/style",["dom/base","ua"],function(n,e){var f=e("dom/base"),j=f._cssProps,i=e("ua"),l=n.Env.host.document,l=l&&l.documentElement,c=/^(top|right|bottom|left)$/,a=f._cssHooks,b=/opacity\s*=\s*([^)]*)/,d=/alpha\([^)]*\)/i;j["float"]="styleFloat";a.backgroundPosition={get:function(a,d){return d?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==l.style.opacity&&(a.opacity={get:function(a,d){return b.test((d&&a.currentStyle?
a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(a,b){var b=parseFloat(b),h=a.style,c=a.currentStyle,k=isNaN(b)?"":"alpha(opacity="+100*b+")",g=n.trim(c&&c.filter||h.filter||"");h.zoom=1;if((1<=b||!k)&&!n.trim(g.replace(d,"")))if(h.removeAttribute("filter"),!k||c&&!c.filter)return;h.filter=d.test(g)?g.replace(d,k):g+(g?", ":"")+k}})}catch(h){}var i=8===i.ie,k={};k.thin=i?"1px":"2px";k.medium=i?"3px":"4px";k.thick=i?"5px":"6px";n.each(["","Top","Left",
"Right","Bottom"],function(d){var b="border"+d+"Width",h="border"+d+"Style";a[b]={get:function(a,d){var c=d?a.currentStyle:0,o=c&&""+c[b]||void 0;o&&0>o.indexOf("px")&&(o=k[o]&&"none"!==c[h]?k[o]:0);return o}}});f._getComputedStyle=function(a,d){var d=j[d]||d,b=a.currentStyle&&a.currentStyle[d];if(f._RE_NUM_NO_PX.test(b)&&!c.test(d)){var h=a.style,k=h.left,g=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;h.left="fontSize"===d?"1em":b||0;b=h.pixelLeft+"px";h.left=k;a.runtimeStyle.left=
g}return""===b?"auto":b}});
KISSY.add("dom/ie/traversal",["dom/base"],function(n,e){var f=e("dom/base");f._contains=function(c,a){c.nodeType===f.NodeType.DOCUMENT_NODE&&(c=c.documentElement);a=a.parentNode;return c===a?!0:a&&a.nodeType===f.NodeType.ELEMENT_NODE?c.contains&&c.contains(a):!1};var j=document.createElement("div");j.appendChild(document.createComment(""));var i;i=j.getElementsByTagName("*").length?function(c,a){var b=a.getElementsByTagName(c),d="*"===c;if(d||"number"!==typeof b.length){for(var h=[],k=0,o;o=b[k++];)(!d||
1===o.nodeType)&&h.push(o);return h}return b}:function(c,a){return a.getElementsByTagName(c)};f._getElementsByTagName=i;var l=f._getSimpleAttr;f._getElementById=function(c,a){var b=a.getElementById(c);if(b&&l(b,"id")!==c)for(var d=i("*",a),h=0,k=d.length;h<k;h++)if(l(d[h],"id")===c)return d[h];return b}});
KISSY.add("dom/ie/transform",["dom/base"],function(n,e){function f(c){return[[c[0],c[2],c[4]],[c[1],c[3],c[5]],[0,0,1]]}function j(c,a){var b;if(2<arguments.length){var d=c;for(b=1;b<arguments.length;b++)d=j(d,arguments[b]);return d}var d=[],h=c.length,k=a.length,o=a[0].length;for(b=0;b<h;b++)for(var f=0;f<o;f++){for(var i=0,e=0;e<k;e++)i+=c[b][e]*a[e][f];var e=d,l=b,g=f;e[l]||(e[l]=[]);e[l][g]=i}return d}function i(c){return-1<c.indexOf("deg")?parseInt(c,10)*(2*Math.PI/360):parseFloat(c)}var l=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;
e("dom/base")._cssHooks.transform={get:function(c,a){var b=c[a?"currentStyle":"style"];if(b&&l.test(b.filter)){var b=RegExp.$1.split(","),d=0,h=0,k=b[4]&&b[4].split("="),f=b[5]&&b[5].split("=");k&&"dx"===k[0].toLowerCase()&&(d=parseFloat(k[1]));f&&"dy"===f[0].toLowerCase()&&(h=parseFloat(f[1]));b=[b[0].split("=")[1],b[2].split("=")[1],b[1].split("=")[1],b[3].split("=")[1],d,h]}else return a?"none":"";return"matrix("+b.join(",")+")"},set:function(c,a){var b=c.style,d,h=c.currentStyle,k,e={width:c.clientWidth,
height:c.clientHeight};k=e.width/2;var r=e.height/2,p=c.style.transformOrigin,p=(p||"50% 50%").split(/\s+/);1===p.length&&(p[1]=p[0]);for(var q=0;q<p.length;q++){var s=parseFloat(p[q]);p[q]=n.endsWith(p[q],"%")?s*e[q?"height":"width"]/100:s}e=p;b.zoom=1;if(a){d=a.split(")");for(var p=n.trim,q=-1,s=d.length-1,g,u,t=f([1,0,0,1,0,0]),m;++q<s;){g=d[q].split("(");u=p(g[0]);g=g[1];m=[1,0,0,1,0,0];switch(u){case "translateX":m[4]=parseInt(g,10);break;case "translateY":m[5]=parseInt(g,10);break;case "translate":g=
g.split(",");m[4]=parseInt(g[0],10);m[5]=parseInt(g[1]||0,10);break;case "rotate":g=i(g);m[0]=Math.cos(g);m[1]=Math.sin(g);m[2]=-Math.sin(g);m[3]=Math.cos(g);break;case "scaleX":m[0]=+g;break;case "scaleY":m[3]=+g;break;case "scale":g=g.split(",");m[0]=+g[0];m[3]=1<g.length?+g[1]:+g[0];break;case "skewX":m[2]=Math.tan(i(g));break;case "skewY":m[1]=Math.tan(i(g));break;case "skew":g=g.split(",");m[2]=Math.tan(i(g[0]));1<g.length&&(m[1]=Math.tan(i(g[1])));break;case "matrix":g=g.split(","),m[0]=+g[0],
m[1]=+g[1],m[2]=+g[2],m[3]=+g[3],m[4]=parseInt(g[4],10),m[5]=parseInt(g[5],10)}t=j(t,f(m))}a=t;d=e[0];e=e[1];d=j([[1,0,d],[0,1,e],[0,0,1]],a,[[1,0,-d],[0,1,-e],[0,0,1]],[[k],[r],[1]]);d.x=d[0][0];d.y=d[1][0];k=["progid:DXImageTransform.Microsoft.Matrix(M11="+a[0][0],"M12="+a[0][1],"M21="+a[1][0],"M22="+a[1][1],"Dx="+a[0][2],"Dy="+a[1][2],'SizingMethod="auto expand"'].join()+")"}else k="";r=h&&h.filter||b.filter||"";if(!k&&!n.trim(r.replace(l,""))&&(b.removeAttribute("filter"),!k||h&&!h.filter))return;
b.filter=l.test(r)?r.replace(l,k):r+(r?", ":"")+k;k?(h=c.offsetHeight/2,b.marginLeft=d.x-c.offsetWidth/2+"px",b.marginTop=d.y-h+"px"):b.marginLeft=b.marginTop=0}}});
KISSY.add("dom/ie/input-selection",["dom/base"],function(n,e){function f(a,b){var d=0,h=0,c=a.ownerDocument.selection.createRange(),e=j(a);e.inRange(c)&&(e.setEndPoint("EndToStart",c),d=l(a,e).length,b&&(h=d+l(a,c).length));return[d,h]}function j(a){if("textarea"===a.type){var b=a.document.body.createTextRange();b.moveToElementText(a);return b}return a.createTextRange()}function i(a,b,d){var h=Math.min(b,d),c=Math.max(b,d);return h===c?0:"textarea"===a.type?(a=a.value.substring(h,c).replace(/\r\n/g,
"\n").length,b>d&&(a=-a),a):d-b}function l(a,b){if("textarea"===a.type){var d=b.text,c=b.duplicate();if(0===c.compareEndPoints("StartToEnd",c))return d;c.moveEnd("character",-1);c.text===d&&(d+="\r\n");return d}return b.text}var c=e("dom/base")._propHooks;c.selectionStart={set:function(a,b){var d=a.ownerDocument.selection.createRange();if(j(a).inRange(d)){var c=f(a,1)[1],e=i(a,b,c);d.collapse(!1);d.moveStart("character",-e);b>c&&d.collapse(!0);d.select()}},get:function(a){return f(a)[0]}};c.selectionEnd=
{set:function(a,b){var d=a.ownerDocument.selection.createRange();if(j(a).inRange(d)){var c=f(a)[0],e=i(a,c,b);d.collapse(!0);d.moveEnd("character",e);c>b&&d.collapse(!1);d.select()}},get:function(a){return f(a,1)[1]}}});
KISSY.add("dom/ie/attr",["dom/base","ua"],function(n,e){function f(a){var b="",e=a.nodeType;if(e===j.NodeType.ELEMENT_NODE)for(a=a.firstChild;a;a=a.nextSibling)b+=f(a);else if(e===c.TEXT_NODE||e===c.CDATA_SECTION_NODE)b+=a.nodeValue;return b}var j=e("dom/base"),i=j._attrHooks,l=j._attrNodeHook,c=j.NodeType,a=j._valHooks,b=j._propFix;8>e("ua").ieMode&&(i.style.set=function(a,b){a.style.cssText=b},n.mix(l,{get:function(a,b){var c=a.getAttributeNode(b);return c&&(c.specified||c.nodeValue)?c.nodeValue:
void 0},set:function(a,b,c){var e=a.getAttributeNode(c),f;if(e)e.nodeValue=b;else try{f=a.ownerDocument.createAttribute(c),f.value=b,a.setAttributeNode(f)}catch(i){return a.setAttribute(c,b,0)}}}),n.mix(j._attrFix,b),i.tabIndex=i.tabindex,n.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){i[a]={get:function(b){b=b.getAttribute(a,2);return b===null?void 0:b}}}),a.button=i.value=l,i.placeholder={get:function(a,b){return a[b]||l.get(a,b)}},a.option={get:function(a){var b=a.attributes.value;
return!b||b.specified?a.value:a.text}});(i.href=i.href||{}).set=function(a,b,e){for(var f=a.childNodes,i,j=f.length,l=j>0,j=j-1;j>=0;j--)f[j].nodeType!==c.TEXT_NODE&&(l=0);if(l){i=a.ownerDocument.createElement("b");i.style.display="none";a.appendChild(i)}a.setAttribute(e,""+b);i&&a.removeChild(i)};j._getText=f;return j});
KISSY.add("dom/ie","./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/transform,./ie/input-selection,./ie/attr".split(","),function(n,e){e("./ie/create");e("./ie/insertion");e("./ie/style");e("./ie/traversal");e("./ie/transform");e("./ie/input-selection");return e("./ie/attr")});
