/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 14 22:17
*/
KISSY.add("dom/ie","./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/transform,./ie/input-selection,./ie/attr".split(","),function(o,e){e("./ie/create");e("./ie/insertion");e("./ie/style");e("./ie/traversal");e("./ie/transform");e("./ie/input-selection");return e("./ie/attr")});
KISSY.add("dom/ie/create",["util","dom/base","ua"],function(o,e){var g=e("util"),m=e("dom/base");m._fixCloneAttributes=function(a,c){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(a);var b=c.nodeName.toLowerCase(),d=a.childNodes,i=(a.type||"").toLowerCase();if("object"===b&&!c.childNodes.length)for(b=0;b<d.length;b++)c.appendChild(d[b].cloneNode(!0));else if("input"===b&&("checkbox"===i||"radio"===i)){if(d=a.checked)c.defaultChecked=c.checked=d;d=a.value;c.value!==d&&
(c.value=d)}else if("option"===b)c.selected=a.defaultSelected;else if("input"===b||"textarea"===b)c.defaultValue=a.defaultValue,c.value=a.value;c.removeAttribute(m.__EXPANDO)};var j=m._creators,l=m._defaultCreator,f=/<tbody/i;8>e("ua").ieMode&&(j.table=function(a,c){var b=l(a,c);if(f.test(a))return b;var d=b.firstChild,i=g.makeArray(d.childNodes);g.each(i,function(a){"tbody"===m.nodeName(a)&&!a.childNodes.length&&d.removeChild(a)});return b})});
KISSY.add("dom/ie/insertion",["dom/base","ua"],function(o,e){var g=e("dom/base");8>e("ua").ieMode&&(g._fixInsertionChecked=function j(e){for(var f=0;f<e.length;f++){var a=e[f];if(a.nodeType===g.NodeType.DOCUMENT_FRAGMENT_NODE)j(a.childNodes);else if("input"===g.nodeName(a)){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}else if(a.nodeType===g.NodeType.ELEMENT_NODE)for(var a=a.getElementsByTagName("input"),c=0;c<a.length;c++)j(a[c])}})});
KISSY.add("dom/ie/style",["util","dom/base","ua"],function(o,e){var g=e("util"),m=e("dom/base"),j=m._cssProps,l=e("ua"),f=o.Env.host.document,f=f&&f.documentElement,a=/^(top|right|bottom|left)$/,c=m._cssHooks,b=/opacity\s*=\s*([^)]*)/,d=/alpha\([^)]*\)/i;j["float"]="styleFloat";c.backgroundPosition={get:function(a,d){return d?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==f.style.opacity&&(c.opacity={get:function(a,d){return b.test((d&&
a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(a,b){var b=parseFloat(b),c=a.style,i=a.currentStyle,k=isNaN(b)?"":"alpha(opacity="+100*b+")",h=g.trim(i&&i.filter||c.filter||"");c.zoom=1;if((1<=b||!k)&&!g.trim(h.replace(d,"")))if(c.removeAttribute("filter"),!k||i&&!i.filter)return;c.filter=d.test(h)?h.replace(d,k):h+(h?", ":"")+k}})}catch(i){}var l=8===l.ie,k={};k.thin=l?"1px":"2px";k.medium=l?"3px":"4px";k.thick=l?"5px":"6px";g.each(["",
"Top","Left","Right","Bottom"],function(a){var d="border"+a+"Width",b="border"+a+"Style";c[d]={get:function(a,c){var i=c?a.currentStyle:0,f=i&&""+i[d]||void 0;f&&0>f.indexOf("px")&&(f=k[f]&&"none"!==i[b]?k[f]:0);return f}}});m._getComputedStyle=function(d,b){var b=j[b]||b,c=d.currentStyle&&d.currentStyle[b];if(m._RE_NUM_NO_PX.test(c)&&!a.test(b)){var i=d.style,k=i.left,h=d.runtimeStyle.left;d.runtimeStyle.left=d.currentStyle.left;i.left="fontSize"===b?"1em":c||0;c=i.pixelLeft+"px";i.left=k;d.runtimeStyle.left=
h}return""===c?"auto":c}});
KISSY.add("dom/ie/traversal",["dom/base"],function(o,e){var g=e("dom/base");g._contains=function(f,a){f.nodeType===g.NodeType.DOCUMENT_NODE&&(f=f.documentElement);a=a.parentNode;return f===a?!0:a&&a.nodeType===g.NodeType.ELEMENT_NODE?f.contains&&f.contains(a):!1};var m=document.createElement("div");m.appendChild(document.createComment(""));var j;j=m.getElementsByTagName("*").length?function(f,a){var c=a.getElementsByTagName(f),b="*"===f;if(b||"number"!==typeof c.length){for(var d=[],i=0,k;k=c[i++];)(!b||
1===k.nodeType)&&d.push(k);return d}return c}:function(f,a){return a.getElementsByTagName(f)};g._getElementsByTagName=j;var l=g._getSimpleAttr;g._getElementById=function(f,a){var c=a.getElementById(f);if(c&&l(c,"id")!==f)for(var b=j("*",a),d=0,i=b.length;d<i;d++)if(l(b[d],"id")===f)return b[d];return c}});
KISSY.add("dom/ie/transform",["util","dom/base"],function(o,e){function g(a){return[[a[0],a[2],a[4]],[a[1],a[3],a[5]],[0,0,1]]}function m(a,c){var b;if(2<arguments.length){var d=a;for(b=1;b<arguments.length;b++)d=m(d,arguments[b]);return d}var d=[],i=a.length,k=c.length,f=c[0].length;for(b=0;b<i;b++)for(var e=0;e<f;e++){for(var j=0,g=0;g<k;g++)j+=a[b][g]*c[g][e];var g=d,l=b,h=e;g[l]||(g[l]=[]);g[l][h]=j}return d}function j(a){return-1<a.indexOf("deg")?parseInt(a,10)*(2*Math.PI/360):parseFloat(a)}
var l=e("util"),f=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;e("dom/base")._cssHooks.transform={get:function(a,c){var b=a[c?"currentStyle":"style"];if(b&&f.test(b.filter)){var b=RegExp.$1.split(","),d=0,i=0,k=b[4]&&b[4].split("="),g=b[5]&&b[5].split("=");k&&"dx"===k[0].toLowerCase()&&(d=parseFloat(k[1]));g&&"dy"===g[0].toLowerCase()&&(i=parseFloat(g[1]));b=[b[0].split("=")[1],b[2].split("=")[1],b[1].split("=")[1],b[3].split("=")[1],d,i]}else return c?"none":"";return"matrix("+b.join(",")+
")"},set:function(a,c){var b=a.style,d,i=a.currentStyle,k,e={width:a.clientWidth,height:a.clientHeight};k=e.width/2;var r=e.height/2,p=a.style.transformOrigin,p=(p||"50% 50%").split(/\s+/);1===p.length&&(p[1]=p[0]);for(var q=0;q<p.length;q++){var o=parseFloat(p[q]);p[q]=l.endsWith(p[q],"%")?o*e[q?"height":"width"]/100:o}e=p;b.zoom=1;if(c){d=c.split(")");for(var p=l.trim,q=-1,o=d.length-1,h,t,s=g([1,0,0,1,0,0]),n;++q<o;){h=d[q].split("(");t=p(h[0]);h=h[1];n=[1,0,0,1,0,0];switch(t){case "translateX":n[4]=
parseInt(h,10);break;case "translateY":n[5]=parseInt(h,10);break;case "translate":h=h.split(",");n[4]=parseInt(h[0],10);n[5]=parseInt(h[1]||0,10);break;case "rotate":h=j(h);n[0]=Math.cos(h);n[1]=Math.sin(h);n[2]=-Math.sin(h);n[3]=Math.cos(h);break;case "scaleX":n[0]=+h;break;case "scaleY":n[3]=+h;break;case "scale":h=h.split(",");n[0]=+h[0];n[3]=1<h.length?+h[1]:+h[0];break;case "skewX":n[2]=Math.tan(j(h));break;case "skewY":n[1]=Math.tan(j(h));break;case "skew":h=h.split(",");n[2]=Math.tan(j(h[0]));
1<h.length&&(n[1]=Math.tan(j(h[1])));break;case "matrix":h=h.split(","),n[0]=+h[0],n[1]=+h[1],n[2]=+h[2],n[3]=+h[3],n[4]=parseInt(h[4],10),n[5]=parseInt(h[5],10)}s=m(s,g(n))}c=s;d=e[0];e=e[1];d=m([[1,0,d],[0,1,e],[0,0,1]],c,[[1,0,-d],[0,1,-e],[0,0,1]],[[k],[r],[1]]);d.x=d[0][0];d.y=d[1][0];k=["progid:DXImageTransform.Microsoft.Matrix(M11="+c[0][0],"M12="+c[0][1],"M21="+c[1][0],"M22="+c[1][1],"Dx="+c[0][2],"Dy="+c[1][2],'SizingMethod="auto expand"'].join()+")"}else k="";r=i&&i.filter||b.filter||"";
if(!k&&!l.trim(r.replace(f,""))&&(b.removeAttribute("filter"),!k||i&&!i.filter))return;b.filter=f.test(r)?r.replace(f,k):r+(r?", ":"")+k;k?(i=a.offsetHeight/2,b.marginLeft=d.x-a.offsetWidth/2+"px",b.marginTop=d.y-i+"px"):b.marginLeft=b.marginTop=0}}});
KISSY.add("dom/ie/input-selection",["dom/base"],function(o,e){function g(a,c){var b=0,d=0,i=a.ownerDocument.selection.createRange(),k=m(a);k.inRange(i)&&(k.setEndPoint("EndToStart",i),b=l(a,k).length,c&&(d=b+l(a,i).length));return[b,d]}function m(a){if("textarea"===a.type){var c=a.document.body.createTextRange();c.moveToElementText(a);return c}return a.createTextRange()}function j(a,c,b){var d=Math.min(c,b),i=Math.max(c,b);return d===i?0:"textarea"===a.type?(a=a.value.substring(d,i).replace(/\r\n/g,
"\n").length,c>b&&(a=-a),a):b-c}function l(a,c){if("textarea"===a.type){var b=c.text,d=c.duplicate();if(0===d.compareEndPoints("StartToEnd",d))return b;d.moveEnd("character",-1);d.text===b&&(b+="\r\n");return b}return c.text}var f=e("dom/base")._propHooks;f.selectionStart={set:function(a,c){var b=a.ownerDocument.selection.createRange();if(m(a).inRange(b)){var d=g(a,1)[1],i=j(a,c,d);b.collapse(!1);b.moveStart("character",-i);c>d&&b.collapse(!0);b.select()}},get:function(a){return g(a)[0]}};f.selectionEnd=
{set:function(a,c){var b=a.ownerDocument.selection.createRange();if(m(a).inRange(b)){var d=g(a)[0],i=j(a,d,c);b.collapse(!0);b.moveEnd("character",i);d>c&&b.collapse(!1);b.select()}},get:function(a){return g(a,1)[1]}}});
KISSY.add("dom/ie/attr",["util","dom/base","ua"],function(o,e){function g(d){var b="",c=d.nodeType;if(c===j.NodeType.ELEMENT_NODE)for(d=d.firstChild;d;d=d.nextSibling)b+=g(d);else if(c===a.TEXT_NODE||c===a.CDATA_SECTION_NODE)b+=d.nodeValue;return b}var m=e("util"),j=e("dom/base"),l=j._attrHooks,f=j._attrNodeHook,a=j.NodeType,c=j._valHooks,b=j._propFix;8>e("ua").ieMode&&(l.style.set=function(a,b){a.style.cssText=b},m.mix(f,{get:function(a,b){var c=a.getAttributeNode(b);return c&&(c.specified||c.nodeValue)?
c.nodeValue:void 0},set:function(a,b,c){var e=a.getAttributeNode(c),f;if(e)e.nodeValue=b;else try{f=a.ownerDocument.createAttribute(c),f.value=b,a.setAttributeNode(f)}catch(g){return a.setAttribute(c,b,0)}}}),m.mix(j._attrFix,b),l.tabIndex=l.tabindex,m.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){l[a]={get:function(b){b=b.getAttribute(a,2);return b===null?void 0:b}}}),c.button=l.value=f,l.placeholder={get:function(a,b){return a[b]||f.get(a,b)}},c.option={get:function(a){var b=
a.attributes.value;return!b||b.specified?a.value:a.text}});(l.href=l.href||{}).set=function(b,c,f){for(var e=b.childNodes,g,j=e.length,l=j>0,j=j-1;j>=0;j--)e[j].nodeType!==a.TEXT_NODE&&(l=0);if(l){g=b.ownerDocument.createElement("b");g.style.display="none";b.appendChild(g)}b.setAttribute(f,""+c);g&&b.removeChild(g)};j._getText=g;return j});
