/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 16 18:07
*/
KISSY.add("dom/base/api",function(c){var b=c.Env.host||{},g=b.document,t=c.UA,j={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},m={isCustomDomain:function(c){var c=c||b,c=m.get(c),e=c.document.domain,c=c.location.hostname;return e!=c&&e!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||b;c=m.get(c);return t.ie&&m.isCustomDomain(c)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:j,getWindow:function(g){if(!g)return b;g=m.get(g);if(c.isWindow(g))return g;var e=g;e.nodeType!==j.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(b){if(!b)return g;b=m.get(b);return c.isWindow(b)?b.document:b.nodeType==j.DOCUMENT_NODE?b:b.ownerDocument},isDomNodeList:function(b){return b&&!b.nodeType&&b.item&&
!b.setTimeout},nodeName:function(b){var c=m.get(b),b=c.nodeName.toLowerCase();t.ie&&(c=c.scopeName)&&"HTML"!=c&&(b=c.toLowerCase()+":"+b);return b},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};c.mix(m,j);return m});
KISSY.add("dom/base/attr",function(c,b,g){function t(b,d){var d=k[d]||d,a=n[d];return a&&a.get?a.get(b,d):b[d]}var j=c.Env.host.document,m=b.NodeType,j=j&&j.documentElement,s=b.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,o=/:|^on/,d=/\r/g,a={},h={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},q={tabindex:{get:function(b){var d=
b.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):f.test(b.nodeName)||i.test(b.nodeName)&&b.href?0:g}}},k={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},v={get:function(d,a){return b.prop(d,a)?a.toLowerCase():g},set:function(d,a,c){!1===a?
b.removeAttr(d,c):(a=k[c]||c,a in d&&(d[a]=!0),d.setAttribute(c,c.toLowerCase()));return c}},n={},u={},r={select:{get:function(d){var a=d.selectedIndex,c=d.options,g;if(0>a)return null;if("select-one"===""+d.type)return b.val(c[a]);d=[];a=0;for(g=c.length;a<g;++a)c[a].selected&&d.push(b.val(c[a]));return d},set:function(d,a){var g=c.makeArray(a);c.each(d.options,function(d){d.selected=c.inArray(b.val(d),g)});g.length||(d.selectedIndex=-1);return g}}};c.each(["radio","checkbox"],function(d){r[d]={get:function(b){return null===
b.getAttribute("value")?"on":b.value},set:function(d,a){return c.isArray(a)?d.checked=c.inArray(b.val(d),a):g}}});q.style={get:function(b){return b.style.cssText}};c.mix(b,{_valHooks:r,_propFix:k,_attrHooks:q,_propHooks:n,_attrNodeHook:u,_attrFix:a,prop:function(d,a,h){var e=b.query(d),f,q;if(c.isPlainObject(a))return c.each(a,function(d,a){b.prop(e,a,d)}),g;a=k[a]||a;q=n[a];if(h!==g)for(d=e.length-1;0<=d;d--)f=e[d],q&&q.set?q.set(f,h,a):f[a]=h;else if(e.length)return t(e[0],a);return g},hasProp:function(d,
a){var c=b.query(d),e,h=c.length,f;for(e=0;e<h;e++)if(f=c[e],t(f,a)!==g)return!0;return!1},removeProp:function(d,a){var a=k[a]||a,c=b.query(d),e,h;for(e=c.length-1;0<=e;e--){h=c[e];try{h[a]=g,delete h[a]}catch(f){}}},attr:function(d,f,n,i){var k=b.query(d),r=k[0];if(c.isPlainObject(f)){var i=n,l;for(l in f)b.attr(k,l,f[l],i);return g}if(i&&h[f])return b[f](d,n);f=f.toLowerCase();if(i&&h[f])return b[f](d,n);f=a[f]||f;d=e.test(f)?v:o.test(f)?u:q[f];if(n===g){if(r&&r.nodeType===m.ELEMENT_NODE){"form"==
s(r)&&(d=u);if(d&&d.get)return d.get(r,f);n=r.getAttribute(f);return""===n&&(f=r.getAttributeNode(f),!f||!f.specified)?g:null===n?g:n}}else for(i=k.length-1;0<=i;i--)if((r=k[i])&&r.nodeType===m.ELEMENT_NODE)"form"==s(r)&&(d=u),d&&d.set?d.set(r,n,f):r.setAttribute(f,""+n);return g},removeAttr:function(d,c){var c=c.toLowerCase(),c=a[c]||c,f=b.query(d),g,h,n;for(n=f.length-1;0<=n;n--)if(h=f[n],h.nodeType==m.ELEMENT_NODE&&(h.removeAttribute(c),e.test(c)&&(g=k[c]||c)in h))h[g]=!1},hasAttr:j&&!j.hasAttribute?
function(d,a){var a=a.toLowerCase(),c=b.query(d),f,h;for(f=0;f<c.length;f++)if(h=c[f],(h=h.getAttributeNode(a))&&h.specified)return!0;return!1}:function(d,a){var c=b.query(d),f,h=c.length;for(f=0;f<h;f++)if(c[f].hasAttribute(a))return!0;return!1},val:function(a,f){var h,e,n,q,l;if(f===g){if(n=b.get(a)){if((h=r[s(n)]||r[n.type])&&"get"in h&&(e=h.get(n,"value"))!==g)return e;e=n.value;return"string"===typeof e?e.replace(d,""):null==e?"":e}return g}e=b.query(a);for(q=e.length-1;0<=q;q--){n=e[q];if(1!==
n.nodeType)break;l=f;null==l?l="":"number"===typeof l?l+="":c.isArray(l)&&(l=c.map(l,function(b){return b==null?"":b+""}));h=r[s(n)]||r[n.type];if(!h||!("set"in h)||h.set(n,l,"value")===g)n.value=l}return g},text:function(d,a){var c,f,h,e;if(a===g)return c=b.get(d),b._getText(c);f=b.query(d);for(h=f.length-1;0<=h;h--)if(c=f[h],e=c.nodeType,e==m.ELEMENT_NODE)b.empty(c),c.appendChild(c.ownerDocument.createTextNode(a));else if(e==m.TEXT_NODE||e==m.CDATA_SECTION_NODE)c.nodeValue=a;return g},_getText:function(b){return b.textContent}});
return b},{requires:["./api"]});
KISSY.add("dom/base/class",function(c,b){function g(b){for(var b=c.trim(b||""),b=b.split(e),g=[],o,d=b.length,a=0;a<d;a++)(o=b[a])&&g.push(o);return g}function t(b){return function(c,e){var d,a,h,g=c.classList,k=m.call(arguments,2);d=0;for(a=e.length;d<a;d++)(h=e[d])&&g[b].apply(g,[h].concat(k))}}function j(c){return function(e,o){var d=g(o),a=m.call(arguments,2);b.query(e).each(function(h){h.nodeType==s.ELEMENT_NODE&&b[c].apply(b,[h,d].concat(a))})}}var m=[].slice,s=b.NodeType,e=/[\.\s]\s*\.?/;c.mix(b,
{_hasClass:function(b,c){var e,d,a,h=b.classList;if(h.length){e=0;for(d=c.length;e<d;e++)if((a=c[e])&&!h.contains(a))return!1;return!0}return!1},_addClass:t("add"),_removeClass:t("remove"),_toggleClass:t("toggle"),hasClass:function(c,e){var o=b.get(c);return o&&o.nodeType==s.ELEMENT_NODE&&b._hasClass(o,g(e))},replaceClass:function(c,e,g){b.removeClass(c,e);b.addClass(c,g)},addClass:j("_addClass"),removeClass:j("_removeClass"),toggleClass:j("_toggleClass")});return b},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,b,g){function t(d){var p=c.require("event/dom");p&&p.detach(d);b.removeData(d)}function j(b){b=b&&b!=o?b.createElement(h):q;b===q&&(b.innerHTML="");return b}function m(b,d){var a=j(d);a.innerHTML="m<div>"+b+"</div>";return a.lastChild}function s(b,d){if(d)if(r&&d.canHaveChildren&&"removeNode"in b){if(b.firstChild)a:{try{b.innerHTML="";break a}catch(a){}for(var c;c=b.lastChild;)s(c,b)}b.removeNode(!1)}else d.removeChild(b)}function e(b,p,a){var c=p.nodeType;if(c==
d.DOCUMENT_FRAGMENT_NODE){p=p.childNodes;a=a.childNodes;for(c=0;p[c];)a[c]&&e(b,p[c],a[c]),c++}else if(c==d.ELEMENT_NODE){p=p.getElementsByTagName("*");a=a.getElementsByTagName("*");for(c=0;p[c];)a[c]&&b(p[c],a[c]),c++}}function f(a,p){var C=c.require("event/dom"),e,h;if(p.nodeType!=d.ELEMENT_NODE||b.hasData(a)){e=b.data(a);for(h in e)b.data(p,h,e[h]);C&&C.clone(a,p)}}function i(b){var d=null,a,e;if(b&&(b.push||b.item)&&b[0]){d=b[0].ownerDocument;d=d.createDocumentFragment();b=c.makeArray(b);a=0;
for(e=b.length;a<e;a++)d.appendChild(b[a])}else"Unable to convert "+b+" to fragment.";return d}var o=c.Env.host.document,d=b.NodeType,a=c.UA,a=document.documentMode||a.ie,h="div",q=o&&o.createElement(h),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,n=/^\s+/,u=/\s+$/,r=!!(a&&9>a),G=r,J=/<|&#?\w+;/,A=o&&"outerHTML"in o.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(b,{create:function(a,p,C,e){var z=null;if(!a)return z;if(a.nodeType)return b.clone(a);
if("string"!=typeof a)return z;e===g&&(e=!0);e&&(a=c.trim(a));var e=b._creators,f,l,C=C||o,q,r=h;if(J.test(a))if(q=B.exec(a))z=C.createElement(q[1]);else{a=a.replace(k,"<$1></$2>");if((q=v.exec(a))&&(f=q[1]))r=f.toLowerCase();f=(e[r]||m)(a,C);G&&(l=a.match(n))&&f.insertBefore(C.createTextNode(l[0]),f.firstChild);G&&/\S/.test(a)&&(l=a.match(u))&&f.appendChild(C.createTextNode(l[0]));l=f.childNodes;1===l.length?z=l[0].parentNode.removeChild(l[0]):l.length?z=i(l):a+" : create node error"}else z=C.createTextNode(a);
a=z;c.isPlainObject(p)&&(a.nodeType==d.ELEMENT_NODE?b.attr(a,p,!0):a.nodeType==d.DOCUMENT_FRAGMENT_NODE&&b.attr(a.childNodes,p,!0));return a},_fixCloneAttributes:function(d,a){"textarea"===b.nodeName(d)&&(a.defaultValue=d.defaultValue,a.value=d.value)},_creators:{div:m},_defaultCreator:m,html:function(a,p,c){var a=b.query(a),e=a[0],h=!1,f,q;if(!e)return null;if(p===g)return e.nodeType==d.ELEMENT_NODE?e.innerHTML:e.nodeType==d.DOCUMENT_FRAGMENT_NODE?(c=j(e.ownerDocument),c.appendChild(e),c.innerHTML):
null;p+="";if(!p.match(/<(?:script|style|link)/i)&&(!G||!p.match(n))&&!l[(p.match(v)||["",""])[1].toLowerCase()])try{for(f=a.length-1;0<=f;f--)q=a[f],q.nodeType==d.ELEMENT_NODE&&(t(q.getElementsByTagName("*")),q.innerHTML=p);h=!0}catch(k){}h||(p=b.create(p,0,e.ownerDocument,0),b.empty(a),b.append(p,a,c));return g},outerHtml:function(a,p,c){var a=b.query(a),e=a.length,h=a[0];if(!h)return null;if(p===g){if(A&&h.nodeType!=b.DOCUMENT_FRAGMENT_NODE)return h.outerHTML;p=j(h.ownerDocument);p.appendChild(b.clone(h,
!0));return p.innerHTML}p+="";if(!p.match(/<(?:script|style|link)/i)&&A)for(c=e-1;0<=c;c--)h=a[c],h.nodeType==d.ELEMENT_NODE&&(t(h),t(h.getElementsByTagName("*")),h.outerHTML=p);else p=b.create(p,0,h.ownerDocument,0),b.insertBefore(p,a,c),b.remove(a);return g},remove:function(a,p){var e,h=b.query(a),f,g=c.require("event/dom"),n;for(n=h.length-1;0<=n;n--)e=h[n],!p&&e.nodeType==d.ELEMENT_NODE&&(f=c.makeArray(e.getElementsByTagName("*")),f.push(e),b.removeData(f),g&&g.detach(f)),s(e,e.parentNode)},clone:function(a,
p,c,h){"object"===typeof p&&(h=p.deepWithDataAndEvent,c=p.withDataAndEvent,p=p.deep);var a=b.get(a),g,n=b._fixCloneAttributes,l;if(!a)return null;l=a.nodeType;g=a.cloneNode(p);if(l==d.ELEMENT_NODE||l==d.DOCUMENT_FRAGMENT_NODE)n&&l==d.ELEMENT_NODE&&n(a,g),p&&n&&e(n,a,g);c&&(f(a,g),p&&h&&e(f,a,g));return g},empty:function(a){var a=b.query(a),d,c;for(c=a.length-1;0<=c;c--)d=a[c],b.remove(d.childNodes)},_nodeListToFragment:i});b.outerHTML=b.outerHtml;var x=b._creators,H=b.create,l={area:"map",thead:"table",
td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},E;for(E in l)(function(b){x[E]=function(a,d){return H("<"+b+">"+a+"</"+b+">",g,d)}})(l[E]);l.option=l.optgroup=function(b,a){return H('<select multiple="multiple">'+b+"</select>",g,a)};return b},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,b,g){var t=c.Env.host,j="_ks_data_"+c.now(),m={},s={},e={applet:1,object:1,embed:1},f={hasData:function(b,a){if(b)if(a!==g){if(a in b)return!0}else if(!c.isEmptyObject(b))return!0;return!1}},i={hasData:function(b,a){return b==t?i.hasData(s,a):f.hasData(b[j],a)},data:function(b,a,c){if(b==t)return i.data(s,a,c);var e=b[j];if(c!==g)e=b[j]=b[j]||{},e[a]=c;else return a!==g?e&&e[a]:e=b[j]=b[j]||{}},removeData:function(b,a){if(b==t)return i.removeData(s,a);var e=b[j];
if(a!==g)delete e[a],c.isEmptyObject(e)&&i.removeData(b);else try{delete b[j]}catch(f){b[j]=g}}},o={hasData:function(b,a){var c=b[j];return!c?!1:f.hasData(m[c],a)},data:function(b,a,h){if(e[b.nodeName.toLowerCase()])return g;var f=b[j];if(!f){if(a!==g&&h===g)return g;f=b[j]=c.guid()}b=m[f];if(h!==g)b=m[f]=m[f]||{},b[a]=h;else return a!==g?b&&b[a]:b=m[f]=m[f]||{}},removeData:function(b,a){var e=b[j],f;if(e)if(f=m[e],a!==g)delete f[a],c.isEmptyObject(f)&&o.removeData(b);else{delete m[e];try{delete b[j]}catch(k){b[j]=
g}b.removeAttribute&&b.removeAttribute(j)}}};c.mix(b,{__EXPANDO:j,hasData:function(d,a){for(var c=!1,e=b.query(d),f=0;f<e.length&&!(c=e[f],c=c.nodeType?o.hasData(c,a):i.hasData(c,a));f++);return c},data:function(d,a,e){var d=b.query(d),f=d[0];if(c.isPlainObject(a)){for(var k in a)b.data(d,k,a[k]);return g}if(e===g){if(f)return f.nodeType?o.data(f,a):i.data(f,a)}else for(k=d.length-1;0<=k;k--)f=d[k],f.nodeType?o.data(f,a,e):i.data(f,a,e);return g},removeData:function(c,a){var e=b.query(c),f,g;for(g=
e.length-1;0<=g;g--)f=e[g],f.nodeType?o.removeData(f,a):i.removeData(f,a)}});return b},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,b){function g(b,a){var c=[],q,k,v;for(q=0;b[q];q++)if(k=b[q],v=e(k),k.nodeType==m.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,g(f(k.childNodes),a));else if("script"===v&&(!k.type||o.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),a&&a.push(k);else{if(k.nodeType==m.ELEMENT_NODE&&!s.test(v)){v=[];var n,u,r=k.getElementsByTagName("script");for(u=0;u<r.length;u++)n=r[u],(!n.type||o.test(n.type))&&v.push(n);i.apply(b,[q+1,0].concat(v))}c.push(k)}return c}function t(b){b.src?
c.getScript(b.src):(b=c.trim(b.text||b.textContent||b.innerHTML||""))&&c.globalEval(b)}function j(d,a,e,f){d=b.query(d);f&&(f=[]);d=g(d,f);b._fixInsertionChecked&&b._fixInsertionChecked(d);var a=b.query(a),i,v,n,u,r=a.length;if((d.length||f&&f.length)&&r){d=b._nodeListToFragment(d);1<r&&(u=b.clone(d,!0),a=c.makeArray(a));for(i=0;i<r;i++)v=a[i],d&&(n=0<i?b.clone(u,!0):d,e(n,v)),f&&f.length&&c.each(f,t)}}var m=b.NodeType,s=/^(?:button|input|object|select|textarea)$/i,e=b.nodeName,f=c.makeArray,i=[].splice,
o=/\/(java|ecma)script/i;c.mix(b,{_fixInsertionChecked:null,insertBefore:function(b,a,c){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},c)},insertAfter:function(b,a,c){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)},c)},appendTo:function(b,a,c){j(b,a,function(b,a){a.appendChild(b)},c)},prependTo:function(b,a,c){j(b,a,function(b,a){a.insertBefore(b,a.firstChild)},c)},wrapAll:function(c,a){a=b.clone(b.get(a),!0);c=b.query(c);c[0].parentNode&&b.insertBefore(a,
c[0]);for(var e;(e=a.firstChild)&&1==e.nodeType;)a=e;b.appendTo(c,a)},wrap:function(e,a){e=b.query(e);a=b.get(a);c.each(e,function(c){b.wrapAll(c,a)})},wrapInner:function(e,a){e=b.query(e);a=b.get(a);c.each(e,function(c){var e=c.childNodes;e.length?b.wrapAll(e,a):c.appendChild(a)})},unwrap:function(e){e=b.query(e);c.each(e,function(a){a=a.parentNode;b.replaceWith(a,a.childNodes)})},replaceWith:function(c,a){var e=b.query(c),a=b.query(a);b.remove(a,!0);b.insertBefore(a,e);b.remove(e)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,a){b[a]=b[c]});return b},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,b,g){function t(b){var c,e=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};c=b.getBoundingClientRect();b=c[a];c=c[h];b-=i.clientLeft||e.clientLeft||0;c-=i.clientTop||e.clientTop||0;return{left:b,top:c}}function j(a,c){var e={left:0,top:0},f=o(a),d,g=a,c=c||f;do{if(f==c){var h=g;d=t(h);h=o(h);d.left+=b[q](h);d.top+=b[k](h)}else d=t(g);e.left+=d.left;e.top+=d.top}while(f&&f!=c&&(g=f.frameElement)&&(f=f.parent));return e}var m=c.Env.host,s=
c.UA,e=m.document,f=b.NodeType,i=e&&e.documentElement,o=b.getWindow,d=Math.max,a="left",h="top",q="scrollLeft",k="scrollTop";c.mix(b,{offset:function(a,c,e){if(c===g){var a=b.get(a),f;a&&(f=j(a,e));return f}e=b.query(a);for(f=e.length-1;0<=f;f--){var a=e[f],d=c;"static"===b.css(a,"position")&&(a.style.position="relative");var h=j(a),i={},o=void 0,k=void 0;for(k in d)o=parseFloat(b.css(a,k))||0,i[k]=o+d[k]-h[k];b.css(a,i)}return g},scrollIntoView:function(e,d,i,r){var k,j,m,q;if(m=b.get(e)){d&&(d=
b.get(d));d||(d=m.ownerDocument);d.nodeType==f.DOCUMENT_NODE&&(d=o(d));c.isPlainObject(i)&&(r=i.allowHorizontalScroll,q=i.onlyScrollIfNeeded,i=i.alignWithTop);r=r===g?!0:r;j=c.isWindow(d);var e=b.offset(m),t=b.outerHeight(m);k=b.outerWidth(m);var s,l,E,w;j?(j=d,s=b.height(j),l=b.width(j),w={left:b.scrollLeft(j),top:b.scrollTop(j)},j=e[a]-w[a],m=e[h]-w[h],k=e[a]+k-(w[a]+l),e=e[h]+t-(w[h]+s)):(s=b.offset(d),l=d.clientHeight,E=d.clientWidth,w={left:b.scrollLeft(d),top:b.scrollTop(d)},j=e[a]-(s[a]+(parseFloat(b.css(d,
"borderLeftWidth"))||0)),m=e[h]-(s[h]+(parseFloat(b.css(d,"borderTopWidth"))||0)),k=e[a]+k-(s[a]+E+(parseFloat(b.css(d,"borderRightWidth"))||0)),e=e[h]+t-(s[h]+l+(parseFloat(b.css(d,"borderBottomWidth"))||0)));if(q){if(0>m||0<e)!0===i?b.scrollTop(d,w.top+m):!1===i?b.scrollTop(d,w.top+e):0>m?b.scrollTop(d,w.top+m):b.scrollTop(d,w.top+e)}else(i=i===g?!0:!!i)?b.scrollTop(d,w.top+m):b.scrollTop(d,w.top+e);if(r)if(q){if(0>j||0<k)!0===i?b.scrollLeft(d,w.left+j):!1===i?b.scrollLeft(d,w.left+k):0>j?b.scrollLeft(d,
w.left+j):b.scrollLeft(d,w.left+k)}else(i=i===g?!0:!!i)?b.scrollLeft(d,w.left+j):b.scrollLeft(d,w.left+k)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(a,c){var e="scroll"+a;b[e]=function(d,h){if("number"===typeof d)return arguments.callee(m,d);var d=b.get(d),i,j,k,q;d&&d.nodeType==f.ELEMENT_NODE?h!==g?d[e]=parseFloat(h):i=d[e]:(q=o(d),h!==g?(h=parseFloat(h),j="Left"==a?h:b.scrollLeft(q),k="Top"==a?h:b.scrollTop(q),q.scrollTo(j,
k)):(i=q["page"+(c?"Y":"X")+"Offset"],"number"!==typeof i&&(j=q.document,i=j.documentElement[e],"number"!==typeof i&&(i=j.body[e]))));return i}});c.each(["Width","Height"],function(a){b["doc"+a]=function(c){c=b.get(c);c=b.getDocument(c);return d(c.documentElement["scroll"+a],c.body["scroll"+a],b["viewport"+a](c))};b["viewport"+a]=function(c){var c=b.get(c),e=o(c),c=e["inner"+a];if(s.mobile&&c)return c;var c="client"+a,e=e.document,d=e.body,f=e.documentElement[c];return"CSS1Compat"===e.compatMode&&
f||d&&d[c]||f}});return b},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,b,g){function t(b,a){return a.toUpperCase()}function j(b){return b.replace(u,"ms-").replace(H,t)}function m(b,a,c){var e={},d=b.style,f;for(f in a)e[f]=d[f],d[f]=a[f];c.call(b);for(f in a)d[f]=e[f]}function s(b,a,c){var e,d,f;if(3===b.nodeType||8===b.nodeType||!(e=b.style))return g;a=j(a);f=A[a];a=B[a]||a;if(c!==g){null===c||c===r?c=r:!isNaN(Number(c))&&!n[a]&&(c+=G);f&&f.set&&(c=f.set(b,c));if(c!==g){try{e[a]=c}catch(h){"css set error:"+h}c===r&&e.removeAttribute&&
e.removeAttribute(a)}e.cssText||b.removeAttribute("style");return g}if(!f||!("get"in f&&(d=f.get(b,!1))!==g))d=e[a];return d===g?"":d}function e(b){var a,c=arguments;0!==b.offsetWidth?a=f.apply(g,c):m(b,E,function(){a=f.apply(g,c)});return a}function f(a,e,d){if(c.isWindow(a))return e==k?b.viewportWidth(a):b.viewportHeight(a);if(9==a.nodeType)return e==k?b.docWidth(a):b.docHeight(a);var f=e===k?["Left","Right"]:["Top","Bottom"],g=e===k?a.offsetWidth:a.offsetHeight;if(0<g)return"border"!==d&&c.each(f,
function(c){d||(g-=parseFloat(b.css(a,"padding"+c))||0);g="margin"===d?g+(parseFloat(b.css(a,d+c))||0):g-(parseFloat(b.css(a,"border"+c+"Width"))||0)}),g;g=b._getComputedStyle(a,e);if(null==g||0>Number(g))g=a.style[e]||0;g=parseFloat(g)||0;d&&c.each(f,function(c){g+=parseFloat(b.css(a,"padding"+c))||0;"padding"!==d&&(g+=parseFloat(b.css(a,"border"+c+"Width"))||0);"margin"===d&&(g+=parseFloat(b.css(a,d+c))||0)});return g}var i=c.Env.host,o=c.UA,d=c.Features,a=b.nodeName,h=i.document,q=/^margin/,k=
"width",v="display"+c.now(),n={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},u=/^-ms-/,r="",G="px",J=/\d(?!px)[a-z%]+$/i,A={},B={"float":"cssFloat"},x={},H=/-([a-z])/ig;if(d.isTransformSupported()){var l;l=B.transform=d.getTransformProperty();B.transformOrigin=l+"Origin"}d.isTransitionSupported()&&(B.transition=d.getTransitionProperty());c.mix(b,{_camelCase:j,_cssHooks:A,_cssProps:B,_getComputedStyle:function(a,c){var e="",d,f,g,h,l;f=a.ownerDocument;c=B[c]||
c;if(d=f.defaultView.getComputedStyle(a,null))e=d.getPropertyValue(c)||d[c];e===""&&!b.contains(f,a)&&(e=a.style[c]);if(b._RE_NUM_NO_PX.test(e)&&q.test(c)){l=a.style;f=l.width;g=l.minWidth;h=l.maxWidth;l.minWidth=l.maxWidth=l.width=e;e=d.width;l.width=f;l.minWidth=g;l.maxWidth=h}return e},style:function(a,e,d){var a=b.query(a),f,h=a[0];if(c.isPlainObject(e)){for(f in e)for(h=a.length-1;h>=0;h--)s(a[h],f,e[f]);return g}if(d===g){f="";h&&(f=s(h,e,d));return f}for(h=a.length-1;h>=0;h--)s(a[h],e,d);return g},
css:function(a,e,d){var a=b.query(a),f=a[0],h;if(c.isPlainObject(e)){for(h in e)for(f=a.length-1;f>=0;f--)s(a[f],h,e[h]);return g}e=j(e);h=A[e];if(d===g){d="";if(f&&(!h||!("get"in h&&(d=h.get(f,true))!==g)))d=b._getComputedStyle(f,e);return typeof d=="undefined"?"":d}for(f=a.length-1;f>=0;f--)s(a[f],e,d);return g},show:function(a){var a=b.query(a),c,e,d;for(d=a.length-1;d>=0;d--){e=a[d];e.style.display=b.data(e,v)||r;if(b.css(e,"display")==="none"){c=e.tagName.toLowerCase();var f=void 0,g=x[c],l=
void 0;if(!x[c]){f=h.body||h.documentElement;l=h.createElement(c);b.prepend(l,f);g=b.css(l,"display");f.removeChild(l);x[c]=g}c=g;b.data(e,v,c);e.style.display=c}}},hide:function(a){var a=b.query(a),c,e;for(e=a.length-1;e>=0;e--){c=a[e];var d=c.style,f=d.display;if(f!=="none"){f&&b.data(c,v,f);d.display="none"}}},toggle:function(a){var a=b.query(a),c,e;for(e=a.length-1;e>=0;e--){c=a[e];b.css(c,"display")==="none"?b.show(c):b.hide(c)}},addStyleSheet:function(a,c,e){if(typeof a=="string"){e=c;c=a;a=
i}var a=b.getDocument(a),d;if(e&&(e=e.replace("#",r)))d=b.get("#"+e,a);if(!d){d=b.create("<style>",{id:e},a);b.get("head",a).appendChild(d);d.styleSheet?d.styleSheet.cssText=c:d.appendChild(a.createTextNode(c))}},unselectable:function(e){var e=b.query(e),d,f,g=0,h,l;for(f=e.length-1;f>=0;f--){d=e[f];l=d.style;l.UserSelect="none";if(o.gecko)l.MozUserSelect="none";else if(o.webkit)l.WebkitUserSelect="none";else if(o.ie||o.opera){l=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(h=
["iframe","textarea","input","select"];d=l[g++];)c.inArray(a(d),h)||d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([k,"height"],function(a){b["inner"+c.ucfirst(a)]=function(c){return(c=b.get(c))&&e(c,a,"padding")};b["outer"+c.ucfirst(a)]=function(c,d){var f=b.get(c);return f&&e(f,a,d?"margin":"border")};b[a]=function(c,e){var d=b.css(c,a,e);d&&(d=parseFloat(d));return d};A[a]={get:function(b,c){var d;c&&(d=e(b,a)+"px");return d}}});
var E={position:"absolute",visibility:"hidden",display:"block"};c.each(["left","top"],function(a){A[a]={get:function(c,e){var d,f,g;if(e){g=b.css(c,"position");if(g==="static")return"auto";d=b._getComputedStyle(c,a);if((f=d==="auto")&&g==="relative")return"0px";if(f||J.test(d)){g={top:0,left:0};if(b.css(c,"position")=="fixed")f=c.getBoundingClientRect();else{for(d=c.offsetParent||(c.ownerDocument||h).body;d&&!w.test(d.nodeName)&&b.css(d,"position")==="static";)d=d.offsetParent;f=b.offset(c);g=b.offset(d);
g.top=g.top+(parseFloat(b.css(d,"borderTopWidth"))||0);g.left=g.left+(parseFloat(b.css(d,"borderLeftWidth"))||0)}f.top=f.top-(parseFloat(b.css(c,"marginTop"))||0);f.left=f.left-(parseFloat(b.css(c,"marginLeft"))||0);d={top:f.top-g.top,left:f.left-g.left}[a]+"px"}}return d}}});var w=/^(?:body|html)$/i;return b},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,b,g){function t(b){var a=this.length,c;for(c=0;c<a&&!1!==b(this[c],c);c++);}function j(a){return function(c){var e=b._getElementById(a,d);return e&&b._contains(c,e)?[e]:[]}}function m(b){return function(a){return a.getElementsByClassName(b)}}function s(b){return function(a){return a.getElementsByTagName(b)}}function e(a,f){var h,i,o="string"==typeof a,u=f!==g?e(f):(i=1)&&[d],z=u.length;if(a)if(o){a=H(a);if(i)if("body"==a)h=[d.body];else if(G.test(a)&&q)h=d.getElementsByClassName(RegExp.$1);
else if(B.test(a))h=(i=b._getElementById(RegExp.$2,d))&&i.nodeName.toLowerCase()==RegExp.$1?[i]:[];else if(J.test(a))h=(i=b._getElementById(a.substr(1),d))?[i]:[];else if(A.test(a))h=d.getElementsByTagName(a);else if(!a.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&q){h=a.split(/\s+/);var y=u,F,x;i=0;for(o=h.length;i<o;i++){F=h;x=i;var D;D=h[i];var I=D.charAt(0);D="#"==I?j(D.substr(1)):"."==I?m(D.substr(1)):s(D);F[x]=D}i=0;for(o=h.length;i<o;i++){D=h[i];var I=[],K;F=
0;for(x=y.length;F<x;F++)K=D(y[F]),I.push.apply(I,c.makeArray(K));y=I;if(!y.length)break}h=y&&1<y.length?b.unique(y):y}if(!h){h=[];for(i=0;i<z;i++)r.apply(h,b._selectInternal(a,u[i]));1<h.length&&1<z&&b.unique(h)}}else{if(h=a.nodeType||a.setTimeout?[a]:a.getDOMNodes?a.getDOMNodes():k(a)?a:n(a)?v(a):[a],!i){o=h;F=o.length;h=[];for(i=0;i<F;i++)for(y=0;y<z;y++)if(b._contains(u[y],o[i])){h.push(o[i]);break}}}else h=[];h.each=t;return h}function f(a,b){var c=a&&(a.className||i(a,"class"));return c&&(c=
c.replace(/[\r\t\n]/g,u))&&-1<(u+c+u).indexOf(u+b+u)}function i(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:g}function o(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var d=c.Env.host.document,a=d.documentElement,h=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector,q="getElementsByClassName"in d,k=c.isArray,v=c.makeArray,n=b.isDomNodeList,u=" ",r=Array.prototype.push,G=/^\.([\w-]+)$/,J=/^#([\w-]+)$/,A=/^([\w-])+$/,
B=/^([\w-]+)#([\w-]+)$/,x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,H=c.trim;c.mix(b,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return c.makeArray(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},_getSimpleAttr:i,_isTag:o,_hasSingleClass:f,_matchesInternal:function(a,b){for(var c=[],e=0,d,f=b.length;e<f;e++)d=
b[e],h.call(d,a)&&c.push(d);return c},_selectInternal:function(a,b){return v(b.querySelectorAll(a))},query:e,get:function(a,b){return e(a,b)[0]||null},unique:function(){function a(e,d){return e==d?(c=!0,0):b._compareNodeOrder(e,d)}var c,e=!0;[0,0].sort(function(){e=!1;return 0});return function(b){c=e;b.sort(a);if(c)for(var d=1,f=b.length;d<f;)b[d]===b[d-1]?(b.splice(d,1),--f):d++;return b}}(),filter:function(a,d,g){var a=e(a,g),h,j,k,m,g=[];if("string"==typeof d&&(d=H(d))&&(k=x.exec(d)))h=k[1],j=
k[2],m=k[3],h?h&&!j&&!m&&(d=function(a){return i(a,"id")==h}):d=function(a){var b=!0,c=!0;j&&(b=o(a,j));m&&(c=f(a,m));return c&&b};return g="function"===typeof d?c.filter(a,d):b._matchesInternal(d,a)},test:function(a,c,d){a=e(a,d);return a.length&&b.filter(a,c,d).length===a.length}});return b},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,b,g){function t(e,f,i,o,d,a,h){if(!(e=b.get(e)))return null;if(0===f)return e;a||(e=e[i]);if(!e)return null;d=d&&b.get(d)||null;f===g&&(f=1);var a=[],m=c.isArray(f),k,t;"number"===typeof f&&(k=0,t=f,f=function(){return++k===t});for(;e&&e!=d;){if((e.nodeType==s.ELEMENT_NODE||e.nodeType==s.TEXT_NODE&&h)&&j(e,f)&&(!o||o(e)))if(a.push(e),!m)break;e=e[i]}return m?a:a[0]||null}function j(e,f){if(!f)return!0;if(c.isArray(f)){var g,j=f.length;if(!j)return!0;for(g=
0;g<j;g++)if(b.test(e,f[g]))return!0}else if(b.test(e,f))return!0;return!1}function m(e,f,g,j){var d=[],a,h;if((a=e=b.get(e))&&g)a=e.parentNode;if(a){g=c.makeArray(a.childNodes);for(a=0;a<g.length;a++)h=g[a],(j||h.nodeType==s.ELEMENT_NODE)&&h!=e&&d.push(h);f&&(d=b.filter(d,f))}return d}var s=b.NodeType;c.mix(b,{_contains:function(b,c){return!!(b.compareDocumentPosition(c)&16)},closest:function(b,c,g,j){return t(b,c,"parentNode",function(b){return b.nodeType!=s.DOCUMENT_FRAGMENT_NODE},g,!0,j)},parent:function(b,
c,i){return t(b,c,"parentNode",function(b){return b.nodeType!=s.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(c,f,i){c=b.get(c);return t(c&&c.firstChild,f,"nextSibling",g,g,!0,i)},last:function(c,f,i){c=b.get(c);return t(c&&c.lastChild,f,"previousSibling",g,g,!0,i)},next:function(b,c,i){return t(b,c,"nextSibling",g,g,g,i)},prev:function(b,c,i){return t(b,c,"previousSibling",g,g,g,i)},siblings:function(b,c,g){return m(b,c,!0,g)},children:function(b,c){return m(b,c,g)},contents:function(b,c){return m(b,
c,g,1)},contains:function(c,f){c=b.get(c);f=b.get(f);return c&&f?b._contains(c,f):!1},index:function(e,f){var g=b.query(e),j,d=0;j=g[0];if(!f){g=j&&j.parentNode;if(!g)return-1;for(;j=j.previousSibling;)j.nodeType==s.ELEMENT_NODE&&d++;return d}d=b.query(f);return"string"===typeof f?c.indexOf(j,d):c.indexOf(d[0],g)},equals:function(c,f){c=b.query(c);f=b.query(f);if(c.length!=f.length)return!1;for(var g=c.length;0<=g;g--)if(c[g]!=f[g])return!1;return!0}});return b},{requires:["./api"]});
KISSY.add("dom/base",function(c,b){c.mix(c,{DOM:b,get:b.get,query:b.query});return b},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
