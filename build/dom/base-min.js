/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 3 19:05
*/
KISSY.add("dom/base/api",function(d){var a=d.Env.host||{},g=a.document,r=d.UA,m={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n={isCustomDomain:function(d){var d=d||a,d=n.get(d),e=d.document.domain,d=d.location.hostname;return e!=d&&e!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||a;d=n.get(d);return r.ie&&n.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:m,getWindow:function(g){if(!g)return a;g=n.get(g);if(d.isWindow(g))return g;var e=g;e.nodeType!==m.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return g;a=n.get(a);return d.isWindow(a)?a.document:a.nodeType==m.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var d=n.get(a),a=d.nodeName.toLowerCase();r.ie&&(d=d.scopeName)&&"HTML"!=d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};d.mix(n,m);return n});
KISSY.add("dom/base/attr",function(d,a,g){function r(a,c){var c=k[c]||c,b=q[c];return b&&b.get?b.get(a,c):a[c]}var m=d.Env.host.document,n=a.NodeType,m=m&&m.documentElement,o=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,h=/^a(?:rea)?$/i,l=/:|^on/,c=/\r/g,b={},i={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},t={tabindex:{get:function(a){var c=
a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):f.test(a.nodeName)||h.test(a.nodeName)&&a.href?0:g}}},k={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},v={get:function(c,b){return a.prop(c,b)?b.toLowerCase():g},set:function(c,b,d){!1===b?
a.removeAttr(c,d):(b=k[d]||d,b in c&&(c[b]=!0),c.setAttribute(d,d.toLowerCase()));return d}},q={},u={},s={select:{get:function(c){var b=c.selectedIndex,d=c.options,g;if(0>b)return null;if("select-one"===""+c.type)return a.val(d[b]);c=[];b=0;for(g=d.length;b<g;++b)d[b].selected&&c.push(a.val(d[b]));return c},set:function(c,b){var g=d.makeArray(b);d.each(c.options,function(c){c.selected=d.inArray(a.val(c),g)});g.length||(c.selectedIndex=-1);return g}}};d.each(["radio","checkbox"],function(c){s[c]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(c,b){return d.isArray(b)?c.checked=d.inArray(a.val(c),b):g}}});t.style={get:function(a){return a.style.cssText}};d.mix(a,{_valHooks:s,_propFix:k,_attrHooks:t,_propHooks:q,_attrNodeHook:u,_attrFix:b,prop:function(c,b,i){var e=a.query(c),f,t;if(d.isPlainObject(b))return d.each(b,function(c,b){a.prop(e,b,c)}),g;b=k[b]||b;t=q[b];if(i!==g)for(c=e.length-1;0<=c;c--)f=e[c],t&&t.set?t.set(f,i,b):f[b]=i;else if(e.length)return r(e[0],b);return g},hasProp:function(c,
b){var d=a.query(c),i,e=d.length,f;for(i=0;i<e;i++)if(f=d[i],r(f,b)!==g)return!0;return!1},removeProp:function(c,b){var b=k[b]||b,d=a.query(c),i,e;for(i=d.length-1;0<=i;i--){e=d[i];try{e[b]=g,delete e[b]}catch(f){}}},attr:function(c,f,q,h){var k=a.query(c),s=k[0];if(d.isPlainObject(f)){var h=q,p;for(p in f)a.attr(k,p,f[p],h);return g}if(h&&i[f])return a[f](c,q);f=f.toLowerCase();if(h&&i[f])return a[f](c,q);f=b[f]||f;c=e.test(f)?v:l.test(f)?u:t[f];if(q===g){if(s&&s.nodeType===n.ELEMENT_NODE){"form"==
o(s)&&(c=u);if(c&&c.get)return c.get(s,f);q=s.getAttribute(f);return""===q&&(f=s.getAttributeNode(f),!f||!f.specified)?g:null===q?g:q}}else for(h=k.length-1;0<=h;h--)if((s=k[h])&&s.nodeType===n.ELEMENT_NODE)"form"==o(s)&&(c=u),c&&c.set?c.set(s,q,f):s.setAttribute(f,""+q);return g},removeAttr:function(c,d){var d=d.toLowerCase(),d=b[d]||d,f=a.query(c),i,g,q;for(q=f.length-1;0<=q;q--)if(g=f[q],g.nodeType==n.ELEMENT_NODE&&(g.removeAttribute(d),e.test(d)&&(i=k[d]||d)in g))g[i]=!1},hasAttr:m&&!m.hasAttribute?
function(c,b){var b=b.toLowerCase(),d=a.query(c),f,g;for(f=0;f<d.length;f++)if(g=d[f],(g=g.getAttributeNode(b))&&g.specified)return!0;return!1}:function(c,b){var d=a.query(c),f,g=d.length;for(f=0;f<g;f++)if(d[f].hasAttribute(b))return!0;return!1},val:function(b,f){var i,e,q,h,p;if(f===g){if(q=a.get(b)){if((i=s[o(q)]||s[q.type])&&"get"in i&&(e=i.get(q,"value"))!==g)return e;e=q.value;return"string"===typeof e?e.replace(c,""):null==e?"":e}return g}e=a.query(b);for(h=e.length-1;0<=h;h--){q=e[h];if(1!==
q.nodeType)break;p=f;null==p?p="":"number"===typeof p?p+="":d.isArray(p)&&(p=d.map(p,function(a){return a==null?"":a+""}));i=s[o(q)]||s[q.type];if(!i||!("set"in i)||i.set(q,p,"value")===g)q.value=p}return g},text:function(c,b){var d,f,i,e;if(b===g)return d=a.get(c),a._getText(d);f=a.query(c);for(i=f.length-1;0<=i;i--)if(d=f[i],e=d.nodeType,e==n.ELEMENT_NODE)a.empty(d),d.appendChild(d.ownerDocument.createTextNode(b));else if(e==n.TEXT_NODE||e==n.CDATA_SECTION_NODE)d.nodeValue=b;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(d,a){function g(a){for(var a=d.trim(a||""),a=a.split(e),g=[],l,c=a.length,b=0;b<c;b++)(l=a[b])&&g.push(l);return g}function r(a){return function(d,g){var c,b,i,e=d.classList,k=n.call(arguments,2);c=0;for(b=g.length;c<b;c++)(i=g[c])&&e[a].apply(e,[i].concat(k))}}function m(d){return function(e,l){var c=g(l),b=n.call(arguments,2);a.query(e).each(function(g){g.nodeType==o.ELEMENT_NODE&&a[d].apply(a,[g,c].concat(b))})}}var n=[].slice,o=a.NodeType,e=/[\.\s]\s*\.?/;d.mix(a,
{_hasClass:function(a,d){var g,c,b,e=a.classList;if(e.length){g=0;for(c=d.length;g<c;g++)if((b=d[g])&&!e.contains(b))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(d,e){var l=a.get(d);return l&&l.nodeType==o.ELEMENT_NODE&&a._hasClass(l,g(e))},replaceClass:function(d,g,e){a.removeClass(d,g);a.addClass(d,e)},addClass:m("_addClass"),removeClass:m("_removeClass"),toggleClass:m("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,a,g){function r(c){var b=d.require("event/dom");b&&b.detach(c);a.removeData(c)}function m(a){a=a&&a!=h?a.createElement(i):t;a===t&&(a.innerHTML="");return a}function n(a,c){var j=m(c);j.innerHTML="m<div>"+a+"</div>";return j.lastChild}function o(a,c,j){var b=c.nodeType;if(b==l.DOCUMENT_FRAGMENT_NODE){c=c.childNodes;j=j.childNodes;for(b=0;c[b];)j[b]&&o(a,c[b],j[b]),b++}else if(b==l.ELEMENT_NODE){c=c.getElementsByTagName("*");j=j.getElementsByTagName("*");for(b=
0;c[b];)j[b]&&a(c[b],j[b]),b++}}function e(c,b){var j=d.require("event/dom"),A,y;if(b.nodeType!=l.ELEMENT_NODE||a.hasData(c)){A=a.data(c);for(y in A)a.data(b,y,A[y]);j&&j.clone(c,b)}}function f(a){var c=null,b,A;if(a&&(a.push||a.item)&&a[0]){c=a[0].ownerDocument;c=c.createDocumentFragment();a=d.makeArray(a);b=0;for(A=a.length;b<A;b++)c.appendChild(a[b])}return c}var h=d.Env.host.document,l=a.NodeType,c=d.UA,b=c.ie,i="div",t=h&&h.createElement(i),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
v=/<([\w:]+)/,q=/^\s+/,u=/\s+$/,s=b&&9>b,I=/<|&#?\w+;/,G=h&&"outerHTML"in h.documentElement,D=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(a,{create:function(c,b,j,A){var y=null;if(!c)return y;if(c.nodeType)return a.clone(c);if("string"!=typeof c)return y;A===g&&(A=!0);A&&(c=d.trim(c));var A=a._creators,e,z,j=j||h,p,t=i;if(I.test(c))if(p=D.exec(c))y=j.createElement(p[1]);else{c=c.replace(k,"<$1></$2>");if((p=v.exec(c))&&(e=p[1]))t=e.toLowerCase();e=(A[t]||n)(c,j);s&&(z=c.match(q))&&e.insertBefore(j.createTextNode(z[0]),
e.firstChild);s&&/\S/.test(c)&&(z=c.match(u))&&e.appendChild(j.createTextNode(z[0]));c=e.childNodes;1===c.length?y=c[0].parentNode.removeChild(c[0]):c.length&&(y=f(c))}else y=j.createTextNode(c);d.isPlainObject(b)&&(y.nodeType==l.ELEMENT_NODE?a.attr(y,b,!0):y.nodeType==l.DOCUMENT_FRAGMENT_NODE&&a.attr(y.childNodes,b,!0));return y},_fixCloneAttributes:function(c,b){"textarea"===a.nodeName(c)&&(b.defaultValue=c.defaultValue,b.value=c.value)},_creators:{div:n},_defaultCreator:n,html:function(c,b,j){var c=
a.query(c),d=c[0],y=!1,e,f;if(!d)return null;if(b===g)return d.nodeType==l.ELEMENT_NODE?d.innerHTML:d.nodeType==l.DOCUMENT_FRAGMENT_NODE?(j=m(d.ownerDocument),j.appendChild(d),j.innerHTML):null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!s||!b.match(q))&&!x[(b.match(v)||["",""])[1].toLowerCase()])try{for(e=c.length-1;0<=e;e--)f=c[e],f.nodeType==l.ELEMENT_NODE&&(r(f.getElementsByTagName("*")),f.innerHTML=b);y=!0}catch(i){}y||(b=a.create(b,0,d.ownerDocument,0),a.empty(c),a.append(b,c,j));return g},
outerHtml:function(c,b,j){var c=a.query(c),d=c.length,e=c[0];if(!e)return null;if(b===g){if(G&&e.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return e.outerHTML;b=m(e.ownerDocument);b.appendChild(a.clone(e,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&G)for(j=d-1;0<=j;j--)e=c[j],e.nodeType==l.ELEMENT_NODE&&(r(e),r(e.getElementsByTagName("*")),e.outerHTML=b);else b=a.create(b,0,e.ownerDocument,0),a.insertBefore(b,c,j),a.remove(c);return g},remove:function(b,e){var j,A=a.query(b),g,f=
d.require("event/dom"),i;for(i=A.length-1;0<=i;i--)if(j=A[i],!e&&j.nodeType==l.ELEMENT_NODE&&(g=d.makeArray(j.getElementsByTagName("*")),g.push(j),a.removeData(g),f&&f.detach(g)),g=j.parentNode)c.ie&&g.canHaveChildren&&"removeNode"in j?j.removeNode(!1):g.removeChild(j)},clone:function(c,b,j,d){"object"===typeof b&&(d=b.deepWithDataAndEvent,j=b.withDataAndEvent,b=b.deep);var c=a.get(c),g,f=a._fixCloneAttributes,i;if(!c)return null;i=c.nodeType;g=c.cloneNode(b);if(i==l.ELEMENT_NODE||i==l.DOCUMENT_FRAGMENT_NODE)f&&
i==l.ELEMENT_NODE&&f(c,g),b&&f&&o(f,c,g);j&&(e(c,g),b&&d&&o(e,c,g));return g},empty:function(c){var c=a.query(c),b,j;for(j=c.length-1;0<=j;j--)b=c[j],a.remove(b.childNodes)},_nodeListToFragment:f});a.outerHTML=a.outerHtml;var C=a._creators,B=a.create,x={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},p;for(p in x)(function(a){C[p]=function(c,b){return B("<"+a+">"+c+"</"+a+">",g,b)}})(x[p]);x.option=
x.optgroup=function(a,c){return B('<select multiple="multiple">'+a+"</select>",g,c)};return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,a,g){var r=d.Env.host,m="_ks_data_"+d.now(),n={},o={},e={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!d.isEmptyObject(a))return!0;return!1}},h={hasData:function(a,b){return a==r?h.hasData(o,b):f.hasData(a[m],b)},data:function(a,b,d){if(a==r)return h.data(o,b,d);var e=a[m];if(d!==g)e=a[m]=a[m]||{},e[b]=d;else return b!==g?e&&e[b]:e=a[m]=a[m]||{}},removeData:function(a,b){if(a==r)return h.removeData(o,b);var e=a[m];
if(b!==g)delete e[b],d.isEmptyObject(e)&&h.removeData(a);else try{delete a[m]}catch(f){a[m]=g}}},l={hasData:function(a,b){var d=a[m];return!d?!1:f.hasData(n[d],b)},data:function(a,b,f){if(e[a.nodeName.toLowerCase()])return g;var h=a[m];if(!h){if(b!==g&&f===g)return g;h=a[m]=d.guid()}a=n[h];if(f!==g)a=n[h]=n[h]||{},a[b]=f;else return b!==g?a&&a[b]:a=n[h]=n[h]||{}},removeData:function(a,b){var e=a[m],f;if(e)if(f=n[e],b!==g)delete f[b],d.isEmptyObject(f)&&l.removeData(a);else{delete n[e];try{delete a[m]}catch(h){a[m]=
g}a.removeAttribute&&a.removeAttribute(m)}}};d.mix(a,{__EXPANDO:m,hasData:function(c,b){for(var d=!1,e=a.query(c),g=0;g<e.length&&!(d=e[g],d=d.nodeType?l.hasData(d,b):h.hasData(d,b));g++);return d},data:function(c,b,e){var c=a.query(c),f=c[0];if(d.isPlainObject(b)){for(var k in b)a.data(c,k,b[k]);return g}if(e===g){if(f)return f.nodeType?l.data(f,b):h.data(f,b)}else for(k=c.length-1;0<=k;k--)f=c[k],f.nodeType?l.data(f,b,e):h.data(f,b,e);return g},removeData:function(c,b){var d=a.query(c),e,g;for(g=
d.length-1;0<=g;g--)e=d[g],e.nodeType?l.removeData(e,b):h.removeData(e,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,a){function g(a,b){var d=[],m,k,v;for(m=0;a[m];m++)if(k=a[m],v=e(k),k.nodeType==n.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,g(f(k.childNodes),b));else if("script"===v&&(!k.type||l.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),b&&b.push(k);else{if(k.nodeType==n.ELEMENT_NODE&&!o.test(v)){v=[];var q,u,s=k.getElementsByTagName("script");for(u=0;u<s.length;u++)q=s[u],(!q.type||l.test(q.type))&&v.push(q);h.apply(a,[m+1,0].concat(v))}d.push(k)}return d}function r(a){a.src?
d.getScript(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function m(c,b,e,f){c=a.query(c);f&&(f=[]);c=g(c,f);a._fixInsertionChecked&&a._fixInsertionChecked(c);var b=a.query(b),h,v,q,l,s=b.length;if((c.length||f&&f.length)&&s){c=a._nodeListToFragment(c);1<s&&(l=a.clone(c,!0),b=d.makeArray(b));for(h=0;h<s;h++)v=b[h],c&&(q=0<h?a.clone(l,!0):c,e(q,v)),f&&f.length&&d.each(f,r)}}var n=a.NodeType,o=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,f=d.makeArray,h=[].splice,
l=/\/(java|ecma)script/i;d.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,d){m(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,b,d){m(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},d)},appendTo:function(a,b,d){m(a,b,function(a,b){b.appendChild(a)},d)},prependTo:function(a,b,d){m(a,b,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var d;(d=b.firstChild)&&1==d.nodeType;)b=d;a.appendTo(c,b)},wrap:function(c,b){c=a.query(c);b=a.get(b);d.each(c,function(c){a.wrapAll(c,b)})},wrapInner:function(c,b){c=a.query(c);b=a.get(b);d.each(c,function(c){var d=c.childNodes;d.length?a.wrapAll(d,b):c.appendChild(b)})},unwrap:function(c){c=a.query(c);d.each(c,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var d=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,d);a.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,a,g){function r(a){var c,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};c=a.getBoundingClientRect();a=c[b];c=c[i];a-=h.clientLeft||d.clientLeft||0;c-=h.clientTop||d.clientTop||0;return{left:a,top:c}}function m(b,c){var d={left:0,top:0},e=l(b),g,f=b,c=c||e;do{if(e==c){var h=f;g=r(h);h=l(h);g.left+=a[t](h);g.top+=a[k](h)}else g=r(f);d.left+=g.left;d.top+=g.top}while(e&&e!=c&&(f=e.frameElement)&&(e=e.parent));return d}var n=d.Env.host,o=
d.UA,e=n.document,f=a.NodeType,h=e&&e.documentElement,l=a.getWindow,c=Math.max,b="left",i="top",t="scrollLeft",k="scrollTop";d.mix(a,{offset:function(b,c,d){if(c===g){var b=a.get(b),e;b&&(e=m(b,d));return e}d=a.query(b);for(e=d.length-1;0<=e;e--){var b=d[e],f=c;"static"===a.css(b,"position")&&(b.style.position="relative");var h=m(b),i={},l=void 0,k=void 0;for(k in f)l=parseFloat(a.css(b,k))||0,i[k]=l+f[k]-h[k];a.css(b,i)}return g},scrollIntoView:function(c,e,h,m){var k,n,o,r;if(o=a.get(c)){e&&(e=
a.get(e));e||(e=o.ownerDocument);e.nodeType==f.DOCUMENT_NODE&&(e=l(e));d.isPlainObject(h)&&(m=h.allowHorizontalScroll,r=h.onlyScrollIfNeeded,h=h.alignWithTop);m=m===g?!0:m;n=d.isWindow(e);var c=a.offset(o),t=a.outerHeight(o);k=a.outerWidth(o);var x,p,J,w;n?(n=e,x=a.height(n),p=a.width(n),w={left:a.scrollLeft(n),top:a.scrollTop(n)},n=c[b]-w[b],o=c[i]-w[i],k=c[b]+k-(w[b]+p),c=c[i]+t-(w[i]+x)):(x=a.offset(e),p=e.clientHeight,J=e.clientWidth,w={left:a.scrollLeft(e),top:a.scrollTop(e)},n=c[b]-(x[b]+(parseFloat(a.css(e,
"borderLeftWidth"))||0)),o=c[i]-(x[i]+(parseFloat(a.css(e,"borderTopWidth"))||0)),k=c[b]+k-(x[b]+J+(parseFloat(a.css(e,"borderRightWidth"))||0)),c=c[i]+t-(x[i]+p+(parseFloat(a.css(e,"borderBottomWidth"))||0)));if(r){if(0>o||0<c)!0===h?a.scrollTop(e,w.top+o):!1===h?a.scrollTop(e,w.top+c):0>o?a.scrollTop(e,w.top+o):a.scrollTop(e,w.top+c)}else(h=h===g?!0:!!h)?a.scrollTop(e,w.top+o):a.scrollTop(e,w.top+c);if(m)if(r){if(0>n||0<k)!0===h?a.scrollLeft(e,w.left+n):!1===h?a.scrollLeft(e,w.left+k):0>n?a.scrollLeft(e,
w.left+n):a.scrollLeft(e,w.left+k)}else(h=h===g?!0:!!h)?a.scrollLeft(e,w.left+n):a.scrollLeft(e,w.left+k)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(b,c){var d="scroll"+b;a[d]=function(e,h){if("number"===typeof e)return arguments.callee(n,e);var e=a.get(e),i,k,m,o;e&&e.nodeType==f.ELEMENT_NODE?h!==g?e[d]=parseFloat(h):i=e[d]:(o=l(e),h!==g?(h=parseFloat(h),k="Left"==b?h:a.scrollLeft(o),m="Top"==b?h:a.scrollTop(o),o.scrollTo(k,
m)):(i=o["page"+(c?"Y":"X")+"Offset"],"number"!==typeof i&&(k=o.document,i=k.documentElement[d],"number"!==typeof i&&(i=k.body[d]))));return i}});d.each(["Width","Height"],function(b){a["doc"+b]=function(d){d=a.get(d);d=a.getDocument(d);return c(d.documentElement["scroll"+b],d.body["scroll"+b],a["viewport"+b](d))};a["viewport"+b]=function(c){var c=a.get(c),d=l(c),c=d["inner"+b];if(o.mobile&&c)return c;var c="client"+b,d=d.document,e=d.body,g=d.documentElement[c];return"CSS1Compat"===d.compatMode&&
g||e&&e[c]||g}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,a,g){function r(a,b){return b.toUpperCase()}function m(a){return a.replace(u,"ms-").replace(x,r)}function n(a,b,c){var d={},e=a.style,g;for(g in b)d[g]=e[g],e[g]=b[g];c.call(a);for(g in b)e[g]=d[g]}function o(a,b,c){var d,e,f;if(3===a.nodeType||8===a.nodeType||!(d=a.style))return g;b=m(b);f=D[b];b=C[b]||b;if(c!==g){null===c||c===s?c=s:!isNaN(Number(c))&&!q[b]&&(c+=I);f&&f.set&&(c=f.set(a,c));if(c!==g){try{d[b]=c}catch(h){}c===s&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return g}if(!f||!("get"in f&&(e=f.get(a,!1))!==g))e=d[b];return e===g?"":e}function e(a){var b,c=arguments;0!==a.offsetWidth?b=f.apply(g,c):n(a,J,function(){b=f.apply(g,c)});return b}function f(b,c,e){if(d.isWindow(b))return c==k?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return c==k?a.docWidth(b):a.docHeight(b);var g=c===k?["Left","Right"]:["Top","Bottom"],f=c===k?b.offsetWidth:b.offsetHeight;if(0<f)return"border"!==e&&d.each(g,function(c){e||(f-=parseFloat(a.css(b,
"padding"+c))||0);f="margin"===e?f+(parseFloat(a.css(b,e+c))||0):f-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),f;f=a._getComputedStyle(b,c);if(null==f||0>Number(f))f=b.style[c]||0;f=parseFloat(f)||0;e&&d.each(g,function(c){f+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==e&&(f+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===e&&(f+=parseFloat(a.css(b,e+c))||0)});return f}var h=d.Env.host,l=d.UA,c=d.Features,b=a.nodeName,i=h.document,t=/^margin/,k="width",v="display"+d.now(),q={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},u=/^-ms-/,s="",I="px",G=/\d(?!px)[a-z%]+$/i,D={},C={"float":"cssFloat"},B={},x=/-([a-z])/ig;if(c.isTransformSupported()){var p;p=C.transform=c.getTransformProperty();C.transformOrigin=p+"Origin"}c.isTransitionSupported()&&(C.transition=c.getTransitionProperty());d.mix(a,{_camelCase:m,_cssHooks:D,_cssProps:C,_getComputedStyle:function(b,c){var d="",e,f,g,h,p;f=b.ownerDocument;c=C[c]||c;if(e=f.defaultView.getComputedStyle(b,null))d=
e.getPropertyValue(c)||e[c];d===""&&!a.contains(f,b)&&(d=b.style[c]);if(a._RE_NUM_NO_PX.test(d)&&t.test(c)){p=b.style;f=p.width;g=p.minWidth;h=p.maxWidth;p.minWidth=p.maxWidth=p.width=d;d=e.width;p.width=f;p.minWidth=g;p.maxWidth=h}return d},style:function(b,c,e){var b=a.query(b),f,h=b[0];if(d.isPlainObject(c)){for(f in c)for(h=b.length-1;h>=0;h--)o(b[h],f,c[f]);return g}if(e===g){f="";h&&(f=o(h,c,e));return f}for(h=b.length-1;h>=0;h--)o(b[h],c,e);return g},css:function(b,c,e){var b=a.query(b),f=
b[0],h;if(d.isPlainObject(c)){for(h in c)for(f=b.length-1;f>=0;f--)o(b[f],h,c[h]);return g}c=m(c);h=D[c];if(e===g){e="";if(f&&(!h||!("get"in h&&(e=h.get(f,true))!==g)))e=a._getComputedStyle(f,c);return typeof e=="undefined"?"":e}for(f=b.length-1;f>=0;f--)o(b[f],c,e);return g},show:function(b){var b=a.query(b),c,e,d;for(d=b.length-1;d>=0;d--){e=b[d];e.style.display=a.data(e,v)||s;if(a.css(e,"display")==="none"){c=e.tagName.toLowerCase();var f=void 0,g=B[c],h=void 0;if(!B[c]){f=i.body||i.documentElement;
h=i.createElement(c);a.prepend(h,f);g=a.css(h,"display");f.removeChild(h);B[c]=g}c=g;a.data(e,v,c);e.style.display=c}}},hide:function(b){var b=a.query(b),c,e;for(e=b.length-1;e>=0;e--){c=b[e];var d=c.style,f=d.display;if(f!=="none"){f&&a.data(c,v,f);d.display="none"}}},toggle:function(b){var b=a.query(b),c,e;for(e=b.length-1;e>=0;e--){c=b[e];a.css(c,"display")==="none"?a.show(c):a.hide(c)}},addStyleSheet:function(b,c,e){if(typeof b=="string"){e=c;c=b;b=h}var b=a.getDocument(b),d;if(e&&(e=e.replace("#",
s)))d=a.get("#"+e,b);if(!d){d=a.create("<style>",{id:e},b);a.get("head",b).appendChild(d);d.styleSheet?d.styleSheet.cssText=c:d.appendChild(b.createTextNode(c))}},unselectable:function(c){var c=a.query(c),e,f,g=0,h,p;for(f=c.length-1;f>=0;f--){e=c[f];p=e.style;p.UserSelect="none";if(l.gecko)p.MozUserSelect="none";else if(l.webkit)p.WebkitUserSelect="none";else if(l.ie||l.opera){p=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(h=["iframe","textarea","input","select"];e=p[g++];)d.inArray(b(e),
h)||e.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([k,"height"],function(b){a["inner"+d.ucfirst(b)]=function(c){return(c=a.get(c))&&e(c,b,"padding")};a["outer"+d.ucfirst(b)]=function(c,d){var f=a.get(c);return f&&e(f,b,d?"margin":"border")};a[b]=function(c,e){var d=a.css(c,b,e);d&&(d=parseFloat(d));return d};D[b]={get:function(a,c){var d;c&&(d=e(a,b)+"px");return d}}});var J={position:"absolute",visibility:"hidden",display:"block"};
d.each(["left","top"],function(b){D[b]={get:function(c,e){var d,f,g;if(e){g=a.css(c,"position");if(g==="static")return"auto";d=a._getComputedStyle(c,b);if((f=d==="auto")&&g==="relative")return"0px";if(f||G.test(d)){g={top:0,left:0};if(a.css(c,"position")=="fixed")f=c.getBoundingClientRect();else{for(d=c.offsetParent||(c.ownerDocument||i).body;d&&!w.test(d.nodeName)&&a.css(d,"position")==="static";)d=d.offsetParent;f=a.offset(c);g=a.offset(d);g.top=g.top+(parseFloat(a.css(d,"borderTopWidth"))||0);
g.left=g.left+(parseFloat(a.css(d,"borderLeftWidth"))||0)}f.top=f.top-(parseFloat(a.css(c,"marginTop"))||0);f.left=f.left-(parseFloat(a.css(c,"marginLeft"))||0);d={top:f.top-g.top,left:f.left-g.left}[b]+"px"}}return d}}});var w=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,a,g){function r(a){var c=this.length,b;for(b=0;b<c&&!1!==a(this[b],b);b++);}function m(b){return function(d){var e=a._getElementById(b,c);return e&&a._contains(d,e)?[e]:[]}}function n(a){return function(b){return b.getElementsByClassName(a)}}function o(a){return function(b){return b.getElementsByTagName(a)}}function e(b,f){var h,j,i="string"==typeof b,l=f!==g?e(f):(j=1)&&[c],u=l.length;if(b)if(i){b=x(b);if(j)if("body"==b)h=[c.body];else if(I.test(b)&&t)h=c.getElementsByClassName(RegExp.$1);
else if(C.test(b))h=(j=a._getElementById(RegExp.$2,c))&&j.nodeName.toLowerCase()==RegExp.$1?[j]:[];else if(G.test(b))h=(j=a._getElementById(b.substr(1),c))?[j]:[];else if(D.test(b))h=c.getElementsByTagName(b);else if(!b.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&t){h=b.split(/\s+/);var z=l,F,B;j=0;for(i=h.length;j<i;j++){F=h;B=j;var E;E=h[j];var H=E.charAt(0);E="#"==H?m(E.substr(1)):"."==H?n(E.substr(1)):o(E);F[B]=E}j=0;for(i=h.length;j<i;j++){E=h[j];var H=[],K;F=
0;for(B=z.length;F<B;F++)K=E(z[F]),H.push.apply(H,d.makeArray(K));z=H;if(!z.length)break}h=z&&1<z.length?a.unique(z):z}if(!h){h=[];for(j=0;j<u;j++)s.apply(h,a._selectInternal(b,l[j]));1<h.length&&1<u&&a.unique(h)}}else{if(h=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():k(b)?b:q(b)?v(b):[b],!j){i=h;F=i.length;h=[];for(j=0;j<F;j++)for(z=0;z<u;z++)if(a._contains(l[z],i[j])){h.push(i[j]);break}}}else h=[];h.each=r;return h}function f(b,a){var c=b&&(b.className||h(b,"class"));return c&&(c=
c.replace(/[\r\t\n]/g,u))&&-1<(u+c+u).indexOf(u+a+u)}function h(b,a){var c=b&&b.getAttributeNode(a);return c&&c.specified?c.nodeValue:g}function l(b,a){return"*"==a||b.nodeName.toLowerCase()===a.toLowerCase()}var c=d.Env.host.document,b=c.documentElement,i=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||b.msMatchesSelector,t="getElementsByClassName"in c,k=d.isArray,v=d.makeArray,q=a.isDomNodeList,u=" ",s=Array.prototype.push,I=/^\.([\w-]+)$/,G=/^#([\w-]+)$/,D=/^([\w-])+$/,
C=/^([\w-]+)#([\w-]+)$/,B=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,x=d.trim;d.mix(a,{_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(a)&4?-1:1},_getElementsByTagName:function(b,a){return d.makeArray(a.querySelectorAll(b))},_getElementById:function(b,a){return a.getElementById(b)},_getSimpleAttr:h,_isTag:l,_hasSingleClass:f,_matchesInternal:function(b,a){for(var c=[],e=0,d,f=a.length;e<f;e++)d=
a[e],i.call(d,b)&&c.push(d);return c},_selectInternal:function(b,a){return v(a.querySelectorAll(b))},query:e,get:function(b,a){return e(b,a)[0]||null},unique:function(){function b(e,d){return e==d?(c=!0,0):a._compareNodeOrder(e,d)}var c,e=!0;[0,0].sort(function(){e=!1;return 0});return function(a){c=e;a.sort(b);if(c)for(var d=1,f=a.length;d<f;)a[d]===a[d-1]?(a.splice(d,1),--f):d++;return a}}(),filter:function(b,c,g){var b=e(b,g),i,k,m,n,g=[];if("string"==typeof c&&(c=x(c))&&(m=B.exec(c)))i=m[1],k=
m[2],n=m[3],i?i&&!k&&!n&&(c=function(b){return h(b,"id")==i}):c=function(b){var a=!0,c=!0;k&&(a=l(b,k));n&&(c=f(b,n));return c&&a};return g="function"===typeof c?d.filter(b,c):a._matchesInternal(c,b)},test:function(b,c,d){b=e(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,a,g){function r(e,f,h,l,c,b,i){if(!(e=a.get(e)))return null;if(0===f)return e;b||(e=e[h]);if(!e)return null;c=c&&a.get(c)||null;f===g&&(f=1);var b=[],n=d.isArray(f),k,r;"number"===typeof f&&(k=0,r=f,f=function(){return++k===r});for(;e&&e!=c;){if((e.nodeType==o.ELEMENT_NODE||e.nodeType==o.TEXT_NODE&&i)&&m(e,f)&&(!l||l(e)))if(b.push(e),!n)break;e=e[h]}return n?b:b[0]||null}function m(e,f){if(!f)return!0;if(d.isArray(f)){var g,l=f.length;if(!l)return!0;for(g=
0;g<l;g++)if(a.test(e,f[g]))return!0}else if(a.test(e,f))return!0;return!1}function n(e,f,g,l){var c=[],b,i;if((b=e=a.get(e))&&g)b=e.parentNode;if(b){g=d.makeArray(b.childNodes);for(b=0;b<g.length;b++)i=g[b],(l||i.nodeType==o.ELEMENT_NODE)&&i!=e&&c.push(i);f&&(c=a.filter(c,f))}return c}var o=a.NodeType;d.mix(a,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,g,l){return r(a,d,"parentNode",function(a){return a.nodeType!=o.DOCUMENT_FRAGMENT_NODE},g,!0,l)},parent:function(a,
d,h){return r(a,d,"parentNode",function(a){return a.nodeType!=o.DOCUMENT_FRAGMENT_NODE},h,g)},first:function(d,f,h){d=a.get(d);return r(d&&d.firstChild,f,"nextSibling",g,g,!0,h)},last:function(d,f,h){d=a.get(d);return r(d&&d.lastChild,f,"previousSibling",g,g,!0,h)},next:function(a,d,h){return r(a,d,"nextSibling",g,g,g,h)},prev:function(a,d,h){return r(a,d,"previousSibling",g,g,g,h)},siblings:function(a,d,g){return n(a,d,!0,g)},children:function(a,d){return n(a,d,g)},contents:function(a,d){return n(a,
d,g,1)},contains:function(d,f){d=a.get(d);f=a.get(f);return d&&f?a._contains(d,f):!1},index:function(e,f){var g=a.query(e),l,c=0;l=g[0];if(!f){g=l&&l.parentNode;if(!g)return-1;for(;l=l.previousSibling;)l.nodeType==o.ELEMENT_NODE&&c++;return c}c=a.query(f);return"string"===typeof f?d.indexOf(l,c):d.indexOf(c[0],g)},equals:function(d,f){d=a.query(d);f=a.query(f);if(d.length!=f.length)return!1;for(var g=d.length;0<=g;g--)if(d[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(d,a){d.mix(d,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
