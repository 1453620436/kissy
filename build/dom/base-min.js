/*
Copyright 2013, KISSY UI Library v1.32
MIT Licensed
build time: Sep 3 16:49
*/
KISSY.add("dom/base/api",function(d){var b=d.Env.host,i=d.UA,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},j={isCustomDomain:function(d){var d=d||b,i=d.document.domain,d=d.location.hostname;return i!=d&&i!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||b;return i.ie&&j.isCustomDomain(d)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:n,getWindow:function(d){return!d?b:"scrollTo"in d&&d.document?d:d.nodeType==n.DOCUMENT_NODE?d.defaultView||d.parentWindow:!1},_isNodeList:function(b){return b&&!b.nodeType&&b.item&&!b.setTimeout},nodeName:function(b){var d=j.get(b),b=d.nodeName.toLowerCase();i.ie&&(d=d.scopeName)&&"HTML"!=d&&(b=d.toLowerCase()+":"+b);return b},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};d.mix(j,n);return j});
KISSY.add("dom/base/attr",function(d,b,i){function n(b,a){var a=A[a]||a,c=y[a];return c&&c.get?c.get(b,a):b[a]}var j=d.Env.host.document,q=b.NodeType,t=(j=j&&j.documentElement)&&j.textContent===i?"innerText":"textContent",k=b.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,h=/^(?:button|input|object|select|textarea)$/i,r=/^a(?:rea)?$/i,c=/:|^on/,a=/\r/g,p={},f={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},z={tabindex:{get:function(b){var a=b.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):h.test(b.nodeName)||r.test(b.nodeName)&&b.href?0:i}}},A={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},B={get:function(a,
c){return b.prop(a,c)?c.toLowerCase():i},set:function(a,c,d){!1===c?b.removeAttr(a,d):(c=A[d]||d,c in a&&(a[c]=!0),a.setAttribute(d,d.toLowerCase()));return d}},y={},x={},C={select:{get:function(a){var c=a.selectedIndex,d=a.options,g;if(0>c)return null;if("select-one"===a.type)return b.val(d[c]);a=[];c=0;for(g=d.length;c<g;++c)d[c].selected&&a.push(b.val(d[c]));return a},set:function(a,c){var f=d.makeArray(c);d.each(a.options,function(a){a.selected=d.inArray(b.val(a),f)});f.length||(a.selectedIndex=
-1);return f}}};d.each(["radio","checkbox"],function(a){C[a]={get:function(b){return null===b.getAttribute("value")?"on":b.value},set:function(a,c){if(d.isArray(c))return a.checked=d.inArray(b.val(a),c)}}});z.style={get:function(b){return b.style.cssText}};d.mix(b,{_valHooks:C,_propFix:A,_attrHooks:z,_propHooks:y,_attrNodeHook:x,_attrFix:p,prop:function(a,c,f){var g=b.query(a),m,o;if(d.isPlainObject(c))return d.each(c,function(m,a){b.prop(g,a,m)}),i;c=A[c]||c;o=y[c];if(f!==i)for(a=g.length-1;0<=a;a--)m=
g[a],o&&o.set?o.set(m,f,c):m[c]=f;else if(g.length)return n(g[0],c);return i},hasProp:function(a,c){var d=b.query(a),g,m=d.length,o;for(g=0;g<m;g++)if(o=d[g],n(o,c)!==i)return!0;return!1},removeProp:function(a,c){var c=A[c]||c,d=b.query(a),g,m;for(g=d.length-1;0<=g;g--){m=d[g];try{m[c]=i,delete m[c]}catch(o){}}},attr:function(a,h,s,g){var m=b.query(a),o=m[0];if(d.isPlainObject(h)){var g=s,u;for(u in h)b.attr(m,u,h[u],g);return i}if(!(h=d.trim(h)))return i;if(g&&f[h])return b[h](a,s);h=h.toLowerCase();
if(g&&f[h])return b[h](a,s);h=p[h]||h;a=e.test(h)?B:c.test(h)?x:z[h];if(s===i){if(o&&o.nodeType===q.ELEMENT_NODE){"form"==k(o)&&(a=x);if(a&&a.get)return a.get(o,h);h=o.getAttribute(h);return null===h?i:h}}else for(g=m.length-1;0<=g;g--)if((o=m[g])&&o.nodeType===q.ELEMENT_NODE)"form"==k(o)&&(a=x),a&&a.set?a.set(o,s,h):o.setAttribute(h,""+s);return i},removeAttr:function(a,c){var c=c.toLowerCase(),c=p[c]||c,d=b.query(a),g,m,o;for(o=d.length-1;0<=o;o--)if(m=d[o],m.nodeType==q.ELEMENT_NODE&&(m.removeAttribute(c),
e.test(c)&&(g=A[c]||c)in m))m[g]=!1},hasAttr:j&&!j.hasAttribute?function(a,c){var c=c.toLowerCase(),d=b.query(a),g,m;for(g=0;g<d.length;g++)if(m=d[g],(m=m.getAttributeNode(c))&&m.specified)return!0;return!1}:function(a,c){var d=b.query(a),g,m=d.length;for(g=0;g<m;g++)if(d[g].hasAttribute(c))return!0;return!1},val:function(c,h){var f,g,m,o,u;if(h===i){if(m=b.get(c)){if((f=C[k(m)]||C[m.type])&&"get"in f&&(g=f.get(m,"value"))!==i)return g;g=m.value;return"string"===typeof g?g.replace(a,""):null==g?"":
g}return i}g=b.query(c);for(o=g.length-1;0<=o;o--){m=g[o];if(1!==m.nodeType)break;u=h;null==u?u="":"number"===typeof u?u+="":d.isArray(u)&&(u=d.map(u,function(b){return b==null?"":b+""}));f=C[k(m)]||C[m.type];if(!f||!("set"in f)||f.set(m,u,"value")===i)m.value=u}return i},text:function(a,c){var d,g,m;if(c===i){d=b.get(a);if(d.nodeType==q.ELEMENT_NODE)return d[t]||"";if(d.nodeType==q.TEXT_NODE)return d.nodeValue}else{g=b.query(a);for(m=g.length-1;0<=m;m--)d=g[m],d.nodeType==q.ELEMENT_NODE?d[t]=c:d.nodeType==
q.TEXT_NODE&&(d.nodeValue=c)}return i}});return b},{requires:["./api"]});KISSY.add("dom/base",function(d,b){d.mix(d,{DOM:b,get:b.get,query:b.query});return b},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(d,b,i){function n(k,e,h,r){if(!(e=d.trim(e)))return r?!1:i;var k=b.query(k),c=k.length,a=e.split(q),e=[],p,f;for(f=0;f<a.length;f++)(p=d.trim(a[f]))&&e.push(p);for(f=0;f<c;f++)if(a=k[f],a.nodeType==j.ELEMENT_NODE&&(a=h(a,e,e.length),a!==i))return a;return r?!1:i}var j=b.NodeType,q=/[\.\s]\s*\.?/,t=/[\n\t]/g;d.mix(b,{hasClass:function(b,d){return n(b,d,function(b,d,c){var b=b.className,a,p;if(b){b=(" "+b+" ").replace(t," ");a=0;for(p=!0;a<c;a++)if(0>b.indexOf(" "+
d[a]+" ")){p=!1;break}if(p)return!0}},!0)},addClass:function(b,e){n(b,e,function(b,i,c){var a=b.className,p,f;if(a){p=(" "+a+" ").replace(t," ");for(f=0;f<c;f++)0>p.indexOf(" "+i[f]+" ")&&(a+=" "+i[f]);b.className=d.trim(a)}else b.className=e},i)},removeClass:function(b,e){n(b,e,function(b,i,c){var a=b.className,p,f;if(a)if(c){a=(" "+a+" ").replace(t," ");for(p=0;p<c;p++)for(f=" "+i[p]+" ";0<=a.indexOf(f);)a=a.replace(f," ");b.className=d.trim(a)}else b.className=""},i)},replaceClass:function(d,i,
h){b.removeClass(d,i);b.addClass(d,h)},toggleClass:function(k,e,h){var j=d.isBoolean(h),c,a;n(k,e,function(d,f,i){for(a=0;a<i;a++)e=f[a],c=j?!h:b.hasClass(d,e),b[c?"removeClass":"addClass"](d,e)},i)}});return b},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,b,i){function n(a){var c=d.require("event/dom");c&&c.detach(a);b.removeData(a)}function j(b,c){var d=c&&c!=e?c.createElement(a):p;d.innerHTML="m<div>"+b+"</div>";return d.lastChild}function q(b,a,c){var l=a.nodeType;if(l==h.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;c=c.childNodes;for(l=0;a[l];)c[l]&&q(b,a[l],c[l]),l++}else if(l==h.ELEMENT_NODE){a=a.getElementsByTagName("*");c=c.getElementsByTagName("*");for(l=0;a[l];)c[l]&&b(a[l],c[l]),l++}}function t(a,c){var g=
d.require("event/dom"),l,v;if(c.nodeType!=h.ELEMENT_NODE||b.hasData(a)){l=b.data(a);for(v in l)b.data(c,v,l[v]);g&&(g._DOMUtils.removeData(c),g._clone(a,c))}}function k(b){var a=null,c,l;if(b&&(b.push||b.item)&&b[0]){a=b[0].ownerDocument;a=a.createDocumentFragment();b=d.makeArray(b);c=0;for(l=b.length;c<l;c++)a.appendChild(b[c])}return a}var e=d.Env.host.document,h=b.NodeType,r=d.UA,c=r.ie,a="div",p=e&&e.createElement(a),f=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
z=/<([\w:]+)/,A=/^\s+/,B=c&&9>c,y=/<|&#?\w+;/,x=e&&"outerHTML"in e.documentElement,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(b,{create:function(c,g,u,l){var v=null;if(!c)return v;if(c.nodeType)return b.clone(c);if("string"!=typeof c)return v;l===i&&(l=!0);l&&(c=d.trim(c));var l=b._creators,w,p,u=u||e,x,s=a;if(y.test(c))if(x=C.exec(c))v=u.createElement(x[1]);else{c=c.replace(f,"<$1></$2>");if((x=z.exec(c))&&(w=x[1]))s=w.toLowerCase();w=(l[s]||j)(c,u);B&&(p=c.match(A))&&w.insertBefore(u.createTextNode(p[0]),
w.firstChild);c=w.childNodes;1===c.length?v=c[0].parentNode.removeChild(c[0]):c.length&&(v=k(c))}else v=u.createTextNode(c);d.isPlainObject(g)&&(v.nodeType==h.ELEMENT_NODE?b.attr(v,g,!0):v.nodeType==h.DOCUMENT_FRAGMENT_NODE&&b.attr(v.childNodes,g,!0));return v},_fixCloneAttributes:null,_creators:{div:j},_defaultCreator:j,html:function(c,a,d,l){var c=b.query(c),g=c[0],w=!1,f,p;if(g){if(a===i)return g.nodeType==h.ELEMENT_NODE?g.innerHTML:null;a+="";if(!a.match(/<(?:script|style|link)/i)&&(!B||!a.match(A))&&
!s[(a.match(z)||["",""])[1].toLowerCase()])try{for(f=c.length-1;0<=f;f--)p=c[f],p.nodeType==h.ELEMENT_NODE&&(n(p.getElementsByTagName("*")),p.innerHTML=a);w=!0}catch(e){}w||(a=b.create(a,0,g.ownerDocument,0),b.empty(c),b.append(a,c,d));l&&l()}},outerHTML:function(c,g,d){var l=b.query(c),v=l.length;if(c=l[0]){if(g===i){if(x)return c.outerHTML;g=(g=c.ownerDocument)&&g!=e?g.createElement(a):p;g.innerHTML="";g.appendChild(b.clone(c,!0));return g.innerHTML}g+="";if(!g.match(/<(?:script|style|link)/i)&&
x)for(d=v-1;0<=d;d--)c=l[d],c.nodeType==h.ELEMENT_NODE&&(n(c),n(c.getElementsByTagName("*")),c.outerHTML=g);else c=b.create(g,0,c.ownerDocument,0),b.insertBefore(c,l,d),b.remove(l)}},remove:function(c,a){var g,l,d=b.query(c),f;for(f=d.length-1;0<=f;f--)if(g=d[f],!a&&g.nodeType==h.ELEMENT_NODE&&(l=g.getElementsByTagName("*"),n(l),n(g)),l=g.parentNode)r.ie&&l.canHaveChildren&&"removeNode"in g?g.removeNode(!1):l.removeChild(g)},clone:function(c,a,g,l){"object"===typeof a&&(l=a.deepWithDataAndEvent,g=
a.withDataAndEvent,a=a.deep);var c=b.get(c),d,f=b._fixCloneAttributes,i;if(!c)return null;i=c.nodeType;d=c.cloneNode(a);if(i==h.ELEMENT_NODE||i==h.DOCUMENT_FRAGMENT_NODE)f&&i==h.ELEMENT_NODE&&f(c,d),a&&f&&q(f,c,d);g&&(t(c,d),a&&l&&q(t,c,d));return d},empty:function(c){var c=b.query(c),a,g;for(g=c.length-1;0<=g;g--)a=c[g],b.remove(a.childNodes)},_nodeListToFragment:k});var E=b._creators,D=b.create,s={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",
tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},g;for(g in s)(function(c){E[g]=function(b,a){return D("<"+c+">"+b+"</"+c+">",null,a)}})(s[g]);return b},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,b,i){var n=d.Env.host,j="__ks_data_"+d.now(),q={},t={},k={applet:1,object:1,embed:1},e={hasData:function(c,b){if(c)if(b!==i){if(b in c)return!0}else if(!d.isEmptyObject(c))return!0;return!1}},h={hasData:function(b,a){return b==n?h.hasData(t,a):e.hasData(b[j],a)},data:function(b,a,d){if(b==n)return h.data(t,a,d);var f=b[j];if(d!==i)f=b[j]=b[j]||{},f[a]=d;else return a!==i?f&&f[a]:f=b[j]=b[j]||{}},removeData:function(b,a){if(b==n)return h.removeData(t,a);var p=b[j];
if(a!==i)delete p[a],d.isEmptyObject(p)&&h.removeData(b);else try{delete b[j]}catch(f){b[j]=i}}},r={hasData:function(b,a){var d=b[j];return!d?!1:e.hasData(q[d],a)},data:function(b,a,h){if(k[b.nodeName.toLowerCase()])return i;var f=b[j];if(!f){if(a!==i&&h===i)return i;f=b[j]=d.guid()}b=q[f];if(h!==i)b=q[f]=q[f]||{},b[a]=h;else return a!==i?b&&b[a]:b=q[f]=q[f]||{}},removeData:function(b,a){var h=b[j],f;if(h)if(f=q[h],a!==i)delete f[a],d.isEmptyObject(f)&&r.removeData(b);else{delete q[h];try{delete b[j]}catch(e){b[j]=
i}b.removeAttribute&&b.removeAttribute(j)}}};d.mix(b,{__EXPANDO:j,hasData:function(c,a){for(var d=!1,f=b.query(c),i=0;i<f.length&&!(d=f[i],d=d.nodeType?r.hasData(d,a):h.hasData(d,a));i++);return d},data:function(c,a,e){var c=b.query(c),f=c[0];if(d.isPlainObject(a)){for(var k in a)b.data(c,k,a[k]);return i}if(e===i){if(f)return f.nodeType?r.data(f,a):h.data(f,a)}else for(k=c.length-1;0<=k;k--)f=c[k],f.nodeType?r.data(f,a,e):h.data(f,a,e);return i},removeData:function(c,a){var d=b.query(c),f,i;for(i=
d.length-1;0<=i;i--)f=d[i],f.nodeType?r.removeData(f,a):h.removeData(f,a)}});return b},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,b){function i(b,a){var d=[],f,j,n;for(f=0;b[f];f++)if(j=b[f],n=k(j),j.nodeType==q.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,i(e(j.childNodes),a));else if("script"===n&&(!j.type||r.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),a&&a.push(j);else{if(j.nodeType==q.ELEMENT_NODE&&!t.test(n)){n=[];var B,y,x=j.getElementsByTagName("script");for(y=0;y<x.length;y++)B=x[y],(!B.type||r.test(B.type))&&n.push(B);h.apply(b,[f+1,0].concat(n))}d.push(j)}return d}function n(b){b.src?
d.getScript(b.src):(b=d.trim(b.text||b.textContent||b.innerHTML||""))&&d.globalEval(b)}function j(c,a,h,f){c=b.query(c);f&&(f=[]);c=i(c,f);b._fixInsertionChecked&&b._fixInsertionChecked(c);var a=b.query(a),e,k,j,y,x=a.length;if((c.length||f&&f.length)&&x){c=b._nodeListToFragment(c);1<x&&(y=b.clone(c,!0),a=d.makeArray(a));for(e=0;e<x;e++)k=a[e],c&&(j=0<e?b.clone(y,!0):c,h(j,k)),f&&f.length&&d.each(f,n)}}var q=b.NodeType,t=/^(?:button|input|object|select|textarea)$/i,k=b.nodeName,e=d.makeArray,h=[].splice,
r=/\/(java|ecma)script/i;d.mix(b,{_fixInsertionChecked:null,insertBefore:function(b,a,d){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},d)},insertAfter:function(b,a,d){j(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)},d)},appendTo:function(b,a,d){j(b,a,function(b,a){a.appendChild(b)},d)},prependTo:function(b,a,d){j(b,a,function(b,a){a.insertBefore(b,a.firstChild)},d)},wrapAll:function(c,a){a=b.clone(b.get(a),!0);c=b.query(c);c[0].parentNode&&b.insertBefore(a,
c[0]);for(var d;(d=a.firstChild)&&1==d.nodeType;)a=d;b.appendTo(c,a)},wrap:function(c,a){c=b.query(c);a=b.get(a);d.each(c,function(c){b.wrapAll(c,a)})},wrapInner:function(c,a){c=b.query(c);a=b.get(a);d.each(c,function(c){var d=c.childNodes;d.length?b.wrapAll(d,a):c.appendChild(a)})},unwrap:function(c){c=b.query(c);d.each(c,function(a){a=a.parentNode;b.replaceWith(a,a.childNodes)})},replaceWith:function(c,a){var d=b.query(c),a=b.query(a);b.remove(a,!0);b.insertBefore(a,d);b.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,a){b[a]=b[c]});return b},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,b,i){function n(b){var a,c=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};a=b.getBoundingClientRect();b=a[p];a=a[f];b-=e.clientLeft||c.clientLeft||0;a-=e.clientTop||c.clientTop||0;return{left:b,top:a}}function j(c,d){var f={left:0,top:0},i=h(c[a]),e,k=c,d=d||i;do{if(i==d){var g=k;e=n(g);g=h(g[a]);e.left+=b[A](g);e.top+=b[B](g)}else e=n(k);f.left+=e.left;f.top+=e.top}while(i&&i!=d&&(k=i.frameElement)&&(i=i.parent));return f}var q=d.Env.host,
t=q.document,k=b.NodeType,e=t&&t.documentElement,h=b.getWindow,r=Math.max,c=parseFloat,a="ownerDocument",p="left",f="top",z=d.isNumber,A="scrollLeft",B="scrollTop";d.mix(b,{offset:function(a,d,f){if(d===i){var a=b.get(a),h;a&&(h=j(a,f));return h}f=b.query(a);for(h=f.length-1;0<=h;h--){var a=f[h],e=d;"static"===b.css(a,"position")&&(a.style.position="relative");var k=j(a),g={},m=void 0,o=void 0;for(o in e)m=c(b.css(a,o))||0,g[o]=c(m+e[o]-k[o]);b.css(a,g)}return i},scrollIntoView:function(a,e,j,n){var r,
s,g,m;if(g=b.get(a)){e&&(e=b.get(e));e||(e=g.ownerDocument);e.nodeType==k.DOCUMENT_NODE&&(e=h(e));d.isPlainObject(j)&&(n=j.allowHorizontalScroll,m=j.onlyScrollIfNeeded,j=j.alignWithTop);n=n===i?!0:n;s=!!h(e);var a=b.offset(g),o=b.outerHeight(g);r=b.outerWidth(g);var u,l,v,w;s?(s=e,u=b.height(s),l=b.width(s),w={left:b.scrollLeft(s),top:b.scrollTop(s)},s=a[p]-w[p],g=a[f]-w[f],r=a[p]+r-(w[p]+l),a=a[f]+o-(w[f]+u)):(u=b.offset(e),l=e.clientHeight,v=e.clientWidth,w={left:b.scrollLeft(e),top:b.scrollTop(e)},
s=a[p]-(u[p]+(c(b.css(e,"borderLeftWidth"))||0)),g=a[f]-(u[f]+(c(b.css(e,"borderTopWidth"))||0)),r=a[p]+r-(u[p]+v+(c(b.css(e,"borderRightWidth"))||0)),a=a[f]+o-(u[f]+l+(c(b.css(e,"borderBottomWidth"))||0)));if(m){if(0>g||0<a)!0===j?b.scrollTop(e,w.top+g):!1===j?b.scrollTop(e,w.top+a):0>g?b.scrollTop(e,w.top+g):b.scrollTop(e,w.top+a)}else(j=j===i?!0:!!j)?b.scrollTop(e,w.top+g):b.scrollTop(e,w.top+a);if(n)if(m){if(0>s||0<r)!0===j?b.scrollLeft(e,w.left+s):!1===j?b.scrollLeft(e,w.left+r):0>s?b.scrollLeft(e,
w.left+s):b.scrollLeft(e,w.left+r)}else(j=j===i?!0:!!j)?b.scrollLeft(e,w.left+s):b.scrollLeft(e,w.left+r)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(a,c){var d="scroll"+a;b[d]=function(e,f){if(z(e))return arguments.callee(q,e);var e=b.get(e),j,g,m,o=h(e);o?f!==i?(f=parseFloat(f),g="Left"==a?f:b.scrollLeft(o),m="Top"==a?f:b.scrollTop(o),o.scrollTo(g,m)):(j=o["page"+(c?"Y":"X")+"Offset"],z(j)||(g=o.document,j=g.documentElement[d],
z(j)||(j=g.body[d]))):e.nodeType==k.ELEMENT_NODE&&(f!==i?e[d]=parseFloat(f):j=e[d]);return j}});d.each(["Width","Height"],function(a){b["doc"+a]=function(c){c=b.get(c);c=h(c).document;return r(c.documentElement["scroll"+a],c.body["scroll"+a],b["viewport"+a](c))};b["viewport"+a]=function(c){var c=b.get(c),d="client"+a,c=h(c).document,e=c.body,f=c.documentElement[d];return"CSS1Compat"===c.compatMode&&f||e&&e[d]||f}});return b},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,b,i){function n(b){var a,c;for(c=0;c<this.length&&!(a=this[c],!1===b(a,c));c++);}function j(a,e){var h,k,l="string"==typeof a,v=e===i&&(k=1)?[c]:j(e);a?l?(a=E(a),k&&"body"==a?h=[c.body]:1==v.length&&a&&(h=t(a,v[0]))):k&&(h=a.nodeType||a.setTimeout?[a]:a.getDOMNodes?a.getDOMNodes():f(a)?a:A(a)?d.makeArray(a):[a]):h=[];if(!h&&(h=[],a)){for(k=0;k<v.length;k++)y.apply(h,q(a,v[k]));1<h.length&&(1<v.length||l&&-1<a.indexOf(C))&&b.unique(h)}h.each=n;return h}function q(b,
a){var c="string"==typeof b;if(c&&b.match(s)||!c)c=k(b,a);else if(c&&-1<b.replace(/"(?:(?:\\.)|[^"])*"/g,"").replace(/'(?:(?:\\.)|[^'])*'/g,"").indexOf(C)){var c=[],e,l=b.split(/\s*,\s*/);for(e=0;e<l.length;e++)y.apply(c,q(l[e],a))}else c=[],(e=d.require("sizzle"))&&e(b,a,c);return c}function t(a,c){var d,f,l,v;if(D.test(a))d=(f=e(a.slice(1),c))?[f]:[];else if(l=s.exec(a)){f=l[1];v=l[2];l=l[3];if(c=f?e(f,c):c)l?!f||-1!=a.indexOf(x)?d=[].concat(b._getElementsByClassName(l,v,c)):(f=e(f,c),h(f,l)&&(d=
[f])):v&&(d=z(b._getElementsByTagName(v,c)));d=d||[]}return d}function k(a,d){var e;"string"==typeof a?e=t(a,d)||[]:f(a)||A(a)?e=p(a,function(a){return!a?!1:d==c?!0:b._contains(d,a)}):(!a?0:d==c||b._contains(d,a))&&(e=[a]);return e}function e(c,d){var e=d.nodeType==a.DOCUMENT_NODE;return b._getElementById(c,d,e?d:d.ownerDocument,e)}function h(b,a){var c=b&&b.className;return c&&-1<(x+c+x).indexOf(x+a+x)}function r(b,a){var c=b&&b.getAttributeNode(a);return c&&c.nodeValue}var c=d.Env.host.document,
a=b.NodeType,p=d.filter,f=d.isArray,z=d.makeArray,A=b._isNodeList,B=b.nodeName,y=Array.prototype.push,x=" ",C=",",E=d.trim,D=/^#[\w-]+$/,s=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;d.mix(b,{_getAttr:r,_hasSingleClass:h,_getElementById:function(a,c,d,e){var l=d.getElementById(a),f=b._getAttr(l,"id");return!l&&!e&&!b._contains(d,c)||l&&f!=a?b.filter("*","#"+a,c)[0]||null:e||l&&b._contains(c,l)?l:null},_getElementsByTagName:function(b,a){return a.getElementsByTagName(b)},_getElementsByClassName:function(b,
a,c){return z(c.querySelectorAll((a||"")+"."+b))},_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(a)&4?-1:1},query:j,get:function(b,a){return j(b,a)[0]||null},unique:function(){function a(d,l){return d==l?(c=!0,0):b._compareNodeOrder(d,l)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(b){c=d;b.sort(a);if(c)for(var l=1,e=b.length;l<e;)b[l]===b[l-1]?b.splice(l,1):l++;return b}}(),
filter:function(b,a,c){var b=j(b,c),c=d.require("sizzle"),e,l,f,i,k=[];if("string"==typeof a&&(a=E(a))&&(e=s.exec(a)))f=e[1],l=e[2],i=e[3],f?f&&!l&&!i&&(a=function(b){return r(b,"id")==f}):a=function(b){var a=!0,c=!0;l&&(a=B(b)==l.toLowerCase());i&&(c=h(b,i));return c&&a};d.isFunction(a)?k=d.filter(b,a):a&&c&&(k=c.matches(a,b));return k},test:function(a,c,d){a=j(a,d);return a.length&&b.filter(a,c,d).length===a.length}});return b},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,b,i){function n(b){return b.replace(y,"ms-").replace(x,C)}function j(b,c,d){var e={},f;for(f in c)e[f]=b[a][f],b[a][f]=c[f];d.call(b);for(f in c)b[a][f]=e[f]}function q(b,c,d){var e,f,h;if(3===b.nodeType||8===b.nodeType||!(e=b[a]))return i;c=n(c);h=g[c];c=m[c]||c;if(d!==i){null===d||d===D?d=D:!isNaN(Number(d))&&!B[c]&&(d+=s);h&&h.set&&(d=h.set(b,d));if(d!==i){try{e[c]=d}catch(k){}d===D&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||b.removeAttribute("style");
return i}if(!h||!("get"in h&&(f=h.get(b,!1))!==i))f=e[c];return f===i?"":f}function t(b){var a,c=arguments;0!==b.offsetWidth?a=k.apply(i,c):j(b,u,function(){a=k.apply(i,c)});return a}function k(a,c,e){if(d.isWindow(a))return c==f?b.viewportWidth(a):b.viewportHeight(a);if(9==a.nodeType)return c==f?b.docWidth(a):b.docHeight(a);var h=c===f?["Left","Right"]:["Top","Bottom"],g=c===f?a.offsetWidth:a.offsetHeight;if(0<g)return"border"!==e&&d.each(h,function(c){e||(g-=parseFloat(b.css(a,"padding"+c))||0);
g="margin"===e?g+(parseFloat(b.css(a,e+c))||0):g-(parseFloat(b.css(a,"border"+c+"Width"))||0)}),g;g=b._getComputedStyle(a,c);if(null==g||0>Number(g))g=a.style[c]||0;g=parseFloat(g)||0;e&&d.each(h,function(c){g+=parseFloat(b.css(a,"padding"+c))||0;"padding"!==e&&(g+=parseFloat(b.css(a,"border"+c+"Width"))||0);"margin"===e&&(g+=parseFloat(b.css(a,e+c))||0)});return g}var e=d.Env.host,h=d.UA,r=b.nodeName,c=e.document,a="style",p=/^margin/,f="width",z="display"+d.now(),A=parseInt,B={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},y=/^-ms-/,x=/-([a-z])/ig,C=function(b,a){return a.toUpperCase()},E=/([A-Z]|^ms)/g,D="",s="px",g={},m={},o={};m["float"]="cssFloat";d.mix(b,{_camelCase:n,_CUSTOM_STYLES:g,_cssProps:m,_getComputedStyle:function(c,d){var e="",f,g,h,i,k;g=c.ownerDocument;d=d.replace(E,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))e=f.getPropertyValue(d)||f[d];""===e&&!b.contains(g,c)&&(d=m[d]||d,e=c[a][d]);b._RE_NUM_NO_PX.test(e)&&p.test(d)&&
(k=c.style,g=k.width,h=k.minWidth,i=k.maxWidth,k.minWidth=k.maxWidth=k.width=e,e=f.width,k.width=g,k.minWidth=h,k.maxWidth=i);return e},style:function(a,c,e){var a=b.query(a),f,g=a[0];if(d.isPlainObject(c)){for(f in c)for(g=a.length-1;0<=g;g--)q(a[g],f,c[f]);return i}if(e===i)return f="",g&&(f=q(g,c,e)),f;for(g=a.length-1;0<=g;g--)q(a[g],c,e);return i},css:function(a,c,e){var a=b.query(a),f=a[0],h;if(d.isPlainObject(c)){for(h in c)for(f=a.length-1;0<=f;f--)q(a[f],h,c[h]);return i}c=n(c);h=g[c];if(e===
i){e="";if(f&&(!h||!("get"in h&&(e=h.get(f,!0))!==i)))e=b._getComputedStyle(f,c);return e===i?"":e}for(f=a.length-1;0<=f;f--)q(a[f],c,e);return i},show:function(d){var d=b.query(d),e,f,g;for(g=d.length-1;0<=g;g--)if(f=d[g],f[a].display=b.data(f,z)||D,"none"===b.css(f,"display")){e=f.tagName.toLowerCase();var h=void 0,i=o[e],k=void 0;o[e]||(h=c.body||c.documentElement,k=c.createElement(e),b.prepend(k,h),i=b.css(k,"display"),h.removeChild(k),o[e]=i);e=i;b.data(f,z,e);f[a].display=e}},hide:function(c){var c=
b.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var f=d[a],g=f.display;"none"!==g&&(g&&b.data(d,z,g),f.display="none")}},toggle:function(a){var a=b.query(a),c,d;for(d=a.length-1;0<=d;d--)c=a[d],"none"===b.css(c,"display")?b.show(c):b.hide(c)},addStyleSheet:function(a,c,d){a=a||e;"string"==typeof a&&(d=c,c=a,a=e);var a=b.get(a),a=b.getWindow(a).document,f;if(d&&(d=d.replace("#",D)))f=b.get("#"+d,a);f||(f=b.create("<style>",{id:d},a),b.get("head",a).appendChild(f),f.styleSheet?f.styleSheet.cssText=
c:f.appendChild(a.createTextNode(c)))},unselectable:function(c){var c=b.query(c),e,f,g=0,i,k;for(f=c.length-1;0<=f;f--)if(e=c[f],h.gecko)e[a].MozUserSelect="none";else if(h.webkit)e[a].KhtmlUserSelect="none";else if(h.ie||h.opera){k=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];e=k[g++];)d.inArray(r(e),i)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([f,"height"],
function(a){b["inner"+d.ucfirst(a)]=function(c){return(c=b.get(c))&&t(c,a,"padding")};b["outer"+d.ucfirst(a)]=function(c,d){var e=b.get(c);return e&&t(e,a,d?"margin":"border")};b[a]=function(c,d){var e=b.css(c,a,d);e&&(e=parseFloat(e));return e}});var u={position:"absolute",visibility:"hidden",display:"block"};d.each(["height","width"],function(a){g[a]={get:function(b,c){return c?t(b,a)+"px":i}}});d.each(["left","top"],function(a){g[a]={get:function(e,f){var g;if(f&&(g=b._getComputedStyle(e,a),"auto"===
g)){g=0;if(d.inArray(b.css(e,"position"),["absolute","fixed"])){g=e["left"===a?"offsetLeft":"offsetTop"];if(h.ie&&9>(c.documentMode||0)||h.opera)g-=e.offsetParent&&e.offsetParent["client"+("left"==a?"Left":"Top")]||0;g-=A(b.css(e,"margin-"+a))||0}g+="px"}return g}}});return b},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,b,i){function n(k,e,h,r,c,a,p){if(!(k=b.get(k)))return null;if(0===e)return k;a||(k=k[h]);if(!k)return null;c=c&&b.get(c)||null;e===i&&(e=1);var a=[],f=d.isArray(e),n,q;d.isNumber(e)&&(n=0,q=e,e=function(){return++n===q});for(;k&&k!=c;){if((k.nodeType==t.ELEMENT_NODE||k.nodeType==t.TEXT_NODE&&p)&&j(k,e)&&(!r||r(k)))if(a.push(k),!f)break;k=k[h]}return f?a:a[0]||null}function j(i,e){if(!e)return!0;if(d.isArray(e)){var h,j=e.length;if(!j)return!0;for(h=0;h<j;h++)if(b.test(i,
e[h]))return!0}else if(b.test(i,e))return!0;return!1}function q(i,e,h,j){var c=[],a,n;if((a=i=b.get(i))&&h)a=i.parentNode;if(a){h=d.makeArray(a.childNodes);for(a=0;a<h.length;a++)n=h[a],(j||n.nodeType==t.ELEMENT_NODE)&&n!=i&&c.push(n);e&&(c=b.filter(c,e))}return c}var t=b.NodeType;d.mix(b,{_contains:function(b,d){return!!(b.compareDocumentPosition(d)&16)},closest:function(b,d,h,i){return n(b,d,"parentNode",function(b){return b.nodeType!=t.DOCUMENT_FRAGMENT_NODE},h,!0,i)},parent:function(b,d,h){return n(b,
d,"parentNode",function(b){return b.nodeType!=t.DOCUMENT_FRAGMENT_NODE},h,i)},first:function(d,e,h){d=b.get(d);return n(d&&d.firstChild,e,"nextSibling",i,i,!0,h)},last:function(d,e,h){d=b.get(d);return n(d&&d.lastChild,e,"previousSibling",i,i,!0,h)},next:function(b,d,h){return n(b,d,"nextSibling",i,i,i,h)},prev:function(b,d,h){return n(b,d,"previousSibling",i,i,i,h)},siblings:function(b,d,h){return q(b,d,!0,h)},children:function(b,d){return q(b,d,i)},contents:function(b,d){return q(b,d,i,1)},contains:function(d,
e){d=b.get(d);e=b.get(e);return d&&e?b._contains(d,e):!1},index:function(i,e){var h=b.query(i),j,c=0;j=h[0];if(!e){h=j&&j.parentNode;if(!h)return-1;for(;j=j.previousSibling;)j.nodeType==t.ELEMENT_NODE&&c++;return c}c=b.query(e);return"string"===typeof e?d.indexOf(j,c):d.indexOf(c[0],h)},equals:function(d,e){d=b.query(d);e=b.query(e);if(d.length!=e.length)return!1;for(var h=d.length;0<=h;h--)if(d[h]!=e[h])return!1;return!0}});return b},{requires:["./api"]});
