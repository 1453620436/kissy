/*
Copyright 2013, KISSY v1.50
MIT Licensed
build time: Dec 17 16:14
*/
KISSY.add("dom/base/api",[],function(i){var n=i.Env.host||{},m=n.document,q=i.UA,c={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},d={isCustomDomain:function(c){var c=c||n,c=d.get(c),g=c.document.domain,c=c.location.hostname;return g!==c&&g!=="["+c+"]"},getEmptyIframeSrc:function(c){c=c||n;c=d.get(c);return q.ie&&d.isCustomDomain(c)?
"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+c.document.domain+'";document.close();')+"}())":""},NodeType:c,getWindow:function(k){if(!k)return n;k=d.get(k);if(i.isWindow(k))return k;var g=k;g.nodeType!==c.DOCUMENT_NODE&&(g=k.ownerDocument);return g.defaultView||g.parentWindow},getDocument:function(k){if(!k)return m;k=d.get(k);return i.isWindow(k)?k.document:k.nodeType===c.DOCUMENT_NODE?k:k.ownerDocument},isDomNodeList:function(c){return c&&!c.nodeType&&c.item&&
!c.setTimeout},nodeName:function(c){var g=d.get(c),c=g.nodeName.toLowerCase();q.ie&&(g=g.scopeName)&&"HTML"!==g&&(c=g.toLowerCase()+":"+c);return c},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};i.mix(d,c);return d});
KISSY.add("dom/base/attr",["./api"],function(i,n){function m(b){return null==b?"":b+""}function q(b,c){var c=l[c]||c,a=p[c];return a&&a.get?a.get(b,c):b[c]}var c=n("./api"),d=i.Env.host.document,k=c.NodeType,d=d&&d.documentElement,g=c.nodeName,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,e=/^a(?:rea)?$/i,f=/:|^on/,b=/\r/g,a={},u={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},t={tabindex:{get:function(c){var b=c.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):j.test(c.nodeName)||e.test(c.nodeName)&&c.href?0:void 0}}},l={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},y=
{get:function(b,a){return c.prop(b,a)?a.toLowerCase():void 0},set:function(b,a,e){!1===a?c.removeAttr(b,e):(a=l[e]||e,a in b&&(b[a]=!0),b.setAttribute(e,e.toLowerCase()));return e}},p={},s={},v={select:{get:function(b){var a=b.selectedIndex,e=b.options,f;if(0>a)return null;if("select-one"===""+b.type)return c.val(e[a]);b=[];a=0;for(f=e.length;a<f;++a)e[a].selected&&b.push(c.val(e[a]));return b},set:function(b,a){var e=i.makeArray(a);i.each(b.options,function(b){b.selected=i.inArray(c.val(b),e)});
e.length||(b.selectedIndex=-1);return e}}};i.each(["radio","checkbox"],function(b){v[b]={get:function(b){return null===b.getAttribute("value")?"on":b.value},set:function(b,a){if(i.isArray(a))return b.checked=i.inArray(c.val(b),a),1}}});t.style={get:function(b){return b.style.cssText}};i.mix(c,{_valHooks:v,_propFix:l,_attrHooks:t,_propHooks:p,_attrNodeHook:s,_attrFix:a,prop:function(b,a,e){var f=c.query(b),g,h;if(i.isPlainObject(a))i.each(a,function(o,b){c.prop(f,b,o)});else if(a=l[a]||a,h=p[a],void 0!==
e)for(b=f.length-1;0<=b;b--)g=f[b],h&&h.set?h.set(g,e,a):g[a]=e;else if(f.length)return q(f[0],a)},hasProp:function(b,a){var e=c.query(b),f,g=e.length,h;for(f=0;f<g;f++)if(h=e[f],void 0!==q(h,a))return!0;return!1},removeProp:function(b,a){var a=l[a]||a,e=c.query(b),f,g;for(f=e.length-1;0<=f;f--){g=e[f];try{g[a]=void 0,delete g[a]}catch(h){}}},attr:function(b,e,l,d){var j=c.query(b),p=j[0];if(i.isPlainObject(e)){var d=l,o;for(o in e)c.attr(j,o,e[o],d)}else{if(d&&u[e])return c[e](b,l);e=e.toLowerCase();
if(d&&u[e])return c[e](b,l);e=a[e]||e;b=h.test(e)?y:f.test(e)?s:t[e];if(void 0===l){if(p&&p.nodeType===k.ELEMENT_NODE){"form"===g(p)&&(b=s);if(b&&b.get)return b.get(p,e);l=p.getAttribute(e);return""===l&&(e=p.getAttributeNode(e),!e||!e.specified)?void 0:null===l?void 0:l}}else for(d=j.length-1;0<=d;d--)if((p=j[d])&&p.nodeType===k.ELEMENT_NODE)"form"===g(p)&&(b=s),b&&b.set?b.set(p,l,e):p.setAttribute(e,""+l)}},removeAttr:function(b,e){var e=e.toLowerCase(),e=a[e]||e,f=c.query(b),g,d,i;for(i=f.length-
1;0<=i;i--)if(d=f[i],d.nodeType===k.ELEMENT_NODE&&(d.removeAttribute(e),h.test(e)&&(g=l[e]||e)in d))d[g]=!1},hasAttr:d&&!d.hasAttribute?function(b,e){var e=e.toLowerCase(),a=c.query(b),f,g;for(f=0;f<a.length;f++)if(g=a[f],(g=g.getAttributeNode(e))&&g.specified)return!0;return!1}:function(b,e){var a=c.query(b),f,g=a.length;for(f=0;f<g;f++)if(a[f].hasAttribute(e))return!0;return!1},val:function(e,a){var f,l,d,h,o;if(void 0===a){if(d=c.get(e)){if((f=v[g(d)]||v[d.type])&&"get"in f&&void 0!==(l=f.get(d,
"value")))return l;l=d.value;return"string"===typeof l?l.replace(b,""):null==l?"":l}}else{l=c.query(e);for(h=l.length-1;0<=h;h--){d=l[h];if(1!==d.nodeType)break;o=a;null==o?o="":"number"===typeof o?o+="":i.isArray(o)&&(o=i.map(o,m));f=v[g(d)]||v[d.type];if(!(f&&"set"in f)||void 0===f.set(d,o,"value"))d.value=o}}},text:function(b,e){var a,f,l,d;if(void 0===e)return a=c.get(b),c._getText(a);f=c.query(b);for(l=f.length-1;0<=l;l--)if(a=f[l],d=a.nodeType,d===k.ELEMENT_NODE)c.cleanData(a.getElementsByTagName("*")),
"textContent"in a?a.textContent=e:a.innerText=e;else if(d===k.TEXT_NODE||d===k.CDATA_SECTION_NODE)a.nodeValue=e},_getText:function(b){return b.textContent}});return c});
KISSY.add("dom/base/class",["./api"],function(i,n){function m(c){for(var c=i.trim(c||""),c=c.split(h),e=[],f,b=c.length,a=0;a<b;a++)(f=c[a])&&e.push(f);return e}function q(c){return function(e,f){var b,a,d,g=e.classList,l=k.call(arguments,2);b=0;for(a=f.length;b<a;b++)(d=f[b])&&g[c].apply(g,[d].concat(l))}}function c(c){return function(e,f){var b=m(f),a=k.call(arguments,2);d.query(e).each(function(e){e.nodeType===g.ELEMENT_NODE&&d[c].apply(d,[e,b].concat(a))})}}var d=n("./api"),k=[].slice,g=d.NodeType,
h=/[\.\s]\s*\.?/;i.mix(d,{_hasClass:function(c,e){var f,b,a,d=c.classList;if(d.length){f=0;for(b=e.length;f<b;f++)if((a=e[f])&&!d.contains(a))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(c,e){var f=d.get(c);return f&&f.nodeType===g.ELEMENT_NODE&&d._hasClass(f,m(e))},replaceClass:function(c,e,f){d.removeClass(c,e);d.addClass(c,f)},addClass:c("_addClass"),removeClass:c("_removeClass"),toggleClass:c("_toggleClass")});return d});
KISSY.add("dom/base/create",["./api"],function(i,n){function m(o){o=o&&o!==j?o.createElement(b):a;o===a&&(o.innerHTML="");return o}function q(b,e){var a=m(e);a.innerHTML="m<div>"+b+"</div>";return a.lastChild}function c(b,e){if(e)if(p&&e.canHaveChildren&&"removeNode"in b){if(b.firstChild)a:{try{b.innerHTML="";break a}catch(a){}for(var f;f=b.lastChild;)c(f,b)}b.removeNode(!1)}else e.removeChild(b)}function d(b,a,c){var f=a.nodeType;if(f===e.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;c=c.childNodes;for(f=
0;a[f];)c[f]&&d(b,a[f],c[f]),f++}else if(f===e.ELEMENT_NODE){a=a.getElementsByTagName("*");c=c.getElementsByTagName("*");for(f=0;a[f];)c[f]&&b(a[f],c[f]),f++}}function k(b,a){var c=i.require("event/dom"),f,d;if(a.nodeType!==e.ELEMENT_NODE||h.hasData(b)){f=h.data(b);for(d in f)h.data(a,d,f[d]);c&&c.clone(b,a)}}function g(b){var a=null,e,c;if(b&&(b.push||b.item)&&b[0]){a=b[0].ownerDocument;a=a.createDocumentFragment();b=i.makeArray(b);e=0;for(c=b.length;e<c;e++)a.appendChild(b[e])}else"Unable to convert "+
b+" to fragment.";return a}var h=n("./api"),j=i.Env.host.document,e=h.NodeType,f=i.UA.ieMode,b="div",a=j&&j.createElement(b),u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,l=/^\s+/,y=/\s+$/,p=!!(f&&9>f),s=p,v=/<|&#?\w+;/,C=j&&"outerHTML"in j.documentElement,F=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;i.mix(h,{create:function(a,c,f,d){var p=null;if(!a)return p;if(a.nodeType)return h.clone(a);if("string"!==typeof a)return p;void 0===d&&(d=!0);d&&(a=i.trim(a));var d=h._creators,
k,m,f=f||j,w,A=b;if(v.test(a))if(w=F.exec(a))p=f.createElement(w[1]);else{a=a.replace(u,"<$1></$2>");if((w=t.exec(a))&&(k=w[1]))A=k.toLowerCase();k=(d[A]||q)(a,f);s&&(m=a.match(l))&&k.insertBefore(f.createTextNode(m[0]),k.firstChild);s&&/\S/.test(a)&&(m=a.match(y))&&k.appendChild(f.createTextNode(m[0]));m=k.childNodes;1===m.length?p=m[0].parentNode.removeChild(m[0]):m.length?p=g(m):a+" : create node error"}else p=f.createTextNode(a);a=p;i.isPlainObject(c)&&(a.nodeType===e.ELEMENT_NODE?h.attr(a,c,
!0):a.nodeType===e.DOCUMENT_FRAGMENT_NODE&&h.attr(a.childNodes,c,!0));return a},_fixCloneAttributes:function(b,a){"textarea"===h.nodeName(b)&&(a.defaultValue=b.defaultValue,a.value=b.value)},_creators:{div:q},_defaultCreator:q,html:function(b,a,c){var b=h.query(b),f=b[0],d=!1,g,i;if(!f)return null;if(void 0===a)return f.nodeType===e.ELEMENT_NODE?f.innerHTML:f.nodeType===e.DOCUMENT_FRAGMENT_NODE?(c=m(f.ownerDocument),c.appendChild(f),c.innerHTML):null;a+="";if(!a.match(/<(?:script|style|link)/i)&&
(!s||!a.match(l))&&!x[(a.match(t)||["",""])[1].toLowerCase()])try{for(g=b.length-1;0<=g;g--)i=b[g],i.nodeType===e.ELEMENT_NODE&&(h.cleanData(i.getElementsByTagName("*")),i.innerHTML=a);d=!0}catch(w){}d||(a=h.create(a,0,f.ownerDocument,0),h.empty(b),h.append(a,b,c))},outerHtml:function(b,a,c){var b=h.query(b),f=b.length,d=b[0];if(!d)return null;if(void 0===a){if(C&&d.nodeType!==h.DOCUMENT_FRAGMENT_NODE)return d.outerHTML;a=m(d.ownerDocument);a.appendChild(h.clone(d,!0));return a.innerHTML}a+="";if(!a.match(/<(?:script|style|link)/i)&&
C)for(c=f-1;0<=c;c--)d=b[c],d.nodeType===e.ELEMENT_NODE&&(h.cleanData(d,1),d.outerHTML=a);else a=h.create(a,0,d.ownerDocument,0),h.insertBefore(a,b,c),h.remove(b)},remove:function(b,a){var f,d=h.query(b),l,g=i.require("event/dom"),y;for(y=d.length-1;0<=y;y--)f=d[y],!a&&f.nodeType===e.ELEMENT_NODE&&(l=i.makeArray(f.getElementsByTagName("*")),l.push(f),h.removeData(l),g&&g.detach(l)),c(f,f.parentNode)},clone:function(b,a,c,f){"object"===typeof a&&(f=a.deepWithDataAndEvent,c=a.withDataAndEvent,a=a.deep);
var b=h.get(b),l,g=h._fixCloneAttributes,i;if(!b)return null;i=b.nodeType;l=b.cloneNode(a);if(i===e.ELEMENT_NODE||i===e.DOCUMENT_FRAGMENT_NODE)g&&i===e.ELEMENT_NODE&&g(b,l),a&&g&&d(g,b,l);c&&(k(b,l),a&&f&&d(k,b,l));return l},empty:function(b){var b=h.query(b),a,c;for(c=b.length-1;0<=c;c--)a=b[c],h.remove(a.childNodes)},_nodeListToFragment:g});h.outerHTML=h.outerHtml;var G=h._creators,z=h.create,x={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",
col:"colgroup",legend:"fieldset"},D;for(D in x)(function(b){G[D]=function(a,c){return z("<"+b+">"+a+"</"+b+">",void 0,c)}})(x[D]);x.option=x.optgroup=function(b,a){return z('<select multiple="multiple">'+b+"</select>",void 0,a)};return h});
KISSY.add("dom/base/data",["./api"],function(i,n){var m=n("./api"),q=i.Env.host,c="_ks_data_"+i.now(),d={},k={},g={applet:1,object:1,embed:1},h={hasData:function(c,b){if(c)if(void 0!==b){if(b in c)return!0}else if(!i.isEmptyObject(c))return!0;return!1}},j={hasData:function(e,b){return e==q?j.hasData(k,b):h.hasData(e[c],b)},data:function(e,b,a){if(e==q)return j.data(k,b,a);var d=e[c];if(void 0!==a)d=e[c]=e[c]||{},d[b]=a;else return void 0!==b?d&&d[b]:d=e[c]=e[c]||{}},removeData:function(e,b){if(e==
q)return j.removeData(k,b);var a=e[c];if(void 0!==b)delete a[b],i.isEmptyObject(a)&&j.removeData(e);else try{delete e[c]}catch(d){e[c]=void 0}}},e={hasData:function(e,b){var a=e[c];return!a?!1:h.hasData(d[a],b)},data:function(e,b,a){if(!g[e.nodeName.toLowerCase()]){var h=e[c];if(!h){if(void 0!==b&&void 0===a)return;h=e[c]=i.guid()}e=d[h];if(void 0!==a)e=d[h]=d[h]||{},e[b]=a;else return void 0!==b?e&&e[b]:e=d[h]=d[h]||{}}},removeData:function(f,b){var a=f[c],g;if(a)if(g=d[a],void 0!==b)delete g[b],
i.isEmptyObject(g)&&e.removeData(f);else{delete d[a];try{delete f[c]}catch(h){f[c]=void 0}f.removeAttribute&&f.removeAttribute(c)}}};i.mix(m,{__EXPANDO:c,hasData:function(c,b){for(var a=!1,d=m.query(c),g=0;g<d.length&&!(a=d[g],a=a.nodeType?e.hasData(a,b):j.hasData(a,b));g++);return a},data:function(c,b,a){var c=m.query(c),d=c[0];if(i.isPlainObject(b))for(var g in b)m.data(c,g,b[g]);else if(void 0===a){if(d)return d.nodeType?e.data(d,b):j.data(d,b)}else for(g=c.length-1;0<=g;g--)d=c[g],d.nodeType?
e.data(d,b,a):j.data(d,b,a)},removeData:function(c,b){var a=m.query(c),d,g;for(g=a.length-1;0<=g;g--)d=a[g],d.nodeType?e.removeData(d,b):j.removeData(d,b)},cleanData:function(c,b){var a=m.query(c),d,g,l=i.require("event/dom");for(g=a.length-1;0<=g;g--)if(d=a[g],d.nodeType){var h=b&&i.makeArray(d.getElementsByTagName("*"))||[];h.push(d);d=0;for(var p=h.length;d<p;d++)e.removeData(h[d]);l&&l.detach(h)}else j.removeData(d)}});return m});
KISSY.add("dom/base/insertion",["./api"],function(i,n){function m(b,a){var c=[],d,l,i;for(d=0;b[d];d++)if(l=b[d],i=h(l),l.nodeType===k.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,m(j(l.childNodes),a));else if("script"===i&&(!l.type||f.test(l.type)))l.parentNode&&l.parentNode.removeChild(l),a&&a.push(l);else{if(l.nodeType===k.ELEMENT_NODE&&!g.test(i)){i=[];var p,s,v=l.getElementsByTagName("script");for(s=0;s<v.length;s++)p=v[s],(!p.type||f.test(p.type))&&i.push(p);e.apply(b,[d+1,0].concat(i))}c.push(l)}return c}
function q(b){b.src?i.getScript(b.src):(b=i.trim(b.text||b.textContent||b.innerHTML||""))&&i.globalEval(b)}function c(b,a,c,e){b=d.query(b);e&&(e=[]);b=m(b,e);d._fixInsertionChecked&&d._fixInsertionChecked(b);var a=d.query(a),g,f,h,j,k=a.length;if((b.length||e&&e.length)&&k){b=d._nodeListToFragment(b);1<k&&(j=d.clone(b,!0),a=i.makeArray(a));for(g=0;g<k;g++)f=a[g],b&&(h=0<g?d.clone(j,!0):b,c(h,f)),e&&e.length&&i.each(e,q)}}var d=n("./api"),k=d.NodeType,g=/^(?:button|input|object|select|textarea)$/i,
h=d.nodeName,j=i.makeArray,e=[].splice,f=/\/(java|ecma)script/i;i.mix(d,{_fixInsertionChecked:null,insertBefore:function(b,a,e){c(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a)},e)},insertAfter:function(b,a,e){c(b,a,function(b,a){a.parentNode&&a.parentNode.insertBefore(b,a.nextSibling)},e)},appendTo:function(b,a,e){c(b,a,function(b,a){a.appendChild(b)},e)},prependTo:function(b,a,e){c(b,a,function(b,a){a.insertBefore(b,a.firstChild)},e)},wrapAll:function(b,a){a=d.clone(d.get(a),!0);
b=d.query(b);b[0].parentNode&&d.insertBefore(a,b[0]);for(var e;(e=a.firstChild)&&1===e.nodeType;)a=e;d.appendTo(b,a)},wrap:function(b,a){b=d.query(b);a=d.get(a);i.each(b,function(b){d.wrapAll(b,a)})},wrapInner:function(b,a){b=d.query(b);a=d.get(a);i.each(b,function(b){var e=b.childNodes;e.length?d.wrapAll(e,a):b.appendChild(a)})},unwrap:function(b){b=d.query(b);i.each(b,function(b){b=b.parentNode;d.replaceWith(b,b.childNodes)})},replaceWith:function(b,a){var e=d.query(b),a=d.query(a);d.remove(a,!0);
d.insertBefore(a,e);d.remove(e)}});i.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,a){d[a]=d[b]});return d});
KISSY.add("dom/base/offset",["./api"],function(i,n){function m(e){var c,d=e.ownerDocument.body;if(!e.getBoundingClientRect)return{left:0,top:0};c=e.getBoundingClientRect();e=c[b];c=c[a];e-=j.clientLeft||d.clientLeft||0;c-=j.clientTop||d.clientTop||0;return{left:e,top:c}}function q(b,a){var d={left:0,top:0},g=e(b),f,h=b,a=a||g;do{if(g==a){var i=h;f=m(i);i=e(i);f.left+=c[u](i);f.top+=c[t](i)}else f=m(h);d.left+=f.left;d.top+=f.top}while(g&&g!=a&&(h=g.frameElement)&&(g=g.parent));return d}var c=n("./api"),
d=i.Env.host,k=i.UA,g=d.document,h=c.NodeType,j=g&&g.documentElement,e=c.getWindow,f=Math.max,b="left",a="top",u="scrollLeft",t="scrollTop";i.mix(c,{offset:function(b,a,e){if(void 0===a){var b=c.get(b),d;b&&(d=q(b,e));return d}e=c.query(b);for(d=e.length-1;0<=d;d--){var b=e[d],g=a;"static"===c.css(b,"position")&&(b.style.position="relative");var f=q(b),h={},i=void 0,j=void 0;for(j in g)i=parseFloat(c.css(b,j))||0,h[j]=i+g[j]-f[j];c.css(b,h)}},scrollIntoView:function(d,g,f,j){var k,m,n,q;if(n=c.get(d)){g&&
(g=c.get(g));g||(g=n.ownerDocument);g.nodeType===h.DOCUMENT_NODE&&(g=e(g));i.isPlainObject(f)&&(j=f.allowHorizontalScroll,q=f.onlyScrollIfNeeded,f=f.alignWithTop);j=void 0===j?!0:j;m=i.isWindow(g);var d=c.offset(n),z=c.outerHeight(n);k=c.outerWidth(n);var t,u,o,r;m?(m=g,t=c.height(m),u=c.width(m),r={left:c.scrollLeft(m),top:c.scrollTop(m)},m=d[b]-r[b],n=d[a]-r[a],k=d[b]+k-(r[b]+u),d=d[a]+z-(r[a]+t)):(t=c.offset(g),u=g.clientHeight,o=g.clientWidth,r={left:c.scrollLeft(g),top:c.scrollTop(g)},m=d[b]-
(t[b]+(parseFloat(c.css(g,"borderLeftWidth"))||0)),n=d[a]-(t[a]+(parseFloat(c.css(g,"borderTopWidth"))||0)),k=d[b]+k-(t[b]+o+(parseFloat(c.css(g,"borderRightWidth"))||0)),d=d[a]+z-(t[a]+u+(parseFloat(c.css(g,"borderBottomWidth"))||0)));if(q){if(0>n||0<d)!0===f?c.scrollTop(g,r.top+n):!1===f?c.scrollTop(g,r.top+d):0>n?c.scrollTop(g,r.top+n):c.scrollTop(g,r.top+d)}else(f=void 0===f?!0:!!f)?c.scrollTop(g,r.top+n):c.scrollTop(g,r.top+d);if(j)if(q){if(0>m||0<k)!0===f?c.scrollLeft(g,r.left+m):!1===f?c.scrollLeft(g,
r.left+k):0>m?c.scrollLeft(g,r.left+m):c.scrollLeft(g,r.left+k)}else void 0===f||f?c.scrollLeft(g,r.left+m):c.scrollLeft(g,r.left+k)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});i.each(["Left","Top"],function(b,a){var g="scroll"+b;c[g]=function(f,i){if("number"===typeof f)return arguments.callee(d,f);var f=c.get(f),j,k,m,n;f&&f.nodeType===h.ELEMENT_NODE?void 0!==i?f[g]=parseFloat(i):j=f[g]:(n=e(f),void 0!==i?(i=parseFloat(i),k="Left"===b?i:c.scrollLeft(n),m=
"Top"===b?i:c.scrollTop(n),n.scrollTo(k,m)):(j=n["page"+(a?"Y":"X")+"Offset"],"number"!==typeof j&&(k=n.document,j=k.documentElement[g],"number"!==typeof j&&(j=k.body[g]))));return j}});i.each(["Width","Height"],function(b){c["doc"+b]=function(a){a=c.get(a);a=c.getDocument(a);return f(a.documentElement["scroll"+b],a.body["scroll"+b],c["viewport"+b](a))};c["viewport"+b]=function(a){var a=c.get(a),d=e(a),a=d["inner"+b];if(k.mobile&&a)return a;var a="client"+b,d=d.document,g=d.body,f=d.documentElement[a];
return"CSS1Compat"===d.compatMode&&f||g&&g[a]||f}});return c});
KISSY.add("dom/base/style",["./api"],function(i,n){function m(b,a){return a.toUpperCase()}function q(b){return b.replace(G,"ms-").replace(K,m)}function c(b,a,e){var c={},d=b.style,g;for(g in a)c[g]=d[g],d[g]=a[g];e.call(b);for(g in a)d[g]=c[g]}function d(b,a,e){var c,d,g;if(!(3===b.nodeType||8===b.nodeType||!(c=b.style)))if(a=q(a),g=o[a],a=r[a]||i.Features.getVendorCssPropName(a),void 0!==e){null===e||e===z?e=z:!isNaN(Number(e))&&!F[a]&&(e+=x);g&&g.set&&(e=g.set(b,e));if(void 0!==e){try{c[a]=e}catch(f){"css set error:"+
f}e===z&&c.removeAttribute&&c.removeAttribute(a)}c.cssText||b.removeAttribute("style")}else{if(!g||!("get"in g&&void 0!==(d=g.get(b,!1))))d=c[a];return void 0===d?"":d}}function k(b){var a,e=arguments;0!==b.offsetWidth?a=j.apply(void 0,e):c(b,L,function(){a=j.apply(void 0,e)});return a}function g(b,a,c,d){var g=0,f,h,i;for(h=0;h<a.length;h++)if(f=a[h])for(i=0;i<c.length;i++)g+=parseFloat(e._getComputedStyle(b,"border"===f?f+c[i]+"Width":f+c[i],d))||0;return g}function h(b){var a=b.ownerDocument,e;
a.defaultView&&(e=a.defaultView.getComputedStyle(b,null));return e}function j(b,c,d){if(i.isWindow(b))return c===v?e.viewportWidth(b):e.viewportHeight(b);if(9===b.nodeType)return c===v?e.docWidth(b):e.docHeight(b);var f=c===v?["Left","Right"]:["Top","Bottom"],o=c===v?b.offsetWidth:b.offsetHeight,j=h(b),k="border-box"===e._getComputedStyle(b,"boxSizing",j),r=0;if(null==o||0>=o){o=void 0;r=e._getComputedStyle(b,c,j);if(null==r||0>Number(r))r=b.style[c]||0;r=parseFloat(r)||0}void 0===d&&(d=k?l:u);c=
void 0!==o||k;o=o||r;return d===u?c?o-g(b,["border","padding"],f,j):r:c?o+(d===l?0:d===t?-g(b,["border"],f,j):g(b,["margin"],f,j)):r+g(b,a.slice(d),f,j)}var e=n("./api"),f=i.Env.host,b=i.UA,a=["margin","border","padding"],u=-1,t=2,l=1,y=e.nodeName,p=f.document||{},s=/^margin/,v="width",C="display"+i.now(),F={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},G=/^-ms-/,z="",x="px",D=/\d(?!px)[a-z%]+$/i,o={},r={"float":"cssFloat"},H,I={},K=/-([a-z])/ig;i.mix(e,{_camelCase:q,
_cssHooks:o,_cssProps:r,_getComputedStyle:function(b,a,c){var d="",g,f;g=b.ownerDocument;a=r[a]||i.Features.getVendorCssPropName(a);if(c=c||g.defaultView.getComputedStyle(b,null))d=c.getPropertyValue(a)||c[a];""===d&&!e.contains(g,b)&&(d=b.style[a]);e._RE_NUM_NO_PX.test(d)&&s.test(a)&&(f=b.style,b=f.width,a=f.minWidth,g=f.maxWidth,f.minWidth=f.maxWidth=f.width=d,d=c.width,f.width=b,f.minWidth=a,f.maxWidth=g);return d},style:function(b,a,c){var b=e.query(b),g,f=b[0];if(i.isPlainObject(a))for(g in a)for(f=
b.length-1;0<=f;f--)d(b[f],g,a[g]);else{if(void 0===c)return g="",f&&(g=d(f,a,c)),g;for(f=b.length-1;0<=f;f--)d(b[f],a,c)}},css:function(b,a,c){var b=e.query(b),g=b[0],f;if(i.isPlainObject(a))for(f in a)for(g=b.length-1;0<=g;g--)d(b[g],f,a[f]);else{a=q(a);f=o[a];if(void 0===c){c="";if(g&&(!f||!("get"in f&&void 0!==(c=f.get(g,!0)))))c=e._getComputedStyle(g,a);return"undefined"===typeof c?"":c}for(g=b.length-1;0<=g;g--)d(b[g],a,c)}},show:function(b){var b=e.query(b),a,c,d;for(d=b.length-1;0<=d;d--)if(c=
b[d],c.style.display=e.data(c,C)||z,"none"===e.css(c,"display")){a=c.tagName.toLowerCase();var g=void 0,f=I[a],h=void 0;I[a]||(g=p.body||p.documentElement,h=p.createElement(a),e.prepend(h,g),f=e.css(h,"display"),g.removeChild(h),I[a]=f);a=f;e.data(c,C,a);c.style.display=a}},hide:function(b){var b=e.query(b),a,c;for(c=b.length-1;0<=c;c--){a=b[c];var d=a.style,g=d.display;"none"!==g&&(g&&e.data(a,C,g),d.display="none")}},toggle:function(b){var b=e.query(b),a,c;for(c=b.length-1;0<=c;c--)a=b[c],"none"===
e.css(a,"display")?e.show(a):e.hide(a)},addStyleSheet:function(b,a,c){"string"===typeof b&&(c=a,a=b,b=f);var b=e.getDocument(b),d;if(c&&(c=c.replace("#",z)))d=e.get("#"+c,b);d||(d=e.create("<style>",{id:c},b),e.get("head",b).appendChild(d),d.styleSheet?d.styleSheet.cssText=a:d.appendChild(b.createTextNode(a)))},unselectable:function(a){var a=e.query(a),c,d,g=0,f,h;void 0===H&&(H=i.Features.getVendorCssPropName("userSelect"));for(d=a.length-1;0<=d;d--)if(c=a[d],h=c.style,H in h)h[H]="none";else if(b.ie){h=
c.getElementsByTagName("*");c.setAttribute("unselectable","on");for(f=["iframe","textarea","input","select"];c=h[g++];)i.inArray(y(c),f)||c.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});i.each([v,"height"],function(b){e["inner"+i.ucfirst(b)]=function(a){return(a=e.get(a))&&k(a,b,t)};e["outer"+i.ucfirst(b)]=function(a,c){var d=e.get(a);return d&&k(d,b,c?0:l)};var a=b===v?["Left","Right"]:["Top","Bottom"];e[b]=function(c,d){var f=e.get(c);
if(void 0!==d){if(f){var i=h(f);"border-box"===e._getComputedStyle(f,"boxSizing",i)&&(d+=g(f,["padding","border"],a,i));return e.css(f,b,d)}}else return f&&k(f,b,u)};o[b]={get:function(a,c){var d;c&&(d=k(a,b)+"px");return d}}});var L={position:"absolute",visibility:"hidden",display:"block"};i.each(["left","top"],function(b){o[b]={get:function(a,c){var d,g,f;if(c){f=e.css(a,"position");if("static"===f)return"auto";d=e._getComputedStyle(a,b);if((g="auto"===d)&&"relative"===f)return"0px";if(g||D.test(d)){f=
{top:0,left:0};if("fixed"===e.css(a,"position"))g=a.getBoundingClientRect();else{for(d=a.offsetParent||(a.ownerDocument||p).body;d&&!M.test(d.nodeName)&&"static"===e.css(d,"position");)d=d.offsetParent;g=e.offset(a);f=e.offset(d);f.top+=parseFloat(e.css(d,"borderTopWidth"))||0;f.left+=parseFloat(e.css(d,"borderLeftWidth"))||0}g.top-=parseFloat(e.css(a,"marginTop"))||0;g.left-=parseFloat(e.css(a,"marginLeft"))||0;d={top:g.top-f.top,left:g.left-f.left}[b]+"px"}}return d}}});var M=/^(?:body|html)$/i;
return e});
KISSY.add("dom/base/selector",["./api"],function(i,n){function m(b){var a=this.length,c;for(c=0;c<a&&!1!==b(this[c],c);c++);}function q(b){b=b.substr(1);if(!b)throw Error("An invalid or illegal string was specified for selector.");return b}function c(a){return function(c){var d=f._getElementById(a,b);return d&&f._contains(c,d)?[d]:[]}}function d(b){return function(a){return a.getElementsByClassName(b)}}function k(b){return function(a){return a.getElementsByTagName(b)}}function g(a,e){var h,j,n="string"===
typeof a,s=void 0!==e?g(e):(j=1)&&[b],u=s.length;if(a)if(n){a=D(a);if(j)if("body"===a)h=[b.body];else if(C.test(a)&&t)h=b.getElementsByClassName(RegExp.$1);else if(z.test(a))h=(j=f._getElementById(RegExp.$2,b))&&j.nodeName.toLowerCase()===RegExp.$1?[j]:[];else if(F.test(a))h=(j=f._getElementById(a.substr(1),b))?[j]:[];else if(G.test(a))h=b.getElementsByTagName(a);else if(!a.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&t){h=a.split(/\s+/);var w=s,A,x;j=0;for(n=h.length;j<
n;j++){A=h;x=j;var B;B=h[j];var E=B.charAt(0);B="#"===E?c(q(B)):"."===E?d(q(B)):k(B);A[x]=B}j=0;for(n=h.length;j<n;j++){B=h[j];var E=[],J;A=0;for(x=w.length;A<x;A++)J=B(w[A]),E.push.apply(E,i.makeArray(J));w=E;if(!w.length)break}h=w&&1<w.length?f.unique(w):w}if(!h){h=[];for(j=0;j<u;j++)v.apply(h,f._selectInternal(a,s[j]));1<h.length&&1<u&&f.unique(h)}}else{if(h=a.nodeType||a.setTimeout?[a]:a.getDOMNodes?a.getDOMNodes():l(a)?a:p(a)?y(a):[a],!j){n=h;A=n.length;h=[];for(j=0;j<A;j++)for(w=0;w<u;w++)if(f._contains(s[w],
n[j])){h.push(n[j]);break}}}else h=[];h.each=m;return h}function h(b,a){var c=b&&j(b,"class");return c&&(c=c.replace(/[\r\t\n]/g,s))&&-1<(s+c+s).indexOf(s+a+s)}function j(b,a){var c=b&&b.getAttributeNode(a);if(c&&c.specified)return c.nodeValue}function e(b,a){return"*"===a||b.nodeName.toLowerCase()===a.toLowerCase()}var f=n("./api"),b=i.Env.host.document,a=b.documentElement,u=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector,t="getElementsByClassName"in
b,l=i.isArray,y=i.makeArray,p=f.isDomNodeList,s=" ",v=Array.prototype.push,C=/^\.([\w-]+)$/,F=/^#([\w-]+)$/,G=/^([\w-])+$/,z=/^([\w-]+)#([\w-]+)$/,x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,D=i.trim;i.mix(f,{_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(a)&4?-1:1},_getElementsByTagName:function(b,a){return i.makeArray(a.querySelectorAll(b))},_getElementById:function(b,a){return a.getElementById(b)},
_getSimpleAttr:j,_isTag:e,_hasSingleClass:h,_matchesInternal:function(b,a){for(var c=[],d=0,e,g=a.length;d<g;d++)e=a[d],u.call(e,b)&&c.push(e);return c},_selectInternal:function(b,a){return y(a.querySelectorAll(b))},query:g,get:function(b,a){return g(b,a)[0]||null},unique:function(){function b(c,d){return c===d?(a=!0,0):f._compareNodeOrder(c,d)}var a,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){a=c;d.sort(b);if(a)for(var e=1,g=d.length;e<g;)d[e]===d[e-1]?(d.splice(e,1),--g):e++;return d}}(),
filter:function(b,a,c){var b=g(b,c),d,k,l,m,c=[];if("string"===typeof a&&(a=D(a))&&(l=x.exec(a)))d=l[1],k=l[2],m=l[3],d?d&&!k&&!m&&(a=function(a){return j(a,"id")===d}):a=function(a){var b=!0,c=!0;k&&(b=e(a,k));m&&(c=h(a,m));return c&&b};return c="function"===typeof a?i.filter(b,a):f._matchesInternal(a,b)},test:function(a,b,c){a=g(a,c);return a.length&&f.filter(a,b,c).length===a.length}});return f});
KISSY.add("dom/base/traversal",["./api"],function(i,n){function m(c,h,j,e,f,b,a){if(!(c=d.get(c)))return null;if(0===h)return c;b||(c=c[j]);if(!c)return null;f=f&&d.get(f)||null;void 0===h&&(h=1);var b=[],m=i.isArray(h),n,l;"number"===typeof h&&(n=0,l=h,h=function(){return++n===l});for(;c&&c!==f;){if((c.nodeType===k.ELEMENT_NODE||c.nodeType===k.TEXT_NODE&&a)&&q(c,h)&&(!e||e(c)))if(b.push(c),!m)break;c=c[j]}return m?b:b[0]||null}function q(c,h){if(!h)return!0;if(i.isArray(h)){var j,e=h.length;if(!e)return!0;
for(j=0;j<e;j++)if(d.test(c,h[j]))return!0}else if(d.test(c,h))return!0;return!1}function c(c,h,j,e){var f=[],b,a;if((b=c=d.get(c))&&j)b=c.parentNode;if(b){j=i.makeArray(b.childNodes);for(b=0;b<j.length;b++)a=j[b],(e||a.nodeType===k.ELEMENT_NODE)&&a!==c&&f.push(a);h&&(f=d.filter(f,h))}return f}var d=n("./api"),k=d.NodeType;i.mix(d,{_contains:function(c,d){return!!(c.compareDocumentPosition(d)&16)},closest:function(c,d,i,e){return m(c,d,"parentNode",function(c){return c.nodeType!==k.DOCUMENT_FRAGMENT_NODE},
i,!0,e)},parent:function(c,d,i){return m(c,d,"parentNode",function(c){return c.nodeType!==k.DOCUMENT_FRAGMENT_NODE},i,void 0)},first:function(c,h,i){c=d.get(c);return m(c&&c.firstChild,h,"nextSibling",void 0,void 0,!0,i)},last:function(c,h,i){c=d.get(c);return m(c&&c.lastChild,h,"previousSibling",void 0,void 0,!0,i)},next:function(c,d,i){return m(c,d,"nextSibling",void 0,void 0,void 0,i)},prev:function(c,d,i){return m(c,d,"previousSibling",void 0,void 0,void 0,i)},siblings:function(d,h,i){return c(d,
h,!0,i)},children:function(d,h){return c(d,h,void 0)},contents:function(d,h){return c(d,h,void 0,1)},contains:function(c,h){c=d.get(c);h=d.get(h);return c&&h?d._contains(c,h):!1},index:function(c,h){var j=d.query(c),e,f=0;e=j[0];if(!h){j=e&&e.parentNode;if(!j)return-1;for(;e=e.previousSibling;)e.nodeType===k.ELEMENT_NODE&&f++;return f}f=d.query(h);return"string"===typeof h?i.indexOf(e,f):i.indexOf(f[0],j)},equals:function(c,h){c=d.query(c);h=d.query(h);if(c.length!==h.length)return!1;for(var i=c.length;0<=
i;i--)if(c[i]!==h[i])return!1;return!0}});return d});KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(i,n){var m=n("./base/api");n("./base/attr");n("./base/class");n("./base/create");n("./base/data");n("./base/insertion");n("./base/offset");n("./base/style");n("./base/selector");n("./base/traversal");i.mix(i,{DOM:m,get:m.get,query:m.query});return m});
