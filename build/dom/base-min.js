/*
Copyright 2014, KISSY v1.43
MIT Licensed
build time: May 14 11:54
*/
KISSY.add("dom/base/api",[],function(i){var n=i.Env.host||{},m=n.document,q=i.UA,d={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},f={isCustomDomain:function(d){var d=d||n,d=f.get(d),g=d.document.domain,d=d.location.hostname;return g!==d&&g!=="["+d+"]"},getEmptyIframeSrc:function(d){d=d||n;d=f.get(d);return q.ie&&f.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+d.document.domain+'";document.close();')+"}())":""},NodeType:d,getWindow:function(j){if(!j)return n;j=f.get(j);if(i.isWindow(j))return j;var g=j;g.nodeType!==d.DOCUMENT_NODE&&(g=j.ownerDocument);return g.defaultView||g.parentWindow},getDocument:function(j){if(!j)return m;j=f.get(j);return i.isWindow(j)?j.document:j.nodeType===d.DOCUMENT_NODE?j:j.ownerDocument},isDomNodeList:function(d){return d&&!d.nodeType&&d.item&&
!d.setTimeout},nodeName:function(d){var g=f.get(d),d=g.nodeName.toLowerCase();q.ie&&(g=g.scopeName)&&"HTML"!==g&&(d=g.toLowerCase()+":"+d);return d},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};i.mix(f,d);return f});
KISSY.add("dom/base/attr",["./api"],function(i,n){function m(a){return null==a?"":a+""}function q(a,b){var b=h[b]||b,d=o[b];return d&&d.get?d.get(a,b):a[b]}var d=n("./api"),f=i.Env.host.document,j=d.NodeType,f=f&&f.documentElement,g=d.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,k=/^(?:button|input|object|select|textarea)$/i,l=/^a(?:rea)?$/i,c=/:|^on/,b=/\r/g,a={},s={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},t={tabindex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):k.test(a.nodeName)||l.test(a.nodeName)&&a.href?0:void 0}}},h={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},p=
{get:function(a,b){return d.prop(a,b)?b.toLowerCase():void 0},set:function(a,b,c){!1===b?d.removeAttr(a,c):(b=h[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}},o={},u={},y={select:{get:function(a){var b=a.selectedIndex,c=a.options,h;if(0>b)return null;if("select-one"===""+a.type)return d.val(c[b]);a=[];b=0;for(h=c.length;b<h;++b)c[b].selected&&a.push(d.val(c[b]));return a},set:function(a,b){var c=i.makeArray(b);i.each(a.options,function(a){a.selected=i.inArray(d.val(a),c)});
c.length||(a.selectedIndex=-1);return c}}};i.each(["radio","checkbox"],function(a){y[a]={get:function(a){return null===a.getAttribute("value")?"on":a.value},set:function(a,b){if(i.isArray(b))return a.checked=i.inArray(d.val(a),b),1}}});t.style={get:function(a){return a.style.cssText}};i.mix(d,{_valHooks:y,_propFix:h,_attrHooks:t,_propHooks:o,_attrNodeHook:u,_attrFix:a,prop:function(a,b,c){var e=d.query(a),g,f;if(i.isPlainObject(b))i.each(b,function(a,b){d.prop(e,b,a)});else if(b=h[b]||b,f=o[b],void 0!==
c)for(a=e.length-1;0<=a;a--)g=e[a],f&&f.set?f.set(g,c,b):g[b]=c;else if(e.length)return q(e[0],b)},hasProp:function(a,b){var c=d.query(a),e,h=c.length,g;for(e=0;e<h;e++)if(g=c[e],void 0!==q(g,b))return!0;return!1},removeProp:function(a,b){var b=h[b]||b,c=d.query(a),e,g;for(e=c.length-1;0<=e;e--){g=c[e];try{g[b]=void 0,delete g[b]}catch(f){}}},attr:function(b,h,f,k){var l=d.query(b),o=l[0];if(i.isPlainObject(h)){var k=f,r;for(r in h)d.attr(l,r,h[r],k)}else{if(k&&s[h])return d[h](b,f);h=h.toLowerCase();
if(k&&s[h])return d[h](b,f);h=a[h]||h;b=e.test(h)?p:c.test(h)?u:t[h];if(void 0===f){if(o&&o.nodeType===j.ELEMENT_NODE){"form"===g(o)&&(b=u);if(b&&b.get)return b.get(o,h);f=o.getAttribute(h);return""===f&&(h=o.getAttributeNode(h),!h||!h.specified)?void 0:null===f?void 0:f}}else for(k=l.length-1;0<=k;k--)if((o=l[k])&&o.nodeType===j.ELEMENT_NODE)"form"===g(o)&&(b=u),b&&b.set?b.set(o,f,h):o.setAttribute(h,""+f)}},removeAttr:function(b,c){var c=c.toLowerCase(),c=a[c]||c,g=d.query(b),f,s,p;for(p=g.length-
1;0<=p;p--)if(s=g[p],s.nodeType===j.ELEMENT_NODE&&(s.removeAttribute(c),e.test(c)&&(f=h[c]||c)in s))s[f]=!1},hasAttr:f&&!f.hasAttribute?function(b,a){var a=a.toLowerCase(),c=d.query(b),h,e;for(h=0;h<c.length;h++)if(e=c[h],(e=e.getAttributeNode(a))&&e.specified)return!0;return!1}:function(a,b){var c=d.query(a),h,e=c.length;for(h=0;h<e;h++)if(c[h].hasAttribute(b))return!0;return!1},val:function(a,c){var h,e,f,s,r;if(void 0===c){if(f=d.get(a)){if((h=y[g(f)]||y[f.type])&&"get"in h&&void 0!==(e=h.get(f,
"value")))return e;e=f.value;return"string"===typeof e?e.replace(b,""):null==e?"":e}}else{e=d.query(a);for(s=e.length-1;0<=s;s--){f=e[s];if(1!==f.nodeType)break;r=c;null==r?r="":"number"===typeof r?r+="":i.isArray(r)&&(r=i.map(r,m));h=y[g(f)]||y[f.type];if(!h||!("set"in h)||void 0===h.set(f,r,"value"))f.value=r}}},text:function(a,b){var c,h,e,f;if(void 0===b)return c=d.get(a),d._getText(c);h=d.query(a);for(e=h.length-1;0<=e;e--)if(c=h[e],f=c.nodeType,f===j.ELEMENT_NODE)d.cleanData(c.getElementsByTagName("*")),
"textContent"in c?c.textContent=b:c.innerText=b;else if(f===j.TEXT_NODE||f===j.CDATA_SECTION_NODE)c.nodeValue=b},_getText:function(a){return a.textContent}});return d});
KISSY.add("dom/base/class",["./api"],function(i,n){function m(d){for(var d=i.trim(d||""),d=d.split(e),f=[],c,b=d.length,a=0;a<b;a++)(c=d[a])&&f.push(c);return f}function q(d){return function(e,c){var b,a,f,g=e.classList,h=j.call(arguments,2);b=0;for(a=c.length;b<a;b++)(f=c[b])&&g[d].apply(g,[f].concat(h))}}function d(d){return function(e,c){var b=m(c),a=j.call(arguments,2);f.query(e).each(function(c){c.nodeType===g.ELEMENT_NODE&&f[d].apply(f,[c,b].concat(a))})}}var f=n("./api"),j=[].slice,g=f.NodeType,
e=/[\.\s]\s*\.?/;i.mix(f,{_hasClass:function(d,e){var c,b,a,f=d.classList;if(f.length){c=0;for(b=e.length;c<b;c++)if((a=e[c])&&!f.contains(a))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(d,e){var c=!1,e=m(e);f.query(d).each(function(b){if(b.nodeType===g.ELEMENT_NODE&&f._hasClass(b,e))return c=!0,!1});return c},replaceClass:function(d,e,c){f.removeClass(d,e);f.addClass(d,c)},addClass:d("_addClass"),removeClass:d("_removeClass"),
toggleClass:d("_toggleClass")});return f});
KISSY.add("dom/base/create",["./api"],function(i,n){function m(r){r=r&&r!==k?r.createElement(b):a;r===a&&(r.innerHTML="");return r}function q(a,b){var c=m(b);c.innerHTML="m<div>"+a+"</div>";return c.lastChild}function d(a,b){if(b)if(o&&b.canHaveChildren&&"removeNode"in a){if(a.firstChild)a:{try{a.innerHTML="";break a}catch(c){}for(var e;e=a.lastChild;)d(e,a)}a.removeNode(!1)}else b.removeChild(a)}function f(a,b,c){var d=b.nodeType;if(d===l.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;c=c.childNodes;for(d=
0;b[d];)c[d]&&f(a,b[d],c[d]),d++}else if(d===l.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(d=0;b[d];)c[d]&&a(b[d],c[d]),d++}}function j(a,b){var d=i.require("event/dom"),c,h;if(b.nodeType!==l.ELEMENT_NODE||e.hasData(a)){c=e.data(a);for(h in c)e.data(b,h,c[h]);d&&d.clone(a,b)}}function g(a){var b=null,d,c;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=i.makeArray(a);d=0;for(c=a.length;d<c;d++)b.appendChild(a[d])}else"Unable to convert "+
a+" to fragment.";return b}var e=n("./api"),k=i.Env.host.document,l=e.NodeType,c=i.UA.ieMode,b="div",a=k&&k.createElement(b),s=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,h=/^\s+/,p=/\s+$/,o=!!(c&&9>c),u=o,y=/<|&#?\w+;/,z=k&&"outerHTML"in k.documentElement,G=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;i.mix(e,{create:function(a,d,c,f){var o=null;if(!a)return o;if(a.nodeType)return e.clone(a);if("string"!==typeof a)return o;void 0===f&&(f=!0);f&&(a=i.trim(a));var f=e._creators,
j,m,c=c||k,z,n=b;if(y.test(a))if(z=G.exec(a))o=c.createElement(z[1]);else{a=a.replace(s,"<$1></$2>");if((z=t.exec(a))&&(j=z[1]))n=j.toLowerCase();j=(f[n]||q)(a,c);u&&(m=a.match(h))&&j.insertBefore(c.createTextNode(m[0]),j.firstChild);u&&/\S/.test(a)&&(m=a.match(p))&&j.appendChild(c.createTextNode(m[0]));m=j.childNodes;1===m.length?o=m[0].parentNode.removeChild(m[0]):m.length?o=g(m):a+" : create node error"}else o=c.createTextNode(a);a=o;i.isPlainObject(d)&&(a.nodeType===l.ELEMENT_NODE?e.attr(a,d,
!0):a.nodeType===l.DOCUMENT_FRAGMENT_NODE&&e.attr(a.childNodes,d,!0));return a},_fixCloneAttributes:function(a,b){"textarea"===e.nodeName(a)&&(b.defaultValue=a.defaultValue,b.value=a.value)},_creators:{div:q},_defaultCreator:q,html:function(a,b,c){var a=e.query(a),d=a[0],f=!1,g,p;if(!d)return null;if(void 0===b)return d.nodeType===l.ELEMENT_NODE?d.innerHTML:d.nodeType===l.DOCUMENT_FRAGMENT_NODE?(c=m(d.ownerDocument),c.appendChild(d),c.innerHTML):null;b+="";if(!b.match(/<(?:script|style|link)/i)&&
(!u||!b.match(h))&&!C[(b.match(t)||["",""])[1].toLowerCase()])try{for(g=a.length-1;0<=g;g--)p=a[g],p.nodeType===l.ELEMENT_NODE&&(e.cleanData(p.getElementsByTagName("*")),p.innerHTML=b);f=!0}catch(s){}f||(b=e.create(b,0,d.ownerDocument,0),e.empty(a),e.append(b,a,c))},outerHtml:function(a,b,d){var a=e.query(a),c=a.length,h=a[0];if(!h)return null;if(void 0===b){if(z&&h.nodeType!==e.DOCUMENT_FRAGMENT_NODE)return h.outerHTML;b=m(h.ownerDocument);b.appendChild(e.clone(h,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&
z)for(d=c-1;0<=d;d--)h=a[d],h.nodeType===l.ELEMENT_NODE&&(e.cleanData(h,1),h.outerHTML=b);else b=e.create(b,0,h.ownerDocument,0),e.insertBefore(b,a,d),e.remove(a)},remove:function(a,b){var c,h=e.query(a),f,g=i.require("event/dom"),p;for(p=h.length-1;0<=p;p--)c=h[p],!b&&c.nodeType===l.ELEMENT_NODE&&(f=i.makeArray(c.getElementsByTagName("*")),f.push(c),e.removeData(f),g&&g.detach(f)),d(c,c.parentNode)},clone:function(a,b,c,d){"object"===typeof b&&(d=b.deepWithDataAndEvent,c=b.withDataAndEvent,b=b.deep);
var a=e.get(a),h,g=e._fixCloneAttributes,p;if(!a)return null;p=a.nodeType;h=a.cloneNode(b);if(p===l.ELEMENT_NODE||p===l.DOCUMENT_FRAGMENT_NODE)g&&p===l.ELEMENT_NODE&&g(a,h),b&&g&&f(g,a,h);c&&(j(a,h),b&&d&&f(j,a,h));return h},empty:function(a){var a=e.query(a),b,c;for(c=a.length-1;0<=c;c--)b=a[c],e.remove(b.childNodes)},_nodeListToFragment:g});e.outerHTML=e.outerHtml;var D=e._creators,H=e.create,C={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",
col:"colgroup",legend:"fieldset"},w;for(w in C)(function(a){D[w]=function(b,c){return H("<"+a+">"+b+"</"+a+">",void 0,c)}})(C[w]);D.option=D.optgroup=function(a,b){return H('<select multiple="multiple">'+a+"</select>",void 0,b)};return e});
KISSY.add("dom/base/data",["./api"],function(i,n){var m=n("./api"),q=i.Env.host,d="_ks_data_"+i.now(),f={},j={},g={applet:1,object:1,embed:1},e={hasData:function(c,b){if(c)if(void 0!==b){if(b in c)return!0}else if(!i.isEmptyObject(c))return!0;return!1}},k={hasData:function(c,b){return c==q?k.hasData(j,b):e.hasData(c[d],b)},data:function(c,b,a){if(c==q)return k.data(j,b,a);var e=c[d];if(void 0!==a)e=c[d]=c[d]||{},e[b]=a;else return void 0!==b?e&&e[b]:e=c[d]=c[d]||{}},removeData:function(c,b){if(c==
q)return k.removeData(j,b);var a=c[d];if(void 0!==b)delete a[b],i.isEmptyObject(a)&&k.removeData(c);else try{delete c[d]}catch(e){c[d]=void 0}}},l={hasData:function(c,b){var a=c[d];return!a?!1:e.hasData(f[a],b)},data:function(c,b,a){if(!g[c.nodeName.toLowerCase()]){var e=c[d];if(!e){if(void 0!==b&&void 0===a)return;e=c[d]=i.guid()}c=f[e];if(void 0!==a)c=f[e]=f[e]||{},c[b]=a;else return void 0!==b?c&&c[b]:c=f[e]=f[e]||{}}},removeData:function(c,b){var a=c[d],e;if(a)if(e=f[a],void 0!==b)delete e[b],
i.isEmptyObject(e)&&l.removeData(c);else{delete f[a];try{delete c[d]}catch(g){c[d]=void 0}c.removeAttribute&&c.removeAttribute(d)}}};i.mix(m,{__EXPANDO:d,hasData:function(c,b){for(var a=!1,d=m.query(c),e=0;e<d.length&&!(a=d[e],a=a.nodeType?l.hasData(a,b):k.hasData(a,b));e++);return a},data:function(c,b,a){var c=m.query(c),d=c[0];if(i.isPlainObject(b))for(var e in b)m.data(c,e,b[e]);else if(void 0===a){if(d)return d.nodeType?l.data(d,b):k.data(d,b)}else for(e=c.length-1;0<=e;e--)d=c[e],d.nodeType?
l.data(d,b,a):k.data(d,b,a)},removeData:function(d,b){var a=m.query(d),e,f;for(f=a.length-1;0<=f;f--)e=a[f],e.nodeType?l.removeData(e,b):k.removeData(e,b)},cleanData:function(d,b){var a=m.query(d),e,f,h=i.require("event/dom");for(f=a.length-1;0<=f;f--)if(e=a[f],e.nodeType){var g=b&&i.makeArray(e.getElementsByTagName("*"))||[];g.push(e);e=0;for(var o=g.length;e<o;e++)l.removeData(g[e]);h&&h.detach(g)}else k.removeData(e)}});return m});
KISSY.add("dom/base/insertion",["./api"],function(i,n){function m(b,a){var d=[],f,h,p;for(f=0;b[f];f++)if(h=b[f],p=e(h),h.nodeType===j.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,m(k(h.childNodes),a));else if("script"===p&&(!h.type||c.test(h.type)))h.parentNode&&h.parentNode.removeChild(h),a&&a.push(h);else{if(h.nodeType===j.ELEMENT_NODE&&!g.test(p)){p=[];var o,i,y=h.getElementsByTagName("script");for(i=0;i<y.length;i++)o=y[i],(!o.type||c.test(o.type))&&p.push(o);l.apply(b,[f+1,0].concat(p))}d.push(h)}return d}
function q(b){b.src?i.getScript(b.src):(b=i.trim(b.text||b.textContent||b.innerHTML||""))&&i.globalEval(b)}function d(b,a,d,c){b=f.query(b);c&&(c=[]);b=m(b,c);f._fixInsertionChecked&&f._fixInsertionChecked(b);var a=f.query(a),e,g,o,k,j=a.length;if((b.length||c&&c.length)&&j){b=f._nodeListToFragment(b);1<j&&(k=f.clone(b,!0),a=i.makeArray(a));for(e=0;e<j;e++)g=a[e],b&&(o=0<e?f.clone(k,!0):b,d(o,g)),c&&c.length&&i.each(c,q)}}var f=n("./api"),j=f.NodeType,g=/^(?:button|input|object|select|textarea)$/i,
e=f.nodeName,k=i.makeArray,l=[].splice,c=/\/(java|ecma)script/i;i.mix(f,{_fixInsertionChecked:null,insertBefore:function(b,a,c){d(b,a,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(b,a,c){d(b,a,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(b,a,c){d(b,a,function(a,b){b.appendChild(a)},c)},prependTo:function(b,a,c){d(b,a,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(b,a){a=f.clone(f.get(a),!0);
b=f.query(b);b[0].parentNode&&f.insertBefore(a,b[0]);for(var d;(d=a.firstChild)&&1===d.nodeType;)a=d;f.appendTo(b,a)},wrap:function(b,a){b=f.query(b);a=f.get(a);i.each(b,function(b){f.wrapAll(b,a)})},wrapInner:function(b,a){b=f.query(b);a=f.get(a);i.each(b,function(b){var d=b.childNodes;d.length?f.wrapAll(d,a):b.appendChild(a)})},unwrap:function(b){b=f.query(b);i.each(b,function(a){a=a.parentNode;f.replaceWith(a,a.childNodes)})},replaceWith:function(b,a){var d=f.query(b),a=f.query(a);f.remove(a,!0);
f.insertBefore(a,d);f.remove(d)}});i.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,a){f[a]=f[b]});return f});
KISSY.add("dom/base/offset",["./api"],function(i,n){function m(d){var c,e=d.ownerDocument.body;if(!d.getBoundingClientRect)return{left:0,top:0};c=d.getBoundingClientRect();d=c[b];c=c[a];d-=k.clientLeft||e.clientLeft||0;c-=k.clientTop||e.clientTop||0;return{left:d,top:c}}function q(a,b){var c={left:0,top:0},e=l(a),f,g=a,b=b||e;do{if(e==b){var i=g;f=m(i);i=l(i);f.left+=d[s](i);f.top+=d[t](i)}else f=m(g);c.left+=f.left;c.top+=f.top}while(e&&e!=b&&(g=e.frameElement)&&(e=e.parent));return c}var d=n("./api"),
f=i.Env.host,j=i.UA,g=f.document,e=d.NodeType,k=g&&g.documentElement,l=d.getWindow,c=Math.max,b="left",a="top",s="scrollLeft",t="scrollTop";i.mix(d,{offset:function(a,b,c){if(void 0===b){var a=d.get(a),e;a&&(e=q(a,c));return e}c=d.query(a);for(e=c.length-1;0<=e;e--){var a=c[e],f=b;"static"===d.css(a,"position")&&(a.style.position="relative");var g=q(a),i={},k=void 0,j=void 0;for(j in f)k=parseFloat(d.css(a,j))||0,i[j]=k+f[j]-g[j];d.css(a,i)}},scrollIntoView:function(c,f,g,k){var j,m,n,q;if(n=d.get(c)){f&&
(f=d.get(f));f||(f=n.ownerDocument);f.nodeType===e.DOCUMENT_NODE&&(f=l(f));i.isPlainObject(g)&&(k=g.allowHorizontalScroll,q=g.onlyScrollIfNeeded,g=g.alignWithTop);k=void 0===k?!0:k;m=i.isWindow(f);var c=d.offset(n),s=d.outerHeight(n);j=d.outerWidth(n);var t,w,r,v;m?(m=f,t=d.height(m),w=d.width(m),v={left:d.scrollLeft(m),top:d.scrollTop(m)},m=c[b]-v[b],n=c[a]-v[a],j=c[b]+j-(v[b]+w),c=c[a]+s-(v[a]+t)):(t=d.offset(f),w=f.clientHeight,r=f.clientWidth,v={left:d.scrollLeft(f),top:d.scrollTop(f)},m=c[b]-
(t[b]+(parseFloat(d.css(f,"borderLeftWidth"))||0)),n=c[a]-(t[a]+(parseFloat(d.css(f,"borderTopWidth"))||0)),j=c[b]+j-(t[b]+r+(parseFloat(d.css(f,"borderRightWidth"))||0)),c=c[a]+s-(t[a]+w+(parseFloat(d.css(f,"borderBottomWidth"))||0)));if(q){if(0>n||0<c)!0===g?d.scrollTop(f,v.top+n):!1===g?d.scrollTop(f,v.top+c):0>n?d.scrollTop(f,v.top+n):d.scrollTop(f,v.top+c)}else(g=void 0===g?!0:!!g)?d.scrollTop(f,v.top+n):d.scrollTop(f,v.top+c);if(k)if(q){if(0>m||0<j)!0===g?d.scrollLeft(f,v.left+m):!1===g?d.scrollLeft(f,
v.left+j):0>m?d.scrollLeft(f,v.left+m):d.scrollLeft(f,v.left+j)}else void 0===g||g?d.scrollLeft(f,v.left+m):d.scrollLeft(f,v.left+j)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});i.each(["Left","Top"],function(a,b){var c="scroll"+a;d[c]=function(g,i){if("number"===typeof g)return arguments.callee(f,g);var g=d.get(g),k,j,m,n;g&&g.nodeType===e.ELEMENT_NODE?void 0!==i?g[c]=parseFloat(i):k=g[c]:(n=l(g),void 0!==i?(i=parseFloat(i),j="Left"===a?i:d.scrollLeft(n),m=
"Top"===a?i:d.scrollTop(n),n.scrollTo(j,m)):(k=n["page"+(b?"Y":"X")+"Offset"],"number"!==typeof k&&(j=n.document,k=j.documentElement[c],"number"!==typeof k&&(k=j.body[c]))));return k}});i.each(["Width","Height"],function(a){d["doc"+a]=function(b){b=d.get(b);b=d.getDocument(b);return c(b.documentElement["scroll"+a],b.body["scroll"+a],d["viewport"+a](b))};d["viewport"+a]=function(b){var b=d.get(b),c=l(b),b=c["inner"+a];if(j.mobile&&b)return b;var b="client"+a,c=c.document,e=c.body,f=c.documentElement[b];
return"CSS1Compat"===c.compatMode&&f||e&&e[b]||f}});return d});
KISSY.add("dom/base/style",["./api","ua"],function(i,n){function m(a,b){return b.toUpperCase()}function q(a){-1!==a.indexOf("-")&&(a=a.replace(c,m));if(a in t)return t[a];if(!u||a in u)t[a]={propertyName:a,propertyNamePrefix:""};else{for(var b=a.charAt(0).toUpperCase()+a.slice(1),d,e=0;e<p;e++){var f=h[e];d=f+b;d in u&&(t[a]={propertyName:d,propertyNamePrefix:f})}t[a]=t[a]||null}return t[a]}function d(a){if(K[a])return K[a];var b=q(a);return b&&b.propertyName||a}function f(a,b,c){var d={},e=a.style,
f;for(f in b)d[f]=e[f],e[f]=b[f];c.call(a);for(f in b)e[f]=d[f]}function j(a,b,c){var e,f,g;if(!(3===a.nodeType||8===a.nodeType||!(e=a.style)))if(b=A(b),g=J[b],b=d(b),void 0!==c){null===c||c===I?c=I:!isNaN(Number(c))&&!v[b]&&(c+=L);g&&g.set&&(c=g.set(a,c));if(void 0!==c){try{e[b]=c}catch(h){"css set error:"+h}c===I&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||a.removeAttribute("style")}else{if(!g||!("get"in g&&void 0!==(f=g.get(a,!1))))f=e[b];return void 0===f?"":f}}function g(a){var b,c=arguments;
0!==a.offsetWidth?b=l.apply(void 0,c):f(a,E,function(){b=l.apply(void 0,c)});return b}function e(b,c,d,e){var f=0,g,h,i;for(h=0;h<c.length;h++)if(g=c[h])for(i=0;i<d.length;i++)f+=parseFloat(a._getComputedStyle(b,"border"===g?g+d[i]+"Width":g+d[i],e))||0;return f}function k(a){var b=a.ownerDocument,c;b.defaultView&&(c=b.defaultView.getComputedStyle(a,null));return c}function l(c,d,f){if(b.isWindow(c))return d===w?a.viewportWidth(c):a.viewportHeight(c);if(9===c.nodeType)return d===w?a.docWidth(c):a.docHeight(c);
var g=d===w?["Left","Right"]:["Top","Bottom"],h=d===w?c.offsetWidth:c.offsetHeight,i=k(c),r="border-box"===a._getComputedStyle(c,"boxSizing",i),j=0;if(null==h||0>=h){h=void 0;j=a._getComputedStyle(c,d,i);if(null==j||0>Number(j))j=c.style[d]||0;j=parseFloat(j)||0}void 0===f&&(f=r?D:z);d=void 0!==h||r;h=h||j;return f===z?d?h-e(c,["border","padding"],g,i):j:d?h+(f===D?0:f===G?-e(c,["border"],g,i):e(c,["margin"],g,i)):j+e(c,y.slice(f),g,i)}var c=/-([a-z])/ig,b=i,a=n("./api"),s=i.Env.host,t={},h=["Webkit",
"Moz","O","ms"],p=h.length,o=s.document||{},u=(o&&o.documentElement).style;n("ua");var y=["margin","border","padding"],z=-1,G=2,D=1,H=a.nodeName,C=/^margin/,w="width",r="display"+b.now(),v={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},I="",L="px",M=/\d(?!px)[a-z%]+$/i,J={},K={},x={},B=q("userSelect"),F=B&&B.propertyName,A=b.camelCase;K["float"]="cssFloat";b.mix(a,{_cssHooks:J,_cssProps:K,_getComputedStyle:function(b,c,e){var f="",g,h;g=b.ownerDocument;c=d(c);
if(e=e||g.defaultView.getComputedStyle(b,null))f=e.getPropertyValue(c)||e[c];""===f&&!a.contains(g,b)&&(f=b.style[c]);a._RE_NUM_NO_PX.test(f)&&C.test(c)&&(h=b.style,b=h.width,c=h.minWidth,g=h.maxWidth,h.minWidth=h.maxWidth=h.width=f,f=e.width,h.width=b,h.minWidth=c,h.maxWidth=g);return f},style:function(c,d,e){var c=a.query(c),f,g=c[0];if(b.isPlainObject(d))for(f in d)for(g=c.length-1;0<=g;g--)j(c[g],f,d[f]);else{if(void 0===e)return f="",g&&(f=j(g,d,e)),f;for(g=c.length-1;0<=g;g--)j(c[g],d,e)}},
css:function(c,d,f){var c=a.query(c),e=c[0],g;if(b.isPlainObject(d))for(g in d)for(e=c.length-1;0<=e;e--)j(c[e],g,d[g]);else{d=A(d);g=J[d];if(void 0===f){f="";if(e&&(!g||!("get"in g&&void 0!==(f=g.get(e,!0)))))f=a._getComputedStyle(e,d);return"undefined"===typeof f?"":f}for(e=c.length-1;0<=e;e--)j(c[e],d,f)}},show:function(b){var b=a.query(b),c,d,e;for(e=b.length-1;0<=e;e--)if(d=b[e],d.style.display=a.data(d,r)||I,"none"===a.css(d,"display")){c=d.tagName.toLowerCase();var f=void 0,g=x[c],h=void 0;
x[c]||(f=o.body||o.documentElement,h=o.createElement(c),a.prepend(h,f),g=a.css(h,"display"),f.removeChild(h),x[c]=g);c=g;a.data(d,r,c);d.style.display=c}},hide:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var e=c.style,f=e.display;"none"!==f&&(f&&a.data(c,r,f),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){"string"===typeof b&&(d=c,c=b,b=s);var b=a.getDocument(b),
e;if(d&&(d=d.replace("#",I)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c)))},unselectable:F?function(c){var c=a.query(c),d,e,f=0,g,h;for(e=c.length-1;0<=e;e--){d=c[e];h=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(g=["iframe","textarea","input","select"];d=h[f++];)b.inArray(H(d),g)||d.setAttribute("unselectable","on")}}:function(b){for(var b=a.query(b),c=b.length-1;0<=
c;c--)b[c].style[F]="none"},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});b.each([w,"height"],function(c){a["inner"+b.ucfirst(c)]=function(b){return(b=a.get(b))&&g(b,c,G)};a["outer"+b.ucfirst(c)]=function(b,d){var e=a.get(b);return e&&g(e,c,d?0:D)};var d=c===w?["Left","Right"]:["Top","Bottom"];a[c]=function(b,f){var h=a.get(b);if(void 0!==f){if(h){var i=k(h);"border-box"===a._getComputedStyle(h,"boxSizing",i)&&(f+=e(h,["padding","border"],d,i));return a.css(h,c,f)}}else return h&&
g(h,c,z)};J[c]={get:function(b,a){var d;a&&(d=g(b,c)+"px");return d}}});var E={position:"absolute",visibility:"hidden",display:"block"};b.each(["left","top"],function(b){J[b]={get:function(c,d){var e,f,g;if(d){g=a.css(c,"position");if("static"===g)return"auto";e=a._getComputedStyle(c,b);if((f="auto"===e)&&"relative"===g)return"0px";if(f||M.test(e)){g={top:0,left:0};if("fixed"===a.css(c,"position"))f=c.getBoundingClientRect();else{for(e=c.offsetParent||(c.ownerDocument||o).body;e&&!N.test(e.nodeName)&&
"static"===a.css(e,"position");)e=e.offsetParent;f=a.offset(c);g=a.offset(e);g.top+=parseFloat(a.css(e,"borderTopWidth"))||0;g.left+=parseFloat(a.css(e,"borderLeftWidth"))||0}f.top-=parseFloat(a.css(c,"marginTop"))||0;f.left-=parseFloat(a.css(c,"marginLeft"))||0;e={top:f.top-g.top,left:f.left-g.left}[b]+"px"}}return e}}});var N=/^(?:body|html)$/i;return a});
KISSY.add("dom/base/selector",["./api"],function(i,n){function m(b){var a=this.length,c;for(c=0;c<a&&!1!==b(this[c],c);c++);}function q(b){b=b.substr(1);if(!b)throw Error("An invalid or illegal string was specified for selector.");return b}function d(a){return function(d){var e=c._getElementById(a,b);return e&&c._contains(d,e)?[e]:[]}}function f(b){return function(a){return a.getElementsByClassName(b)}}function j(b){return function(a){return a.getElementsByTagName(b)}}function g(a,e){var k,l,n="string"===
typeof a,s=void 0!==e?g(e):(l=1)&&[b],u=s.length;if(a)if(n){a=w(a);if(l)if("body"===a)k=[b.body];else if(z.test(a)&&t)k=p(b.getElementsByClassName(RegExp.$1));else if(H.test(a))k=(l=c._getElementById(RegExp.$2,b))&&l.nodeName.toLowerCase()===RegExp.$1?[l]:[];else if(G.test(a))k=(l=c._getElementById(a.substr(1),b))?[l]:[];else if(D.test(a))k=p(b.getElementsByTagName(a));else if(!a.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&t){k=a.split(/\s+/);var x=s,B,F;l=0;for(n=
k.length;l<n;l++){B=k;F=l;var A;A=k[l];var E=A.charAt(0);A="#"===E?d(q(A)):"."===E?f(q(A)):j(A);B[F]=A}l=0;for(n=k.length;l<n;l++){A=k[l];var E=[],C;B=0;for(F=x.length;B<F;B++)C=A(x[B]),E.push.apply(E,p(C));x=E;if(!x.length)break}k=x&&1<x.length?c.unique(x):x}if(!k){k=[];for(l=0;l<u;l++)y.apply(k,c._selectInternal(a,s[l]));1<k.length&&1<u&&c.unique(k)}}else{if(k=a.nodeType||i.isWindow(a)?[a]:a.getDOMNodes?a.getDOMNodes():h(a)?a:o(a)?p(a):[a],!l){n=k;B=n.length;k=[];for(l=0;l<B;l++)for(x=0;x<u;x++)if(c._contains(s[x],
n[l])){k.push(n[l]);break}}}else k=[];k.each=m;return k}function e(b,a){var c=b&&k(b,"class");return c&&(c=c.replace(/[\r\t\n]/g,u))&&-1<(u+c+u).indexOf(u+a+u)}function k(b,a){var c=b&&b.getAttributeNode(a);if(c&&c.specified)return c.nodeValue}function l(b,a){return"*"===a||b.nodeName.toLowerCase()===a.toLowerCase()}var c=n("./api"),b=i.Env.host.document,a=b.documentElement,s=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector,t="getElementsByClassName"in
b,h=i.isArray,p=i.makeArray,o=c.isDomNodeList,u=" ",y=Array.prototype.push,z=/^\.([\w-]+)$/,G=/^#([\w-]+)$/,D=/^([\w-])+$/,H=/^([\w-]+)#([\w-]+)$/,C=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,w=i.trim;i.mix(c,{_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(a)&4?-1:1},_getElementsByTagName:function(b,a){return p(a.querySelectorAll(b))},_getElementById:function(b,a){return a.getElementById(b)},
_getSimpleAttr:k,_isTag:l,_hasSingleClass:e,_matchesInternal:function(b,a){for(var c=[],d=0,e,f=a.length;d<f;d++)e=a[d],s.call(e,b)&&c.push(e);return c},_selectInternal:function(b,a){return p(a.querySelectorAll(b))},query:g,get:function(b,a){return g(b,a)[0]||null},unique:function(){function b(d,e){return d===e?(a=!0,0):c._compareNodeOrder(d,e)}var a,d=!0;[0,0].sort(function(){d=!1;return 0});return function(c){a=d;c.sort(b);if(a)for(var e=1,f=c.length;e<f;)c[e]===c[e-1]?(c.splice(e,1),--f):e++;return c}}(),
filter:function(b,a,d){var b=g(b,d),f,h,j,m,d=[];if("string"===typeof a&&(a=w(a))&&(j=C.exec(a)))f=j[1],h=j[2],m=j[3],f?f&&!h&&!m&&(a=function(a){return k(a,"id")===f}):a=function(a){var b=!0,c=!0;h&&(b=l(a,h));m&&(c=e(a,m));return c&&b};return d="function"===typeof a?i.filter(b,a):c._matchesInternal(a,b)},test:function(a,b,d){a=g(a,d);return a.length&&c.filter(a,b,d).length===a.length}});return c});
KISSY.add("dom/base/traversal",["./api"],function(i,n){function m(d,e,k,l,c,b,a){if(!(d=f.get(d)))return null;if(0===e)return d;b||(d=d[k]);if(!d)return null;c=c&&f.get(c)||null;void 0===e&&(e=1);var b=[],m=i.isArray(e),n,h;"number"===typeof e&&(n=0,h=e,e=function(){return++n===h});for(;d&&d!==c;){if((d.nodeType===j.ELEMENT_NODE||d.nodeType===j.TEXT_NODE&&a)&&q(d,e)&&(!l||l(d)))if(b.push(d),!m)break;d=d[k]}return m?b:b[0]||null}function q(d,e){if(!e)return!0;if(i.isArray(e)){var k,j=e.length;if(!j)return!0;
for(k=0;k<j;k++)if(f.test(d,e[k]))return!0}else if(f.test(d,e))return!0;return!1}function d(d,e,k,l){var c=[],b,a;if((b=d=f.get(d))&&k)b=d.parentNode;if(b){k=i.makeArray(b.childNodes);for(b=0;b<k.length;b++)a=k[b],(l||a.nodeType===j.ELEMENT_NODE)&&a!==d&&c.push(a);e&&(c=f.filter(c,e))}return c}var f=n("./api"),j=f.NodeType;i.mix(f,{_contains:function(d,e){return!!(d.compareDocumentPosition(e)&16)},closest:function(d,e,f,i){return m(d,e,"parentNode",function(c){return c.nodeType!==j.DOCUMENT_FRAGMENT_NODE},
f,!0,i)},parent:function(d,e,f){return m(d,e,"parentNode",function(d){return d.nodeType!==j.DOCUMENT_FRAGMENT_NODE},f,void 0)},first:function(d,e,i){d=f.get(d);return m(d&&d.firstChild,e,"nextSibling",void 0,void 0,!0,i)},last:function(d,e,i){d=f.get(d);return m(d&&d.lastChild,e,"previousSibling",void 0,void 0,!0,i)},next:function(d,e,f){return m(d,e,"nextSibling",void 0,void 0,void 0,f)},prev:function(d,e,f){return m(d,e,"previousSibling",void 0,void 0,void 0,f)},siblings:function(f,e,i){return d(f,
e,!0,i)},children:function(f,e){return d(f,e,void 0)},contents:function(f,e){return d(f,e,void 0,1)},contains:function(d,e){d=f.get(d);e=f.get(e);return d&&e?f._contains(d,e):!1},index:function(d,e){var k=f.query(d),l,c=0;l=k[0];if(!e){k=l&&l.parentNode;if(!k)return-1;for(;l=l.previousSibling;)l.nodeType===j.ELEMENT_NODE&&c++;return c}c=f.query(e);return"string"===typeof e?i.indexOf(l,c):i.indexOf(c[0],k)},equals:function(d,e){d=f.query(d);e=f.query(e);if(d.length!==e.length)return!1;for(var i=d.length;0<=
i;i--)if(d[i]!==e[i])return!1;return!0}});return f});KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(i,n){var m=n("./base/api");n("./base/attr");n("./base/class");n("./base/create");n("./base/data");n("./base/insertion");n("./base/offset");n("./base/style");n("./base/selector");n("./base/traversal");i.mix(i,{DOM:m,get:m.get,query:m.query});return m});
