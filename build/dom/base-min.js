/*
Copyright 2013, KISSY v1.40
MIT Licensed
build time: Nov 5 23:50
*/
KISSY.add("dom/base/api",function(d){var a=d.Env.host||{},h=a.document,r=d.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n={isCustomDomain:function(d){var d=d||a,d=n.get(d),e=d.document.domain,d=d.location.hostname;return e!=d&&e!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||a;d=n.get(d);return r.ie&&n.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(h){if(!h)return a;h=n.get(h);if(d.isWindow(h))return h;var e=h;e.nodeType!==l.DOCUMENT_NODE&&(e=h.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return h;a=n.get(a);return d.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var d=n.get(a),a=d.nodeName.toLowerCase();r.ie&&(d=d.scopeName)&&"HTML"!=d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};d.mix(n,l);return n});
KISSY.add("dom/base/attr",function(d,a,h){function r(a,b){var b=k[b]||b,c=m[b];return c&&c.get?c.get(a,b):a[b]}var l=d.Env.host.document,n=a.NodeType,l=l&&l.documentElement,o=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,j=/:|^on/,b=/\r/g,c={},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},s={tabindex:{get:function(a){var b=
a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:h}}},k={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},u={get:function(b,c){return a.prop(b,c)?c.toLowerCase():h},set:function(b,c,d){!1===c?
a.removeAttr(b,d):(c=k[d]||d,c in b&&(b[c]=!0),b.setAttribute(d,d.toLowerCase()));return d}},m={},v={},p={select:{get:function(b){var c=b.selectedIndex,d=b.options,g;if(0>c)return null;if("select-one"===""+b.type)return a.val(d[c]);b=[];c=0;for(g=d.length;c<g;++c)d[c].selected&&b.push(a.val(d[c]));return b},set:function(b,c){var g=d.makeArray(c);d.each(b.options,function(b){b.selected=d.inArray(a.val(b),g)});g.length||(b.selectedIndex=-1);return g}}};d.each(["radio","checkbox"],function(b){p[b]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(b,c){return d.isArray(c)?b.checked=d.inArray(a.val(b),c):h}}});s.style={get:function(a){return a.style.cssText}};d.mix(a,{_valHooks:p,_propFix:k,_attrHooks:s,_propHooks:m,_attrNodeHook:v,_attrFix:c,prop:function(b,c,g){var e=a.query(b),f,s;if(d.isPlainObject(c))return d.each(c,function(b,H){a.prop(e,H,b)}),h;c=k[c]||c;s=m[c];if(g!==h)for(b=e.length-1;0<=b;b--)f=e[b],s&&s.set?s.set(f,g,c):f[c]=g;else if(e.length)return r(e[0],c);return h},hasProp:function(b,
c){var d=a.query(b),g,e=d.length,f;for(g=0;g<e;g++)if(f=d[g],r(f,c)!==h)return!0;return!1},removeProp:function(b,c){var c=k[c]||c,d=a.query(b),g,e;for(g=d.length-1;0<=g;g--){e=d[g];try{e[c]=h,delete e[c]}catch(f){}}},attr:function(b,f,m,k){var i=a.query(b),p=i[0];if(d.isPlainObject(f)){var k=m,l;for(l in f)a.attr(i,l,f[l],k);return h}if(k&&g[f])return a[f](b,m);f=f.toLowerCase();if(k&&g[f])return a[f](b,m);f=c[f]||f;b=e.test(f)?u:j.test(f)?v:s[f];if(m===h){if(p&&p.nodeType===n.ELEMENT_NODE){"form"==
o(p)&&(b=v);if(b&&b.get)return b.get(p,f);m=p.getAttribute(f);return""===m&&(f=p.getAttributeNode(f),!f||!f.specified)?h:null===m?h:m}}else for(k=i.length-1;0<=k;k--)if((p=i[k])&&p.nodeType===n.ELEMENT_NODE)"form"==o(p)&&(b=v),b&&b.set?b.set(p,m,f):p.setAttribute(f,""+m);return h},removeAttr:function(b,d){var d=d.toLowerCase(),d=c[d]||d,g=a.query(b),f,h,m;for(m=g.length-1;0<=m;m--)if(h=g[m],h.nodeType==n.ELEMENT_NODE&&(h.removeAttribute(d),e.test(d)&&(f=k[d]||d)in h))h[f]=!1},hasAttr:l&&!l.hasAttribute?
function(b,c){var c=c.toLowerCase(),d=a.query(b),g,f;for(g=0;g<d.length;g++)if(f=d[g],(f=f.getAttributeNode(c))&&f.specified)return!0;return!1}:function(b,c){var d=a.query(b),g,f=d.length;for(g=0;g<f;g++)if(d[g].hasAttribute(c))return!0;return!1},val:function(c,g){var f,m,e,s,k;if(g===h){if(e=a.get(c)){if((f=p[o(e)]||p[e.type])&&"get"in f&&(m=f.get(e,"value"))!==h)return m;m=e.value;return"string"===typeof m?m.replace(b,""):null==m?"":m}return h}m=a.query(c);for(s=m.length-1;0<=s;s--){e=m[s];if(1!==
e.nodeType)break;k=g;null==k?k="":"number"===typeof k?k+="":d.isArray(k)&&(k=d.map(k,function(a){return a==null?"":a+""}));f=p[o(e)]||p[e.type];if(!f||!("set"in f)||f.set(e,k,"value")===h)e.value=k}return h},text:function(b,c){var d,f,g,m;if(c===h)return d=a.get(b),a._getText(d);f=a.query(b);for(g=f.length-1;0<=g;g--)if(d=f[g],m=d.nodeType,m==n.ELEMENT_NODE)a.cleanData(d.getElementsByTagName("*")),"textContent"in d?d.textContent=c:d.innerText=c;else if(m==n.TEXT_NODE||m==n.CDATA_SECTION_NODE)d.nodeValue=
c;return h},_getText:function(a){return a.textContent}});return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(d,a){function h(a){for(var a=d.trim(a||""),a=a.split(e),h=[],j,b=a.length,c=0;c<b;c++)(j=a[c])&&h.push(j);return h}function r(a){return function(d,e){var b,c,g,h=d.classList,k=n.call(arguments,2);b=0;for(c=e.length;b<c;b++)(g=e[b])&&h[a].apply(h,[g].concat(k))}}function l(d){return function(e,j){var b=h(j),c=n.call(arguments,2);a.query(e).each(function(g){g.nodeType==o.ELEMENT_NODE&&a[d].apply(a,[g,b].concat(c))})}}var n=[].slice,o=a.NodeType,e=/[\.\s]\s*\.?/;d.mix(a,
{_hasClass:function(a,d){var e,b,c,g=a.classList;if(g.length){e=0;for(b=d.length;e<b;e++)if((c=d[e])&&!g.contains(c))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(d,e){var j=a.get(d);return j&&j.nodeType==o.ELEMENT_NODE&&a._hasClass(j,h(e))},replaceClass:function(d,e,h){a.removeClass(d,e);a.addClass(d,h)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,a,h){function r(a){a=a&&a!=i?a.createElement(c):g;a===g&&(a.innerHTML="");return a}function l(a,b){var q=r(b);q.innerHTML="m<div>"+a+"</div>";return q.lastChild}function n(a,b){if(b)if(v&&b.canHaveChildren&&"removeNode"in a){if(a.firstChild)a:{try{a.innerHTML="";break a}catch(q){}for(var c;c=a.lastChild;)n(c,a)}a.removeNode(!1)}else b.removeChild(a)}function o(a,b,q){var c=b.nodeType;if(c==j.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;q=q.childNodes;for(c=0;b[c];)q[c]&&
o(a,b[c],q[c]),c++}else if(c==j.ELEMENT_NODE){b=b.getElementsByTagName("*");q=q.getElementsByTagName("*");for(c=0;b[c];)q[c]&&a(b[c],q[c]),c++}}function e(b,c){var q=d.require("event/dom"),y,B;if(c.nodeType!=j.ELEMENT_NODE||a.hasData(b)){y=a.data(b);for(B in y)a.data(c,B,y[B]);q&&q.clone(b,c)}}function f(a){var b=null,c,y;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=d.makeArray(a);c=0;for(y=a.length;c<y;c++)b.appendChild(a[c])}else"Unable to convert "+a+" to fragment.";
return b}var i=d.Env.host.document,j=a.NodeType,b=d.UA,b=document.documentMode||b.ie,c="div",g=i&&i.createElement(c),s=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,k=/<([\w:]+)/,u=/^\s+/,m=/\s+$/,v=!!(b&&9>b),p=v,J=/<|&#?\w+;/,G=i&&"outerHTML"in i.documentElement,D=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(a,{create:function(b,g,q,y){var B=null;if(!b)return B;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return B;y===h&&(y=!0);y&&(b=d.trim(b));var y=a._creators,e,A,q=
q||i,x,v=c;if(J.test(b))if(x=D.exec(b))B=q.createElement(x[1]);else{b=b.replace(s,"<$1></$2>");if((x=k.exec(b))&&(e=x[1]))v=e.toLowerCase();e=(y[v]||l)(b,q);p&&(A=b.match(u))&&e.insertBefore(q.createTextNode(A[0]),e.firstChild);p&&/\S/.test(b)&&(A=b.match(m))&&e.appendChild(q.createTextNode(A[0]));A=e.childNodes;1===A.length?B=A[0].parentNode.removeChild(A[0]):A.length?B=f(A):b+" : create node error"}else B=q.createTextNode(b);b=B;d.isPlainObject(g)&&(b.nodeType==j.ELEMENT_NODE?a.attr(b,g,!0):b.nodeType==
j.DOCUMENT_FRAGMENT_NODE&&a.attr(b.childNodes,g,!0));return b},_fixCloneAttributes:function(b,c){"textarea"===a.nodeName(b)&&(c.defaultValue=b.defaultValue,c.value=b.value)},_creators:{div:l},_defaultCreator:l,html:function(b,c,q){var b=a.query(b),d=b[0],g=!1,e,f;if(!d)return null;if(c===h)return d.nodeType==j.ELEMENT_NODE?d.innerHTML:d.nodeType==j.DOCUMENT_FRAGMENT_NODE?(q=r(d.ownerDocument),q.appendChild(d),q.innerHTML):null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!p||!c.match(u))&&!t[(c.match(k)||
["",""])[1].toLowerCase()])try{for(e=b.length-1;0<=e;e--)f=b[e],f.nodeType==j.ELEMENT_NODE&&(a.cleanData(f.getElementsByTagName("*")),f.innerHTML=c);g=!0}catch(m){}g||(c=a.create(c,0,d.ownerDocument,0),a.empty(b),a.append(c,b,q));return h},outerHtml:function(b,c,q){var b=a.query(b),d=b.length,g=b[0];if(!g)return null;if(c===h){if(G&&g.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return g.outerHTML;c=r(g.ownerDocument);c.appendChild(a.clone(g,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&
G)for(q=d-1;0<=q;q--)g=b[q],g.nodeType==j.ELEMENT_NODE&&(a.cleanData(g,1),g.outerHTML=c);else c=a.create(c,0,g.ownerDocument,0),a.insertBefore(c,b,q),a.remove(b);return h},remove:function(b,c){var q,y=a.query(b),g,e=d.require("event/dom"),f;for(f=y.length-1;0<=f;f--)q=y[f],!c&&q.nodeType==j.ELEMENT_NODE&&(g=d.makeArray(q.getElementsByTagName("*")),g.push(q),a.removeData(g),e&&e.detach(g)),n(q,q.parentNode)},clone:function(b,c,q,d){"object"===typeof c&&(d=c.deepWithDataAndEvent,q=c.withDataAndEvent,
c=c.deep);var b=a.get(b),g,f=a._fixCloneAttributes,m;if(!b)return null;m=b.nodeType;g=b.cloneNode(c);if(m==j.ELEMENT_NODE||m==j.DOCUMENT_FRAGMENT_NODE)f&&m==j.ELEMENT_NODE&&f(b,g),c&&f&&o(f,b,g);q&&(e(b,g),c&&d&&o(e,b,g));return g},empty:function(b){var b=a.query(b),c,q;for(q=b.length-1;0<=q;q--)c=b[q],a.remove(c.childNodes)},_nodeListToFragment:f});a.outerHTML=a.outerHtml;var C=a._creators,F=a.create,t={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",
colgroup:"table",col:"colgroup",legend:"fieldset"},z;for(z in t)(function(a){C[z]=function(b,c){return F("<"+a+">"+b+"</"+a+">",h,c)}})(t[z]);t.option=t.optgroup=function(a,b){return F('<select multiple="multiple">'+a+"</select>",h,b)};return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,a,h){var r=d.Env.host,l="_ks_data_"+d.now(),n={},o={},e={applet:1,object:1,embed:1},f={hasData:function(a,c){if(a)if(c!==h){if(c in a)return!0}else if(!d.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,c){return a==r?i.hasData(o,c):f.hasData(a[l],c)},data:function(a,c,d){if(a==r)return i.data(o,c,d);var e=a[l];if(d!==h)e=a[l]=a[l]||{},e[c]=d;else return c!==h?e&&e[c]:e=a[l]=a[l]||{}},removeData:function(a,c){if(a==r)return i.removeData(o,c);var g=a[l];
if(c!==h)delete g[c],d.isEmptyObject(g)&&i.removeData(a);else try{delete a[l]}catch(e){a[l]=h}}},j={hasData:function(a,c){var d=a[l];return!d?!1:f.hasData(n[d],c)},data:function(a,c,g){if(e[a.nodeName.toLowerCase()])return h;var f=a[l];if(!f){if(c!==h&&g===h)return h;f=a[l]=d.guid()}a=n[f];if(g!==h)a=n[f]=n[f]||{},a[c]=g;else return c!==h?a&&a[c]:a=n[f]=n[f]||{}},removeData:function(a,c){var g=a[l],e;if(g)if(e=n[g],c!==h)delete e[c],d.isEmptyObject(e)&&j.removeData(a);else{delete n[g];try{delete a[l]}catch(f){a[l]=
h}a.removeAttribute&&a.removeAttribute(l)}}};d.mix(a,{__EXPANDO:l,hasData:function(b,c){for(var d=!1,e=a.query(b),f=0;f<e.length&&!(d=e[f],d=d.nodeType?j.hasData(d,c):i.hasData(d,c));f++);return d},data:function(b,c,g){var b=a.query(b),e=b[0];if(d.isPlainObject(c)){for(var f in c)a.data(b,f,c[f]);return h}if(g===h){if(e)return e.nodeType?j.data(e,c):i.data(e,c)}else for(f=b.length-1;0<=f;f--)e=b[f],e.nodeType?j.data(e,c,g):i.data(e,c,g);return h},removeData:function(b,c){var d=a.query(b),e,f;for(f=
d.length-1;0<=f;f--)e=d[f],e.nodeType?j.removeData(e,c):i.removeData(e,c)},cleanData:function(b,c){var e=a.query(b),f,h,u=d.require("event/dom");for(h=e.length-1;0<=h;h--)if(f=e[h],f.nodeType){var m=c&&d.makeArray(f.getElementsByTagName("*"))||[];m.push(f);f=0;for(var v=m.length;f<v;f++)j.removeData(m[f]);u&&u.detach(m)}else i.removeData(f)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,a){function h(a,c){var d=[],l,k,u;for(l=0;a[l];l++)if(k=a[l],u=e(k),k.nodeType==n.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,h(f(k.childNodes),c));else if("script"===u&&(!k.type||j.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),c&&c.push(k);else{if(k.nodeType==n.ELEMENT_NODE&&!o.test(u)){u=[];var m,v,p=k.getElementsByTagName("script");for(v=0;v<p.length;v++)m=p[v],(!m.type||j.test(m.type))&&u.push(m);i.apply(a,[l+1,0].concat(u))}d.push(k)}return d}function r(a){a.src?
d.getScript(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function l(b,c,f,e){b=a.query(b);e&&(e=[]);b=h(b,e);a._fixInsertionChecked&&a._fixInsertionChecked(b);var c=a.query(c),k,u,m,i,p=c.length;if((b.length||e&&e.length)&&p){b=a._nodeListToFragment(b);1<p&&(i=a.clone(b,!0),c=d.makeArray(c));for(k=0;k<p;k++)u=c[k],b&&(m=0<k?a.clone(i,!0):b,f(m,u)),e&&e.length&&d.each(e,r)}}var n=a.NodeType,o=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,f=d.makeArray,i=[].splice,
j=/\/(java|ecma)script/i;d.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,c,d){l(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},d)},insertAfter:function(a,c,d){l(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},d)},appendTo:function(a,c,d){l(a,c,function(a,c){c.appendChild(a)},d)},prependTo:function(a,c,d){l(a,c,function(a,c){c.insertBefore(a,c.firstChild)},d)},wrapAll:function(b,c){c=a.clone(a.get(c),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(c,
b[0]);for(var d;(d=c.firstChild)&&1==d.nodeType;)c=d;a.appendTo(b,c)},wrap:function(b,c){b=a.query(b);c=a.get(c);d.each(b,function(b){a.wrapAll(b,c)})},wrapInner:function(b,c){b=a.query(b);c=a.get(c);d.each(b,function(b){var d=b.childNodes;d.length?a.wrapAll(d,c):b.appendChild(c)})},unwrap:function(b){b=a.query(b);d.each(b,function(c){c=c.parentNode;a.replaceWith(c,c.childNodes)})},replaceWith:function(b,c){var d=a.query(b),c=a.query(c);a.remove(c,!0);a.insertBefore(c,d);a.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,c){a[c]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,a,h){function r(a){var b,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[c];b=b[g];a-=i.clientLeft||d.clientLeft||0;b-=i.clientTop||d.clientTop||0;return{left:a,top:b}}function l(c,b){var d={left:0,top:0},e=j(c),f,g=c,b=b||e;do{if(e==b){var h=g;f=r(h);h=j(h);f.left+=a[s](h);f.top+=a[k](h)}else f=r(g);d.left+=f.left;d.top+=f.top}while(e&&e!=b&&(g=e.frameElement)&&(e=e.parent));return d}var n=d.Env.host,o=
d.UA,e=n.document,f=a.NodeType,i=e&&e.documentElement,j=a.getWindow,b=Math.max,c="left",g="top",s="scrollLeft",k="scrollTop";d.mix(a,{offset:function(c,b,d){if(b===h){var c=a.get(c),e;c&&(e=l(c,d));return e}d=a.query(c);for(e=d.length-1;0<=e;e--){var c=d[e],f=b;"static"===a.css(c,"position")&&(c.style.position="relative");var g=l(c),i={},j=void 0,k=void 0;for(k in f)j=parseFloat(a.css(c,k))||0,i[k]=j+f[k]-g[k];a.css(c,i)}return h},scrollIntoView:function(b,e,i,k){var l,n,o,r;if(o=a.get(b)){e&&(e=
a.get(e));e||(e=o.ownerDocument);e.nodeType==f.DOCUMENT_NODE&&(e=j(e));d.isPlainObject(i)&&(k=i.allowHorizontalScroll,r=i.onlyScrollIfNeeded,i=i.alignWithTop);k=k===h?!0:k;n=d.isWindow(e);var b=a.offset(o),s=a.outerHeight(o);l=a.outerWidth(o);var t,z,H,w;n?(n=e,t=a.height(n),z=a.width(n),w={left:a.scrollLeft(n),top:a.scrollTop(n)},n=b[c]-w[c],o=b[g]-w[g],l=b[c]+l-(w[c]+z),b=b[g]+s-(w[g]+t)):(t=a.offset(e),z=e.clientHeight,H=e.clientWidth,w={left:a.scrollLeft(e),top:a.scrollTop(e)},n=b[c]-(t[c]+(parseFloat(a.css(e,
"borderLeftWidth"))||0)),o=b[g]-(t[g]+(parseFloat(a.css(e,"borderTopWidth"))||0)),l=b[c]+l-(t[c]+H+(parseFloat(a.css(e,"borderRightWidth"))||0)),b=b[g]+s-(t[g]+z+(parseFloat(a.css(e,"borderBottomWidth"))||0)));if(r){if(0>o||0<b)!0===i?a.scrollTop(e,w.top+o):!1===i?a.scrollTop(e,w.top+b):0>o?a.scrollTop(e,w.top+o):a.scrollTop(e,w.top+b)}else(i=i===h?!0:!!i)?a.scrollTop(e,w.top+o):a.scrollTop(e,w.top+b);if(k)if(r){if(0>n||0<l)!0===i?a.scrollLeft(e,w.left+n):!1===i?a.scrollLeft(e,w.left+l):0>n?a.scrollLeft(e,
w.left+n):a.scrollLeft(e,w.left+l)}else(i=i===h?!0:!!i)?a.scrollLeft(e,w.left+n):a.scrollLeft(e,w.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(c,b){var d="scroll"+c;a[d]=function(e,g){if("number"===typeof e)return arguments.callee(n,e);var e=a.get(e),i,k,l,o;e&&e.nodeType==f.ELEMENT_NODE?g!==h?e[d]=parseFloat(g):i=e[d]:(o=j(e),g!==h?(g=parseFloat(g),k="Left"==c?g:a.scrollLeft(o),l="Top"==c?g:a.scrollTop(o),o.scrollTo(k,
l)):(i=o["page"+(b?"Y":"X")+"Offset"],"number"!==typeof i&&(k=o.document,i=k.documentElement[d],"number"!==typeof i&&(i=k.body[d]))));return i}});d.each(["Width","Height"],function(c){a["doc"+c]=function(d){d=a.get(d);d=a.getDocument(d);return b(d.documentElement["scroll"+c],d.body["scroll"+c],a["viewport"+c](d))};a["viewport"+c]=function(b){var b=a.get(b),d=j(b),b=d["inner"+c];if(o.mobile&&b)return b;var b="client"+c,d=d.document,e=d.body,f=d.documentElement[b];return"CSS1Compat"===d.compatMode&&
f||e&&e[b]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,a,h){function r(a,c){return c.toUpperCase()}function l(a){return a.replace(v,"ms-").replace(t,r)}function n(a,c,b){var d={},e=a.style,f;for(f in c)d[f]=e[f],e[f]=c[f];b.call(a);for(f in c)e[f]=d[f]}function o(a,c,b){var d,e,f;if(3===a.nodeType||8===a.nodeType||!(d=a.style))return h;c=l(c);f=D[c];c=C[c]||c;if(b!==h){null===b||b===p?b=p:!isNaN(Number(b))&&!m[c]&&(b+=J);f&&f.set&&(b=f.set(a,b));if(b!==h){try{d[c]=b}catch(g){"css set error:"+g}b===p&&d.removeAttribute&&
d.removeAttribute(c)}d.cssText||a.removeAttribute("style");return h}if(!f||!("get"in f&&(e=f.get(a,!1))!==h))e=d[c];return e===h?"":e}function e(a){var c,b=arguments;0!==a.offsetWidth?c=f.apply(h,b):n(a,H,function(){c=f.apply(h,b)});return c}function f(c,b,e){if(d.isWindow(c))return b==k?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return b==k?a.docWidth(c):a.docHeight(c);var f=b===k?["Left","Right"]:["Top","Bottom"],g=b===k?c.offsetWidth:c.offsetHeight;if(0<g)return"border"!==e&&d.each(f,
function(b){e||(g-=parseFloat(a.css(c,"padding"+b))||0);g="margin"===e?g+(parseFloat(a.css(c,e+b))||0):g-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),g;g=a._getComputedStyle(c,b);if(null==g||0>Number(g))g=c.style[b]||0;g=parseFloat(g)||0;e&&d.each(f,function(b){g+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(g+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(g+=parseFloat(a.css(c,e+b))||0)});return g}var i=d.Env.host,j=d.UA,b=d.Features,c=a.nodeName,g=i.document,s=/^margin/,k=
"width",u="display"+d.now(),m={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},v=/^-ms-/,p="",J="px",G=/\d(?!px)[a-z%]+$/i,D={},C={"float":"cssFloat"},F={},t=/-([a-z])/ig;if(b.isTransformSupported()){var z;z=C.transform=b.getTransformProperty();C.transformOrigin=z+"Origin"}b.isTransitionSupported()&&(C.transition=b.getTransitionProperty());d.mix(a,{_camelCase:l,_cssHooks:D,_cssProps:C,_getComputedStyle:function(c,b){var d="",e,f,g,h,i;f=c.ownerDocument;b=C[b]||
b;if(e=f.defaultView.getComputedStyle(c,null))d=e.getPropertyValue(b)||e[b];d===""&&!a.contains(f,c)&&(d=c.style[b]);if(a._RE_NUM_NO_PX.test(d)&&s.test(b)){i=c.style;f=i.width;g=i.minWidth;h=i.maxWidth;i.minWidth=i.maxWidth=i.width=d;d=e.width;i.width=f;i.minWidth=g;i.maxWidth=h}return d},style:function(c,b,e){var c=a.query(c),f,g=c[0];if(d.isPlainObject(b)){for(f in b)for(g=c.length-1;g>=0;g--)o(c[g],f,b[f]);return h}if(e===h){f="";g&&(f=o(g,b,e));return f}for(g=c.length-1;g>=0;g--)o(c[g],b,e);return h},
css:function(c,b,e){var c=a.query(c),f=c[0],g;if(d.isPlainObject(b)){for(g in b)for(f=c.length-1;f>=0;f--)o(c[f],g,b[g]);return h}b=l(b);g=D[b];if(e===h){e="";if(f&&(!g||!("get"in g&&(e=g.get(f,true))!==h)))e=a._getComputedStyle(f,b);return typeof e=="undefined"?"":e}for(f=c.length-1;f>=0;f--)o(c[f],b,e);return h},show:function(c){var c=a.query(c),b,d,e;for(e=c.length-1;e>=0;e--){d=c[e];d.style.display=a.data(d,u)||p;if(a.css(d,"display")==="none"){b=d.tagName.toLowerCase();var f=void 0,h=F[b],i=
void 0;if(!F[b]){f=g.body||g.documentElement;i=g.createElement(b);a.prepend(i,f);h=a.css(i,"display");f.removeChild(i);F[b]=h}b=h;a.data(d,u,b);d.style.display=b}}},hide:function(c){var c=a.query(c),b,d;for(d=c.length-1;d>=0;d--){b=c[d];var e=b.style,f=e.display;if(f!=="none"){f&&a.data(b,u,f);e.display="none"}}},toggle:function(c){var c=a.query(c),b,d;for(d=c.length-1;d>=0;d--){b=c[d];a.css(b,"display")==="none"?a.show(b):a.hide(b)}},addStyleSheet:function(c,b,d){if(typeof c=="string"){d=b;b=c;c=
i}var c=a.getDocument(c),e;if(d&&(d=d.replace("#",p)))e=a.get("#"+d,c);if(!e){e=a.create("<style>",{id:d},c);a.get("head",c).appendChild(e);e.styleSheet?e.styleSheet.cssText=b:e.appendChild(c.createTextNode(b))}},unselectable:function(b){var b=a.query(b),e,f,g=0,h,i;for(f=b.length-1;f>=0;f--){e=b[f];i=e.style;i.UserSelect="none";if(j.gecko)i.MozUserSelect="none";else if(j.webkit)i.WebkitUserSelect="none";else if(j.ie||j.opera){i=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(h=
["iframe","textarea","input","select"];e=i[g++];)d.inArray(c(e),h)||e.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([k,"height"],function(c){a["inner"+d.ucfirst(c)]=function(b){return(b=a.get(b))&&e(b,c,"padding")};a["outer"+d.ucfirst(c)]=function(b,d){var f=a.get(b);return f&&e(f,c,d?"margin":"border")};a[c]=function(b,d){var e=a.css(b,c,d);e&&(e=parseFloat(e));return e};D[c]={get:function(a,b){var d;b&&(d=e(a,c)+"px");return d}}});
var H={position:"absolute",visibility:"hidden",display:"block"};d.each(["left","top"],function(c){D[c]={get:function(b,d){var e,f,h;if(d){h=a.css(b,"position");if(h==="static")return"auto";e=a._getComputedStyle(b,c);if((f=e==="auto")&&h==="relative")return"0px";if(f||G.test(e)){h={top:0,left:0};if(a.css(b,"position")=="fixed")f=b.getBoundingClientRect();else{for(e=b.offsetParent||(b.ownerDocument||g).body;e&&!w.test(e.nodeName)&&a.css(e,"position")==="static";)e=e.offsetParent;f=a.offset(b);h=a.offset(e);
h.top=h.top+(parseFloat(a.css(e,"borderTopWidth"))||0);h.left=h.left+(parseFloat(a.css(e,"borderLeftWidth"))||0)}f.top=f.top-(parseFloat(a.css(b,"marginTop"))||0);f.left=f.left-(parseFloat(a.css(b,"marginLeft"))||0);e={top:f.top-h.top,left:f.left-h.left}[c]+"px"}}return e}}});var w=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,a,h){function r(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function l(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function n(b){return function(e){var d=a._getElementById(b,c);return d&&a._contains(e,d)?[d]:[]}}function o(a){return function(c){return c.getElementsByClassName(a)}}function e(a){return function(c){return c.getElementsByTagName(a)}}function f(b,g){var i,j,p="string"==
typeof b,s=g!==h?f(g):(j=1)&&[c],A=s.length;if(b)if(p){b=z(b);if(j)if("body"==b)i=[c.body];else if(G.test(b)&&k)i=c.getElementsByClassName(RegExp.$1);else if(F.test(b))i=(j=a._getElementById(RegExp.$2,c))&&j.nodeName.toLowerCase()==RegExp.$1?[j]:[];else if(D.test(b))i=(j=a._getElementById(b.substr(1),c))?[j]:[];else if(C.test(b))i=c.getElementsByTagName(b);else if(!b.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&k){i=b.split(/\s+/);var x=s,t,K;j=0;for(p=i.length;j<p;j++){t=
i;K=j;var E;E=i[j];var I=E.charAt(0);E="#"==I?n(l(E)):"."==I?o(l(E)):e(E);t[K]=E}j=0;for(p=i.length;j<p;j++){E=i[j];var I=[],L;t=0;for(K=x.length;t<K;t++)L=E(x[t]),I.push.apply(I,d.makeArray(L));x=I;if(!x.length)break}i=x&&1<x.length?a.unique(x):x}if(!i){i=[];for(j=0;j<A;j++)J.apply(i,a._selectInternal(b,s[j]));1<i.length&&1<A&&a.unique(i)}}else{if(i=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():u(b)?b:v(b)?m(b):[b],!j){p=i;t=p.length;i=[];for(j=0;j<t;j++)for(x=0;x<A;x++)if(a._contains(s[x],
p[j])){i.push(p[j]);break}}}else i=[];i.each=r;return i}function i(a,b){var c=a&&(a.className||j(a,"class"));return c&&(c=c.replace(/[\r\t\n]/g,p))&&-1<(p+c+p).indexOf(p+b+p)}function j(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:h}function b(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var c=d.Env.host.document,g=c.documentElement,s=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.oMatchesSelector||g.msMatchesSelector,k="getElementsByClassName"in
c,u=d.isArray,m=d.makeArray,v=a.isDomNodeList,p=" ",J=Array.prototype.push,G=/^\.([\w-]+)$/,D=/^#([\w-]+)$/,C=/^([\w-])+$/,F=/^([\w-]+)#([\w-]+)$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,z=d.trim;d.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return d.makeArray(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:j,_isTag:b,_hasSingleClass:i,_matchesInternal:function(a,b){for(var c=[],e=0,d,f=b.length;e<f;e++)d=b[e],s.call(d,a)&&c.push(d);return c},_selectInternal:function(a,b){return m(b.querySelectorAll(a))},query:f,get:function(a,b){return f(a,b)[0]||null},unique:function(){function b(e,d){return e==d?(c=!0,0):a._compareNodeOrder(e,d)}var c,e=!0;[0,0].sort(function(){e=!1;return 0});return function(a){c=e;a.sort(b);if(c)for(var d=1,f=a.length;d<f;)a[d]===a[d-1]?(a.splice(d,1),--f):d++;return a}}(),
filter:function(c,e,g){var c=f(c,g),h,k,l,m,g=[];if("string"==typeof e&&(e=z(e))&&(l=t.exec(e)))h=l[1],k=l[2],m=l[3],h?h&&!k&&!m&&(e=function(a){return j(a,"id")==h}):e=function(a){var c=!0,e=!0;k&&(c=b(a,k));m&&(e=i(a,m));return e&&c};return g="function"===typeof e?d.filter(c,e):a._matchesInternal(e,c)},test:function(b,c,e){b=f(b,e);return b.length&&a.filter(b,c,e).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,a,h){function r(e,f,i,j,b,c,g){if(!(e=a.get(e)))return null;if(0===f)return e;c||(e=e[i]);if(!e)return null;b=b&&a.get(b)||null;f===h&&(f=1);var c=[],n=d.isArray(f),k,r;"number"===typeof f&&(k=0,r=f,f=function(){return++k===r});for(;e&&e!=b;){if((e.nodeType==o.ELEMENT_NODE||e.nodeType==o.TEXT_NODE&&g)&&l(e,f)&&(!j||j(e)))if(c.push(e),!n)break;e=e[i]}return n?c:c[0]||null}function l(e,f){if(!f)return!0;if(d.isArray(f)){var h,j=f.length;if(!j)return!0;for(h=
0;h<j;h++)if(a.test(e,f[h]))return!0}else if(a.test(e,f))return!0;return!1}function n(e,f,h,j){var b=[],c,g;if((c=e=a.get(e))&&h)c=e.parentNode;if(c){h=d.makeArray(c.childNodes);for(c=0;c<h.length;c++)g=h[c],(j||g.nodeType==o.ELEMENT_NODE)&&g!=e&&b.push(g);f&&(b=a.filter(b,f))}return b}var o=a.NodeType;d.mix(a,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,h,j){return r(a,d,"parentNode",function(a){return a.nodeType!=o.DOCUMENT_FRAGMENT_NODE},h,!0,j)},parent:function(a,
d,i){return r(a,d,"parentNode",function(a){return a.nodeType!=o.DOCUMENT_FRAGMENT_NODE},i,h)},first:function(e,d,i){e=a.get(e);return r(e&&e.firstChild,d,"nextSibling",h,h,!0,i)},last:function(e,d,i){e=a.get(e);return r(e&&e.lastChild,d,"previousSibling",h,h,!0,i)},next:function(a,d,i){return r(a,d,"nextSibling",h,h,h,i)},prev:function(a,d,i){return r(a,d,"previousSibling",h,h,h,i)},siblings:function(a,d,h){return n(a,d,!0,h)},children:function(a,d){return n(a,d,h)},contents:function(a,d){return n(a,
d,h,1)},contains:function(d,f){d=a.get(d);f=a.get(f);return d&&f?a._contains(d,f):!1},index:function(e,f){var h=a.query(e),j,b=0;j=h[0];if(!f){h=j&&j.parentNode;if(!h)return-1;for(;j=j.previousSibling;)j.nodeType==o.ELEMENT_NODE&&b++;return b}b=a.query(f);return"string"===typeof f?d.indexOf(j,b):d.indexOf(b[0],h)},equals:function(d,f){d=a.query(d);f=a.query(f);if(d.length!=f.length)return!1;for(var h=d.length;0<=h;h--)if(d[h]!=f[h])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(d,a){d.mix(d,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
