/*
Copyright 2013, KISSY v1.50dev
MIT Licensed
build time: Nov 27 00:40
*/
KISSY.add("dom/base/api",[],function(e){var p=e.Env.host||{},n=p.document,l=e.UA,d={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},f={isCustomDomain:function(e){var e=e||p,e=f.get(e),h=e.document.domain,e=e.location.hostname;return h!=e&&h!="["+e+"]"},getEmptyIframeSrc:function(e){e=e||p;e=f.get(e);return l.ie&&f.isCustomDomain(e)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+e.document.domain+"';document.close();")+"}())":""},NodeType:d,getWindow:function(m){if(!m)return p;m=f.get(m);if(e.isWindow(m))return m;var h=m;h.nodeType!==d.DOCUMENT_NODE&&(h=m.ownerDocument);return h.defaultView||h.parentWindow},getDocument:function(m){if(!m)return n;m=f.get(m);return e.isWindow(m)?m.document:m.nodeType==d.DOCUMENT_NODE?m:m.ownerDocument},isDomNodeList:function(e){return e&&!e.nodeType&&e.item&&
!e.setTimeout},nodeName:function(e){var h=f.get(e),e=h.nodeName.toLowerCase();l.ie&&(h=h.scopeName)&&"HTML"!=h&&(e=h.toLowerCase()+":"+e);return e},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};e.mix(f,d);return f});
KISSY.add("dom/base/attr",["./api"],function(e,p){function n(b,a){var a=i[a]||a,c=q[a];return c&&c.get?c.get(b,a):b[a]}var l=p("./api"),d=e.Env.host.document,f=f,m=l.NodeType,d=d&&d.documentElement,h=l.nodeName,b=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,c=/:|^on/,a=/\r/g,g={},o={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},
w={tabindex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):j.test(a.nodeName)||k.test(a.nodeName)&&a.href?0:f}}},i={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},x={get:function(a,b){return l.prop(a,b)?b.toLowerCase():
f},set:function(a,b,c){!1===b?l.removeAttr(a,c):(b=i[c]||c,b in a&&(a[b]=!0),a.setAttribute(c,c.toLowerCase()));return c}},q={},r={},z={select:{get:function(a){var b=a.selectedIndex,c=a.options,e;if(0>b)return null;if("select-one"===""+a.type)return l.val(c[b]);a=[];b=0;for(e=c.length;b<e;++b)c[b].selected&&a.push(l.val(c[b]));return a},set:function(a,b){var c=e.makeArray(b);e.each(a.options,function(a){a.selected=e.inArray(l.val(a),c)});c.length||(a.selectedIndex=-1);return c}}};e.each(["radio",
"checkbox"],function(a){z[a]={get:function(a){return null===a.getAttribute("value")?"on":a.value},set:function(a,b){return e.isArray(b)?a.checked=e.inArray(l.val(a),b):f}}});w.style={get:function(a){return a.style.cssText}};e.mix(l,{_valHooks:z,_propFix:i,_attrHooks:w,_propHooks:q,_attrNodeHook:r,_attrFix:g,prop:function(a,b,c){var g=l.query(a),h,o;if(e.isPlainObject(b))return e.each(b,function(a,b){l.prop(g,b,a)}),f;b=i[b]||b;o=q[b];if(c!==f)for(a=g.length-1;0<=a;a--)h=g[a],o&&o.set?o.set(h,c,b):
h[b]=c;else if(g.length)return n(g[0],b);return f},hasProp:function(a,b){var c=l.query(a),g,e=c.length,i;for(g=0;g<e;g++)if(i=c[g],n(i,b)!==f)return!0;return!1},removeProp:function(a,b){var b=i[b]||b,c=l.query(a),g,e;for(g=c.length-1;0<=g;g--){e=c[g];try{e[b]=f,delete e[b]}catch(h){}}},attr:function(a,i,d,j){var k=l.query(a),q=k[0];if(e.isPlainObject(i)){var j=d,v;for(v in i)l.attr(k,v,i[v],j);return f}if(j&&o[i])return l[i](a,d);i=i.toLowerCase();if(j&&o[i])return l[i](a,d);i=g[i]||i;a=b.test(i)?
x:c.test(i)?r:w[i];if(d===f){if(q&&q.nodeType===m.ELEMENT_NODE){"form"==h(q)&&(a=r);if(a&&a.get)return a.get(q,i);d=q.getAttribute(i);return""===d&&(i=q.getAttributeNode(i),!i||!i.specified)?f:null===d?f:d}}else for(j=k.length-1;0<=j;j--)if((q=k[j])&&q.nodeType===m.ELEMENT_NODE)"form"==h(q)&&(a=r),a&&a.set?a.set(q,d,i):q.setAttribute(i,""+d);return f},removeAttr:function(a,c){var c=c.toLowerCase(),c=g[c]||c,e=l.query(a),f,d,h;for(h=e.length-1;0<=h;h--)if(d=e[h],d.nodeType==m.ELEMENT_NODE&&(d.removeAttribute(c),
b.test(c)&&(f=i[c]||c)in d))d[f]=!1},hasAttr:d&&!d.hasAttribute?function(a,b){var b=b.toLowerCase(),c=l.query(a),g,e;for(g=0;g<c.length;g++)if(e=c[g],(e=e.getAttributeNode(b))&&e.specified)return!0;return!1}:function(a,b){var c=l.query(a),g,e=c.length;for(g=0;g<e;g++)if(c[g].hasAttribute(b))return!0;return!1},val:function(b,c){var g,i,d,o,v;if(c===f){if(d=l.get(b)){if((g=z[h(d)]||z[d.type])&&"get"in g&&(i=g.get(d,"value"))!==f)return i;i=d.value;return"string"===typeof i?i.replace(a,""):null==i?"":
i}return f}i=l.query(b);for(o=i.length-1;0<=o;o--){d=i[o];if(1!==d.nodeType)break;v=c;null==v?v="":"number"===typeof v?v+="":e.isArray(v)&&(v=e.map(v,function(a){return a==null?"":a+""}));g=z[h(d)]||z[d.type];if(!g||!("set"in g)||g.set(d,v,"value")===f)d.value=v}return f},text:function(a,b){var c,g,i,e;if(b===f)return c=l.get(a),l._getText(c);g=l.query(a);for(i=g.length-1;0<=i;i--)if(c=g[i],e=c.nodeType,e==m.ELEMENT_NODE)l.cleanData(c.getElementsByTagName("*")),"textContent"in c?c.textContent=b:c.innerText=
b;else if(e==m.TEXT_NODE||e==m.CDATA_SECTION_NODE)c.nodeValue=b;return f},_getText:function(a){return a.textContent}});return l});
KISSY.add("dom/base/class",["./api"],function(e,p){function n(d){for(var d=e.trim(d||""),d=d.split(b),f=[],c,a=d.length,g=0;g<a;g++)(c=d[g])&&f.push(c);return f}function l(b){return function(e,c){var a,g,d,f=e.classList,i=m.call(arguments,2);a=0;for(g=c.length;a<g;a++)(d=c[a])&&f[b].apply(f,[d].concat(i))}}function d(b){return function(e,c){var a=n(c),g=m.call(arguments,2);f.query(e).each(function(c){c.nodeType==h.ELEMENT_NODE&&f[b].apply(f,[c,a].concat(g))})}}var f=p("./api"),m=[].slice,h=f.NodeType,
b=/[\.\s]\s*\.?/;e.mix(f,{_hasClass:function(b,e){var c,a,g,d=b.classList;if(d.length){c=0;for(a=e.length;c<a;c++)if((g=e[c])&&!d.contains(g))return!1;return!0}return!1},_addClass:l("add"),_removeClass:l("remove"),_toggleClass:l("toggle"),hasClass:function(b,e){var c=f.get(b);return c&&c.nodeType==h.ELEMENT_NODE&&f._hasClass(c,n(e))},replaceClass:function(b,e,c){f.removeClass(b,e);f.addClass(b,c)},addClass:d("_addClass"),removeClass:d("_removeClass"),toggleClass:d("_toggleClass")});return f});
KISSY.add("dom/base/create",["./api"],function(e,p){function n(b){b=b&&b!=j?b.createElement(a):g;b===g&&(b.innerHTML="");return b}function l(b,a){var c=n(a);c.innerHTML="m<div>"+b+"</div>";return c.lastChild}function d(b,a){if(a)if(q&&a.canHaveChildren&&"removeNode"in b){if(b.firstChild)a:{try{b.innerHTML="";break a}catch(c){}for(var g;g=b.lastChild;)d(g,b)}b.removeNode(!1)}else a.removeChild(b)}function f(b,a,c){var g=a.nodeType;if(g==k.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;c=c.childNodes;for(g=
0;a[g];)c[g]&&f(b,a[g],c[g]),g++}else if(g==k.ELEMENT_NODE){a=a.getElementsByTagName("*");c=c.getElementsByTagName("*");for(g=0;a[g];)c[g]&&b(a[g],c[g]),g++}}function m(a,c){var g=e.require("event/dom"),i,d;if(c.nodeType!=k.ELEMENT_NODE||b.hasData(a)){i=b.data(a);for(d in i)b.data(c,d,i[d]);g&&g.clone(a,c)}}function h(a){var b=null,c,g;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=e.makeArray(a);c=0;for(g=a.length;c<g;c++)b.appendChild(a[c])}else"Unable to convert "+
a+" to fragment.";return b}var b=p("./api"),j=e.Env.host.document,k=b.NodeType,c=e.UA.ieMode,a="div",g=j&&j.createElement(a),o=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,w=/<([\w:]+)/,i=/^\s+/,x=/\s+$/,q=!!(c&&9>c),r=q,z=/<|&#?\w+;/,F=j&&"outerHTML"in j.documentElement,H=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;e.mix(b,{create:function(c,g,d,f){var q=null;if(!c)return q;if(c.nodeType)return b.clone(c);if("string"!=typeof c)return q;void 0===f&&(f=!0);f&&(c=e.trim(c));var f=b._creators,
A,s,d=d||j,y,J=a;if(z.test(c))if(y=H.exec(c))q=d.createElement(y[1]);else{c=c.replace(o,"<$1></$2>");if((y=w.exec(c))&&(A=y[1]))J=A.toLowerCase();A=(f[J]||l)(c,d);r&&(s=c.match(i))&&A.insertBefore(d.createTextNode(s[0]),A.firstChild);r&&/\S/.test(c)&&(s=c.match(x))&&A.appendChild(d.createTextNode(s[0]));s=A.childNodes;1===s.length?q=s[0].parentNode.removeChild(s[0]):s.length?q=h(s):c+" : create node error"}else q=d.createTextNode(c);c=q;e.isPlainObject(g)&&(c.nodeType==k.ELEMENT_NODE?b.attr(c,g,!0):
c.nodeType==k.DOCUMENT_FRAGMENT_NODE&&b.attr(c.childNodes,g,!0));return c},_fixCloneAttributes:function(a,c){"textarea"===b.nodeName(a)&&(c.defaultValue=a.defaultValue,c.value=a.value)},_creators:{div:l},_defaultCreator:l,html:function(a,c,g){var a=b.query(a),e=a[0],d=!1,A,s;if(!e)return null;if(void 0===c)return e.nodeType==k.ELEMENT_NODE?e.innerHTML:e.nodeType==k.DOCUMENT_FRAGMENT_NODE?(g=n(e.ownerDocument),g.appendChild(e),g.innerHTML):null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!r||!c.match(i))&&
!t[(c.match(w)||["",""])[1].toLowerCase()])try{for(A=a.length-1;0<=A;A--)s=a[A],s.nodeType==k.ELEMENT_NODE&&(b.cleanData(s.getElementsByTagName("*")),s.innerHTML=c);d=!0}catch(f){}d||(c=b.create(c,0,e.ownerDocument,0),b.empty(a),b.append(c,a,g))},outerHtml:function(a,c,g){var a=b.query(a),e=a.length,i=a[0];if(!i)return null;if(void 0===c){if(F&&i.nodeType!=b.DOCUMENT_FRAGMENT_NODE)return i.outerHTML;c=n(i.ownerDocument);c.appendChild(b.clone(i,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&
F)for(g=e-1;0<=g;g--)i=a[g],i.nodeType==k.ELEMENT_NODE&&(b.cleanData(i,1),i.outerHTML=c);else c=b.create(c,0,i.ownerDocument,0),b.insertBefore(c,a,g),b.remove(a)},remove:function(a,c){var g,i=b.query(a),f,A=e.require("event/dom"),s;for(s=i.length-1;0<=s;s--)g=i[s],!c&&g.nodeType==k.ELEMENT_NODE&&(f=e.makeArray(g.getElementsByTagName("*")),f.push(g),b.removeData(f),A&&A.detach(f)),d(g,g.parentNode)},clone:function(a,c,g,e){"object"===typeof c&&(e=c.deepWithDataAndEvent,g=c.withDataAndEvent,c=c.deep);
var a=b.get(a),i,d=b._fixCloneAttributes,s;if(!a)return null;s=a.nodeType;i=a.cloneNode(c);if(s==k.ELEMENT_NODE||s==k.DOCUMENT_FRAGMENT_NODE)d&&s==k.ELEMENT_NODE&&d(a,i),c&&d&&f(d,a,i);g&&(m(a,i),c&&e&&f(m,a,i));return i},empty:function(a){var a=b.query(a),c,g;for(g=a.length-1;0<=g;g--)c=a[g],b.remove(c.childNodes)},_nodeListToFragment:h});b.outerHTML=b.outerHtml;var C=b._creators,B=b.create,t={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",
col:"colgroup",legend:"fieldset"},E;for(E in t)(function(a){C[E]=function(c,b){return B("<"+a+">"+c+"</"+a+">",void 0,b)}})(t[E]);t.option=t.optgroup=function(a,c){return B('<select multiple="multiple">'+a+"</select>",void 0,c)};return b});
KISSY.add("dom/base/data",["./api"],function(e,p){var n=p("./api"),l=e.Env.host,d="_ks_data_"+e.now(),f={},m={},h={applet:1,object:1,embed:1},b={hasData:function(c,a){if(c)if(void 0!==a){if(a in c)return!0}else if(!e.isEmptyObject(c))return!0;return!1}},j={hasData:function(c,a){return c==l?j.hasData(m,a):b.hasData(c[d],a)},data:function(c,a,b){if(c==l)return j.data(m,a,b);var e=c[d];if(void 0!==b)e=c[d]=c[d]||{},e[a]=b;else return void 0!==a?e&&e[a]:e=c[d]=c[d]||{}},removeData:function(c,a){if(c==
l)return j.removeData(m,a);var b=c[d];if(void 0!==a)delete b[a],e.isEmptyObject(b)&&j.removeData(c);else try{delete c[d]}catch(f){c[d]=void 0}}},k={hasData:function(c,a){var g=c[d];return!g?!1:b.hasData(f[g],a)},data:function(c,a,b){if(!h[c.nodeName.toLowerCase()]){var o=c[d];if(!o){if(void 0!==a&&void 0===b)return;o=c[d]=e.guid()}c=f[o];if(void 0!==b)c=f[o]=f[o]||{},c[a]=b;else return void 0!==a?c&&c[a]:c=f[o]=f[o]||{}}},removeData:function(c,a){var b=c[d],h;if(b)if(h=f[b],void 0!==a)delete h[a],
e.isEmptyObject(h)&&k.removeData(c);else{delete f[b];try{delete c[d]}catch(j){c[d]=void 0}c.removeAttribute&&c.removeAttribute(d)}}};e.mix(n,{__EXPANDO:d,hasData:function(c,a){for(var b=!1,e=n.query(c),d=0;d<e.length&&!(b=e[d],b=b.nodeType?k.hasData(b,a):j.hasData(b,a));d++);return b},data:function(c,a,b){var c=n.query(c),d=c[0];if(e.isPlainObject(a))for(var f in a)n.data(c,f,a[f]);else if(void 0===b){if(d)return d.nodeType?k.data(d,a):j.data(d,a)}else for(f=c.length-1;0<=f;f--)d=c[f],d.nodeType?
k.data(d,a,b):j.data(d,a,b)},removeData:function(c,a){var b=n.query(c),e,d;for(d=b.length-1;0<=d;d--)e=b[d],e.nodeType?k.removeData(e,a):j.removeData(e,a)},cleanData:function(b,a){var g=n.query(b),d,f,i=e.require("event/dom");for(f=g.length-1;0<=f;f--)if(d=g[f],d.nodeType){var h=a&&e.makeArray(d.getElementsByTagName("*"))||[];h.push(d);d=0;for(var q=h.length;d<q;d++)k.removeData(h[d]);i&&i.detach(h)}else j.removeData(d)}});return n});
KISSY.add("dom/base/insertion",["./api"],function(e,p){function n(a,e){var d=[],f,i,x;for(f=0;a[f];f++)if(i=a[f],x=b(i),i.nodeType==m.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,n(j(i.childNodes),e));else if("script"===x&&(!i.type||c.test(i.type)))i.parentNode&&i.parentNode.removeChild(i),e&&e.push(i);else{if(i.nodeType==m.ELEMENT_NODE&&!h.test(x)){x=[];var q,r,l=i.getElementsByTagName("script");for(r=0;r<l.length;r++)q=l[r],(!q.type||c.test(q.type))&&x.push(q);k.apply(a,[f+1,0].concat(x))}d.push(i)}return d}
function l(a){a.src?e.getScript(a.src):(a=e.trim(a.text||a.textContent||a.innerHTML||""))&&e.globalEval(a)}function d(a,b,c,d){a=f.query(a);d&&(d=[]);a=n(a,d);f._fixInsertionChecked&&f._fixInsertionChecked(a);var b=f.query(b),i,h,q,j,k=b.length;if((a.length||d&&d.length)&&k){a=f._nodeListToFragment(a);1<k&&(j=f.clone(a,!0),b=e.makeArray(b));for(i=0;i<k;i++)h=b[i],a&&(q=0<i?f.clone(j,!0):a,c(q,h)),d&&d.length&&e.each(d,l)}}var f=p("./api"),m=f.NodeType,h=/^(?:button|input|object|select|textarea)$/i,
b=f.nodeName,j=e.makeArray,k=[].splice,c=/\/(java|ecma)script/i;e.mix(f,{_fixInsertionChecked:null,insertBefore:function(a,b,c){d(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){d(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){d(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){d(a,b,function(b,a){a.insertBefore(b,a.firstChild)},c)},wrapAll:function(a,b){b=f.clone(f.get(b),!0);
a=f.query(a);a[0].parentNode&&f.insertBefore(b,a[0]);for(var c;(c=b.firstChild)&&1==c.nodeType;)b=c;f.appendTo(a,b)},wrap:function(b,c){b=f.query(b);c=f.get(c);e.each(b,function(b){f.wrapAll(b,c)})},wrapInner:function(b,c){b=f.query(b);c=f.get(c);e.each(b,function(b){var a=b.childNodes;a.length?f.wrapAll(a,c):b.appendChild(c)})},unwrap:function(b){b=f.query(b);e.each(b,function(b){b=b.parentNode;f.replaceWith(b,b.childNodes)})},replaceWith:function(b,c){var d=f.query(b),c=f.query(c);f.remove(c,!0);
f.insertBefore(c,d);f.remove(d)}});e.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,c){f[c]=f[b]});return f});
KISSY.add("dom/base/offset",["./api"],function(e,p){function n(b){var c,d=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};c=b.getBoundingClientRect();b=c[a];c=c[g];b-=j.clientLeft||d.clientLeft||0;c-=j.clientTop||d.clientTop||0;return{left:b,top:c}}function l(b,c){var a={left:0,top:0},e=k(b),f,g=b,c=c||e;do{if(e==c){var h=g;f=n(h);h=k(h);f.left+=d[o](h);f.top+=d[w](h)}else f=n(g);a.left+=f.left;a.top+=f.top}while(e&&e!=c&&(g=e.frameElement)&&(e=e.parent));return a}var d=p("./api"),
f=e.Env.host,m=e.UA,h=f.document,b=d.NodeType,j=h&&h.documentElement,k=d.getWindow,c=Math.max,a="left",g="top",o="scrollLeft",w="scrollTop";e.mix(d,{offset:function(b,c,a){if(void 0===c){var b=d.get(b),e;b&&(e=l(b,a));return e}a=d.query(b);for(e=a.length-1;0<=e;e--){var b=a[e],f=c;"static"===d.css(b,"position")&&(b.style.position="relative");var g=l(b),h={},j=void 0,k=void 0;for(k in f)j=parseFloat(d.css(b,k))||0,h[k]=j+f[k]-g[k];d.css(b,h)}},scrollIntoView:function(c,f,h,j){var l,m,n,o;if(n=d.get(c)){f&&
(f=d.get(f));f||(f=n.ownerDocument);f.nodeType==b.DOCUMENT_NODE&&(f=k(f));e.isPlainObject(h)&&(j=h.allowHorizontalScroll,o=h.onlyScrollIfNeeded,h=h.alignWithTop);j=void 0===j?!0:j;m=e.isWindow(f);var c=d.offset(n),p=d.outerHeight(n);l=d.outerWidth(n);var t,w,v,u;m?(m=f,t=d.height(m),w=d.width(m),u={left:d.scrollLeft(m),top:d.scrollTop(m)},m=c[a]-u[a],n=c[g]-u[g],l=c[a]+l-(u[a]+w),c=c[g]+p-(u[g]+t)):(t=d.offset(f),w=f.clientHeight,v=f.clientWidth,u={left:d.scrollLeft(f),top:d.scrollTop(f)},m=c[a]-
(t[a]+(parseFloat(d.css(f,"borderLeftWidth"))||0)),n=c[g]-(t[g]+(parseFloat(d.css(f,"borderTopWidth"))||0)),l=c[a]+l-(t[a]+v+(parseFloat(d.css(f,"borderRightWidth"))||0)),c=c[g]+p-(t[g]+w+(parseFloat(d.css(f,"borderBottomWidth"))||0)));if(o){if(0>n||0<c)!0===h?d.scrollTop(f,u.top+n):!1===h?d.scrollTop(f,u.top+c):0>n?d.scrollTop(f,u.top+n):d.scrollTop(f,u.top+c)}else(h=void 0===h?!0:!!h)?d.scrollTop(f,u.top+n):d.scrollTop(f,u.top+c);if(j)if(o){if(0>m||0<l)!0===h?d.scrollLeft(f,u.left+m):!1===h?d.scrollLeft(f,
u.left+l):0>m?d.scrollLeft(f,u.left+m):d.scrollLeft(f,u.left+l)}else void 0===h||h?d.scrollLeft(f,u.left+m):d.scrollLeft(f,u.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});e.each(["Left","Top"],function(c,a){var e="scroll"+c;d[e]=function(h,g){if("number"===typeof h)return arguments.callee(f,h);var h=d.get(h),j,l,m,n;h&&h.nodeType==b.ELEMENT_NODE?void 0!==g?h[e]=parseFloat(g):j=h[e]:(n=k(h),void 0!==g?(g=parseFloat(g),l="Left"==c?g:d.scrollLeft(n),m="Top"==
c?g:d.scrollTop(n),n.scrollTo(l,m)):(j=n["page"+(a?"Y":"X")+"Offset"],"number"!==typeof j&&(l=n.document,j=l.documentElement[e],"number"!==typeof j&&(j=l.body[e]))));return j}});e.each(["Width","Height"],function(b){d["doc"+b]=function(a){a=d.get(a);a=d.getDocument(a);return c(a.documentElement["scroll"+b],a.body["scroll"+b],d["viewport"+b](a))};d["viewport"+b]=function(c){var c=d.get(c),a=k(c),c=a["inner"+b];if(m.mobile&&c)return c;var c="client"+b,a=a.document,e=a.body,f=a.documentElement[c];return"CSS1Compat"===
a.compatMode&&f||e&&e[c]||f}});return d});
KISSY.add("dom/base/style",["./api"],function(e,p){function n(b,c){return c.toUpperCase()}function l(b){return b.replace(r,"ms-").replace(E,n)}function d(b,c,a){var e={},d=b.style,f;for(f in c)e[f]=d[f],d[f]=c[f];a.call(b);for(f in c)d[f]=e[f]}function f(b,a,e){var d,f,h;if(3===b.nodeType||8===b.nodeType||!(d=b.style))return c;a=l(a);h=C[a];a=B[a]||a;if(e!==c){null===e||e===z?e=z:!isNaN(Number(e))&&!q[a]&&(e+=F);h&&h.set&&(e=h.set(b,e));if(e!==c){try{d[a]=e}catch(g){"css set error:"+g}e===z&&d.removeAttribute&&
d.removeAttribute(a)}d.cssText||b.removeAttribute("style");return c}if(!h||!("get"in h&&(f=h.get(b,!1))!==c))f=d[a];return f===c?"":f}function m(b){var a,e=arguments;0!==b.offsetWidth?a=h.apply(c,e):d(b,L,function(){a=h.apply(c,e)});return a}function h(c,a,d){if(e.isWindow(c))return a==i?b.viewportWidth(c):b.viewportHeight(c);if(9==c.nodeType)return a==i?b.docWidth(c):b.docHeight(c);var f=a===i?["Left","Right"]:["Top","Bottom"],h=a===i?c.offsetWidth:c.offsetHeight;if(0<h)return"border"!==d&&e.each(f,
function(a){d||(h-=parseFloat(b.css(c,"padding"+a))||0);h="margin"===d?h+(parseFloat(b.css(c,d+a))||0):h-(parseFloat(b.css(c,"border"+a+"Width"))||0)}),h;h=b._getComputedStyle(c,a);if(null==h||0>Number(h))h=c.style[a]||0;h=parseFloat(h)||0;d&&e.each(f,function(a){h+=parseFloat(b.css(c,"padding"+a))||0;"padding"!==d&&(h+=parseFloat(b.css(c,"border"+a+"Width"))||0);"margin"===d&&(h+=parseFloat(b.css(c,d+a))||0)});return h}var b=p("./api"),j=e.Env.host,k=e.UA,c=c,a=e.Features,g=b.nodeName,o=j.document,
w=/^margin/,i="width",x="display"+e.now(),q={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},r=/^-ms-/,z="",F="px",H=/\d(?!px)[a-z%]+$/i,C={},B={"float":"cssFloat"},t={},E=/-([a-z])/ig,v=o&&o.documentElement.style||{},u;e.each(["","Webkit","Moz","O","ms"],function(b){b=b?b+"UserSelect":"userSelect";u===c&&b in v&&(u=b)});if(a.isTransformSupported()){var I;I=B.transform=a.getTransformProperty();B.transformOrigin=I+"Origin"}a.isTransitionSupported()&&(B.transition=
a.getTransitionProperty());e.mix(b,{_camelCase:l,_cssHooks:C,_cssProps:B,_getComputedStyle:function(c,a){var e="",d,f,h,g,i;f=c.ownerDocument;a=B[a]||a;if(d=f.defaultView.getComputedStyle(c,null))e=d.getPropertyValue(a)||d[a];e===""&&!b.contains(f,c)&&(e=c.style[a]);if(b._RE_NUM_NO_PX.test(e)&&w.test(a)){i=c.style;f=i.width;h=i.minWidth;g=i.maxWidth;i.minWidth=i.maxWidth=i.width=e;e=d.width;i.width=f;i.minWidth=h;i.maxWidth=g}return e},style:function(a,d,h){var a=b.query(a),g,i=a[0];if(e.isPlainObject(d)){for(g in d)for(i=
a.length-1;i>=0;i--)f(a[i],g,d[g]);return c}if(h===c){g="";i&&(g=f(i,d,h));return g}for(i=a.length-1;i>=0;i--)f(a[i],d,h);return c},css:function(a,d,h){var a=b.query(a),g=a[0],i;if(e.isPlainObject(d)){for(i in d)for(g=a.length-1;g>=0;g--)f(a[g],i,d[i]);return c}d=l(d);i=C[d];if(h===c){h="";if(g&&(!i||!("get"in i&&(h=i.get(g,true))!==c)))h=b._getComputedStyle(g,d);return typeof h=="undefined"?"":h}for(g=a.length-1;g>=0;g--)f(a[g],d,h);return c},show:function(c){var c=b.query(c),a,d,e;for(e=c.length-
1;e>=0;e--){d=c[e];d.style.display=b.data(d,x)||z;if(b.css(d,"display")==="none"){a=d.tagName.toLowerCase();var f=void 0,h=t[a],g=void 0;if(!t[a]){f=o.body||o.documentElement;g=o.createElement(a);b.prepend(g,f);h=b.css(g,"display");f.removeChild(g);t[a]=h}a=h;b.data(d,x,a);d.style.display=a}}},hide:function(a){var a=b.query(a),c,d;for(d=a.length-1;d>=0;d--){c=a[d];var e=c.style,f=e.display;if(f!=="none"){f&&b.data(c,x,f);e.display="none"}}},toggle:function(a){var a=b.query(a),c,d;for(d=a.length-1;d>=
0;d--){c=a[d];b.css(c,"display")==="none"?b.show(c):b.hide(c)}},addStyleSheet:function(a,c,d){if(typeof a=="string"){d=c;c=a;a=j}var a=b.getDocument(a),e;if(d&&(d=d.replace("#",z)))e=b.get("#"+d,a);if(!e){e=b.create("<style>",{id:d},a);b.get("head",a).appendChild(e);e.styleSheet?e.styleSheet.cssText=c:e.appendChild(a.createTextNode(c))}},unselectable:function(a){var a=b.query(a),d,f,h=0,i,j;for(f=a.length-1;f>=0;f--){d=a[f];j=d.style;if(u!==c)j[u]="none";else if(k.ie){j=d.getElementsByTagName("*");
d.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];d=j[h++];)e.inArray(g(d),i)||d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});e.each([i,"height"],function(a){b["inner"+e.ucfirst(a)]=function(c){return(c=b.get(c))&&m(c,a,"padding")};b["outer"+e.ucfirst(a)]=function(c,d){var e=b.get(c);return e&&m(e,a,d?"margin":"border")};b[a]=function(c,d){var e=b.css(c,a,d);e&&(e=parseFloat(e));return e};C[a]={get:function(c,
b){var d;b&&(d=m(c,a)+"px");return d}}});var L={position:"absolute",visibility:"hidden",display:"block"};e.each(["left","top"],function(a){C[a]={get:function(c,d){var e,f,h;if(d){h=b.css(c,"position");if(h==="static")return"auto";e=b._getComputedStyle(c,a);if((f=e==="auto")&&h==="relative")return"0px";if(f||H.test(e)){h={top:0,left:0};if(b.css(c,"position")=="fixed")f=c.getBoundingClientRect();else{for(e=c.offsetParent||(c.ownerDocument||o).body;e&&!M.test(e.nodeName)&&b.css(e,"position")==="static";)e=
e.offsetParent;f=b.offset(c);h=b.offset(e);h.top=h.top+(parseFloat(b.css(e,"borderTopWidth"))||0);h.left=h.left+(parseFloat(b.css(e,"borderLeftWidth"))||0)}f.top=f.top-(parseFloat(b.css(c,"marginTop"))||0);f.left=f.left-(parseFloat(b.css(c,"marginLeft"))||0);e={top:f.top-h.top,left:f.left-h.left}[a]+"px"}}return e}}});var M=/^(?:body|html)$/i;return b});
KISSY.add("dom/base/selector",["./api"],function(e,p){function n(a){var c=this.length,b;for(b=0;b<c&&!1!==a(this[b],b);b++);}function l(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function d(b){return function(d){var e=c._getElementById(b,a);return e&&c._contains(d,e)?[e]:[]}}function f(a){return function(c){return c.getElementsByClassName(a)}}function m(a){return function(c){return c.getElementsByTagName(a)}}function h(b,g){var j,k,o="string"==
typeof b,p=void 0!==g?h(g):(k=1)&&[a],s=p.length;if(b)if(o){b=E(b);if(k)if("body"==b)j=[a.body];else if(F.test(b)&&w)j=a.getElementsByClassName(RegExp.$1);else if(B.test(b))j=(k=c._getElementById(RegExp.$2,a))&&k.nodeName.toLowerCase()==RegExp.$1?[k]:[];else if(H.test(b))j=(k=c._getElementById(b.substr(1),a))?[k]:[];else if(C.test(b))j=a.getElementsByTagName(b);else if(!b.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&w){j=b.split(/\s+/);var y=p,r,t;k=0;for(o=j.length;k<
o;k++){r=j;t=k;var D;D=j[k];var G=D.charAt(0);D="#"==G?d(l(D)):"."==G?f(l(D)):m(D);r[t]=D}k=0;for(o=j.length;k<o;k++){D=j[k];var G=[],K;r=0;for(t=y.length;r<t;r++)K=D(y[r]),G.push.apply(G,e.makeArray(K));y=G;if(!y.length)break}j=y&&1<y.length?c.unique(y):y}if(!j){j=[];for(k=0;k<s;k++)z.apply(j,c._selectInternal(b,p[k]));1<j.length&&1<s&&c.unique(j)}}else{if(j=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():i(b)?b:q(b)?x(b):[b],!k){o=j;r=o.length;j=[];for(k=0;k<r;k++)for(y=0;y<s;y++)if(c._contains(p[y],
o[k])){j.push(o[k]);break}}}else j=[];j.each=n;return j}function b(a,b){var c=a&&(a.className||j(a,"class"));return c&&(c=c.replace(/[\r\t\n]/g,r))&&-1<(r+c+r).indexOf(r+b+r)}function j(a,c){var b=a&&a.getAttributeNode(c);if(b&&b.specified)return b.nodeValue}function k(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var c=p("./api"),a=e.Env.host.document,g=a.documentElement,o=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.oMatchesSelector||g.msMatchesSelector,w="getElementsByClassName"in
a,i=e.isArray,x=e.makeArray,q=c.isDomNodeList,r=" ",z=Array.prototype.push,F=/^\.([\w-]+)$/,H=/^#([\w-]+)$/,C=/^([\w-])+$/,B=/^([\w-]+)#([\w-]+)$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,E=e.trim;e.mix(c,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return e.makeArray(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:j,_isTag:k,_hasSingleClass:b,_matchesInternal:function(a,b){for(var c=[],d=0,e,f=b.length;d<f;d++)e=b[d],o.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return x(b.querySelectorAll(a))},query:h,get:function(a,b){return h(a,b)[0]||null},unique:function(){function a(d,e){return d==e?(b=!0,0):c._compareNodeOrder(d,e)}var b,d=!0;[0,0].sort(function(){d=!1;return 0});return function(c){b=d;c.sort(a);if(b)for(var e=1,f=c.length;e<f;)c[e]===c[e-1]?(c.splice(e,1),--f):e++;return c}}(),
filter:function(a,d,f){var a=h(a,f),g,i,l,m,f=[];if("string"==typeof d&&(d=E(d))&&(l=t.exec(d)))g=l[1],i=l[2],m=l[3],g?g&&!i&&!m&&(d=function(a){return j(a,"id")==g}):d=function(a){var c=!0,d=!0;i&&(c=k(a,i));m&&(d=b(a,m));return d&&c};return f="function"===typeof d?e.filter(a,d):c._matchesInternal(d,a)},test:function(a,b,d){a=h(a,d);return a.length&&c.filter(a,b,d).length===a.length}});return c});
KISSY.add("dom/base/traversal",["./api"],function(e,p){function n(d,b,j,k,c,a,g){if(!(d=f.get(d)))return null;if(0===b)return d;a||(d=d[j]);if(!d)return null;c=c&&f.get(c)||null;void 0===b&&(b=1);var a=[],n=e.isArray(b),p,i;"number"===typeof b&&(p=0,i=b,b=function(){return++p===i});for(;d&&d!=c;){if((d.nodeType==m.ELEMENT_NODE||d.nodeType==m.TEXT_NODE&&g)&&l(d,b)&&(!k||k(d)))if(a.push(d),!n)break;d=d[j]}return n?a:a[0]||null}function l(d,b){if(!b)return!0;if(e.isArray(b)){var j,k=b.length;if(!k)return!0;
for(j=0;j<k;j++)if(f.test(d,b[j]))return!0}else if(f.test(d,b))return!0;return!1}function d(d,b,j,k){var c=[],a,g;if((a=d=f.get(d))&&j)a=d.parentNode;if(a){j=e.makeArray(a.childNodes);for(a=0;a<j.length;a++)g=j[a],(k||g.nodeType==m.ELEMENT_NODE)&&g!=d&&c.push(g);b&&(c=f.filter(c,b))}return c}var f=p("./api"),m=f.NodeType;e.mix(f,{_contains:function(d,b){return!!(d.compareDocumentPosition(b)&16)},closest:function(d,b,e,f){return n(d,b,"parentNode",function(b){return b.nodeType!=m.DOCUMENT_FRAGMENT_NODE},
e,!0,f)},parent:function(d,b,e){return n(d,b,"parentNode",function(b){return b.nodeType!=m.DOCUMENT_FRAGMENT_NODE},e,void 0)},first:function(d,b,e){d=f.get(d);return n(d&&d.firstChild,b,"nextSibling",void 0,void 0,!0,e)},last:function(d,b,e){d=f.get(d);return n(d&&d.lastChild,b,"previousSibling",void 0,void 0,!0,e)},next:function(d,b,e){return n(d,b,"nextSibling",void 0,void 0,void 0,e)},prev:function(d,b,e){return n(d,b,"previousSibling",void 0,void 0,void 0,e)},siblings:function(e,b,f){return d(e,
b,!0,f)},children:function(e,b){return d(e,b,void 0)},contents:function(e,b){return d(e,b,void 0,1)},contains:function(d,b){d=f.get(d);b=f.get(b);return d&&b?f._contains(d,b):!1},index:function(d,b){var j=f.query(d),k,c=0;k=j[0];if(!b){j=k&&k.parentNode;if(!j)return-1;for(;k=k.previousSibling;)k.nodeType==m.ELEMENT_NODE&&c++;return c}c=f.query(b);return"string"===typeof b?e.indexOf(k,c):e.indexOf(c[0],j)},equals:function(d,b){d=f.query(d);b=f.query(b);if(d.length!=b.length)return!1;for(var e=d.length;0<=
e;e--)if(d[e]!=b[e])return!1;return!0}});return f});KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(e,p){var n=p("./base/api");p("./base/attr");p("./base/class");p("./base/create");p("./base/data");p("./base/insertion");p("./base/offset");p("./base/style");p("./base/selector");p("./base/traversal");e.mix(e,{DOM:n,get:n.get,query:n.query});return n});
