/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 24 11:17
*/
KISSY.add("dom/base/api",[],function(i){var m=i.Env.host||{},n=m.document,r=i.UA,b={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},d={isCustomDomain:function(b){var b=b||m,b=d.get(b),h=b.document.domain,b=b.location.hostname;return h!==b&&h!=="["+b+"]"},getEmptyIframeSrc:function(b){b=b||m;b=d.get(b);return r.ie&&d.isCustomDomain(b)?
"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+b.document.domain+'";document.close();')+"}())":""},NodeType:b,getWindow:function(k){if(!k)return m;k=d.get(k);if(i.isWindow(k))return k;var h=k;h.nodeType!==b.DOCUMENT_NODE&&(h=k.ownerDocument);return h.defaultView||h.parentWindow},getDocument:function(k){if(!k)return n;k=d.get(k);return i.isWindow(k)?k.document:k.nodeType===b.DOCUMENT_NODE?k:k.ownerDocument},isDomNodeList:function(b){return b&&!b.nodeType&&b.item&&
!b.setTimeout},nodeName:function(b){var h=d.get(b),b=h.nodeName.toLowerCase();r.ie&&(h=h.scopeName)&&"HTML"!==h&&(b=h.toLowerCase()+":"+b);return b},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};i.mix(d,b);return d});
KISSY.add("dom/base/attr",["./api"],function(i,m){function n(b){return null==b?"":b+""}function r(b,c){var c=l[c]||c,a=o[c];return a&&a.get?a.get(b,c):b[c]}var b=m("./api"),d=i.Env.host.document,k=b.NodeType,d=d&&d.documentElement,h=b.nodeName,g=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,a=/^(?:button|input|object|select|textarea)$/i,j=/^a(?:rea)?$/i,e=/:|^on/,c=/\r/g,f={},z={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},w={tabindex:{get:function(c){var b=c.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):a.test(c.nodeName)||j.test(c.nodeName)&&c.href?0:void 0}}},l={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},t=
{get:function(c,a){return b.prop(c,a)?a.toLowerCase():void 0},set:function(c,a,f){!1===a?b.removeAttr(c,f):(a=l[f]||f,a in c&&(c[a]=!0),c.setAttribute(f,f.toLowerCase()));return f}},o={},q={},y={select:{get:function(c){var a=c.selectedIndex,f=c.options,e;if(0>a)return null;if("select-one"===""+c.type)return b.val(f[a]);c=[];a=0;for(e=f.length;a<e;++a)f[a].selected&&c.push(b.val(f[a]));return c},set:function(c,a){var f=i.makeArray(a);i.each(c.options,function(c){c.selected=i.inArray(b.val(c),f)});
f.length||(c.selectedIndex=-1);return f}}};i.each(["radio","checkbox"],function(c){y[c]={get:function(c){return null===c.getAttribute("value")?"on":c.value},set:function(c,a){if(i.isArray(a))return c.checked=i.inArray(b.val(c),a),1}}});w.style={get:function(c){return c.style.cssText}};i.mix(b,{_valHooks:y,_propFix:l,_attrHooks:w,_propHooks:o,_attrNodeHook:q,_attrFix:f,prop:function(c,a,f){var e=b.query(c),h,g;if(i.isPlainObject(a))i.each(a,function(c,a){b.prop(e,a,c)});else if(a=l[a]||a,g=o[a],void 0!==
f)for(c=e.length-1;0<=c;c--)h=e[c],g&&g.set?g.set(h,f,a):h[a]=f;else if(e.length)return r(e[0],a)},hasProp:function(c,a){var f=b.query(c),e,g=f.length,h;for(e=0;e<g;e++)if(h=f[e],void 0!==r(h,a))return!0;return!1},removeProp:function(c,a){var a=l[a]||a,f=b.query(c),e,h;for(e=f.length-1;0<=e;e--){h=f[e];try{h[a]=void 0,delete h[a]}catch(g){}}},attr:function(c,a,l,d){var j=b.query(c),o=j[0];if(i.isPlainObject(a)){var d=l,p;for(p in a)b.attr(j,p,a[p],d)}else{if(d&&z[a])return b[a](c,l);a=a.toLowerCase();
if(d&&z[a])return b[a](c,l);a=f[a]||a;c=g.test(a)?t:e.test(a)?q:w[a];if(void 0===l){if(o&&o.nodeType===k.ELEMENT_NODE){"form"===h(o)&&(c=q);if(c&&c.get)return c.get(o,a);l=o.getAttribute(a);return""===l&&(a=o.getAttributeNode(a),!a||!a.specified)?void 0:null===l?void 0:l}}else for(d=j.length-1;0<=d;d--)if((o=j[d])&&o.nodeType===k.ELEMENT_NODE)"form"===h(o)&&(c=q),c&&c.set?c.set(o,l,a):o.setAttribute(a,""+l)}},removeAttr:function(c,a){var a=a.toLowerCase(),a=f[a]||a,e=b.query(c),h,d,t;for(t=e.length-
1;0<=t;t--)if(d=e[t],d.nodeType===k.ELEMENT_NODE&&(d.removeAttribute(a),g.test(a)&&(h=l[a]||a)in d))d[h]=!1},hasAttr:d&&!d.hasAttribute?function(c,a){var a=a.toLowerCase(),f=b.query(c),e,h;for(e=0;e<f.length;e++)if(h=f[e],(h=h.getAttributeNode(a))&&h.specified)return!0;return!1}:function(c,a){var f=b.query(c),e,h=f.length;for(e=0;e<h;e++)if(f[e].hasAttribute(a))return!0;return!1},val:function(a,f){var e,l,d,g,p;if(void 0===f){if(d=b.get(a)){if((e=y[h(d)]||y[d.type])&&"get"in e&&void 0!==(l=e.get(d,
"value")))return l;l=d.value;return"string"===typeof l?l.replace(c,""):null==l?"":l}}else{l=b.query(a);for(g=l.length-1;0<=g;g--){d=l[g];if(1!==d.nodeType)break;p=f;null==p?p="":"number"===typeof p?p+="":i.isArray(p)&&(p=i.map(p,n));e=y[h(d)]||y[d.type];if(!(e&&"set"in e)||void 0===e.set(d,p,"value"))d.value=p}}},text:function(c,a){var f,e,l,d;if(void 0===a)return f=b.get(c),b._getText(f);e=b.query(c);for(l=e.length-1;0<=l;l--)if(f=e[l],d=f.nodeType,d===k.ELEMENT_NODE)b.cleanData(f.getElementsByTagName("*")),
"textContent"in f?f.textContent=a:f.innerText=a;else if(d===k.TEXT_NODE||d===k.CDATA_SECTION_NODE)f.nodeValue=a},_getText:function(c){return c.textContent}});return b});
KISSY.add("dom/base/class",["./api"],function(i,m){function n(a){for(var a=i.trim(a||""),a=a.split(g),b=[],e,c=a.length,f=0;f<c;f++)(e=a[f])&&b.push(e);return b}function r(a){return function(b,e){var c,f,d,h=b.classList,l=k.call(arguments,2);c=0;for(f=e.length;c<f;c++)(d=e[c])&&h[a].apply(h,[d].concat(l))}}function b(a){return function(b,e){var c=n(e),f=k.call(arguments,2);d.query(b).each(function(b){b.nodeType===h.ELEMENT_NODE&&d[a].apply(d,[b,c].concat(f))})}}var d=m("./api"),k=[].slice,h=d.NodeType,
g=/[\.\s]\s*\.?/;i.mix(d,{_hasClass:function(a,b){var e,c,f,d=a.classList;if(d.length){e=0;for(c=b.length;e<c;e++)if((f=b[e])&&!d.contains(f))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(a,b){var e=!1,b=n(b);d.query(a).each(function(c){if(c.nodeType===h.ELEMENT_NODE&&d._hasClass(c,b))return e=!0,!1});return e},replaceClass:function(a,b,e){d.removeClass(a,b);d.addClass(a,e)},addClass:b("_addClass"),removeClass:b("_removeClass"),
toggleClass:b("_toggleClass")});return d});
KISSY.add("dom/base/create",["./api"],function(i,m){function n(p){p=p&&p!==a?p.createElement(c):f;p===f&&(p.innerHTML="");return p}function r(c,a){var b=n(a);b.innerHTML="m<div>"+c+"</div>";return b.lastChild}function b(c,a){if(a)if(o&&a.canHaveChildren&&"removeNode"in c){if(c.firstChild)a:{try{c.innerHTML="";break a}catch(f){}for(var e;e=c.lastChild;)b(e,c)}c.removeNode(!1)}else a.removeChild(c)}function d(c,a,b){var f=a.nodeType;if(f===j.DOCUMENT_FRAGMENT_NODE){a=a.childNodes;b=b.childNodes;for(f=
0;a[f];)b[f]&&d(c,a[f],b[f]),f++}else if(f===j.ELEMENT_NODE){a=a.getElementsByTagName("*");b=b.getElementsByTagName("*");for(f=0;a[f];)b[f]&&c(a[f],b[f]),f++}}function k(a,c){var b=i.require("event/dom"),f,e;if(c.nodeType!==j.ELEMENT_NODE||g.hasData(a)){f=g.data(a);for(e in f)g.data(c,e,f[e]);b&&b.clone(a,c)}}function h(a){var c=null,b,f;if(a&&(a.push||a.item)&&a[0]){c=a[0].ownerDocument;c=c.createDocumentFragment();a=i.makeArray(a);b=0;for(f=a.length;b<f;b++)c.appendChild(a[b])}return c}var g=m("./api"),
a=i.Env.host.document,j=g.NodeType,e=i.UA.ieMode,c="div",f=a&&a.createElement(c),z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,w=/<([\w:]+)/,l=/^\s+/,t=/\s+$/,o=!!(e&&9>e),q=o,y=/<|&#?\w+;/,E=a&&"outerHTML"in a.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;i.mix(g,{create:function(b,f,e,d){var o=null;if(!b)return o;if(b.nodeType)return g.clone(b);if("string"!==typeof b)return o;void 0===d&&(d=!0);d&&(b=i.trim(b));var d=g._creators,k,v,e=e||a,x,J=c;if(y.test(b))if(x=
B.exec(b))o=e.createElement(x[1]);else{b=b.replace(z,"<$1></$2>");if((x=w.exec(b))&&(k=x[1]))J=k.toLowerCase();k=(d[J]||r)(b,e);q&&(v=b.match(l))&&k.insertBefore(e.createTextNode(v[0]),k.firstChild);q&&/\S/.test(b)&&(v=b.match(t))&&k.appendChild(e.createTextNode(v[0]));b=k.childNodes;1===b.length?o=b[0].parentNode.removeChild(b[0]):b.length&&(o=h(b))}else o=e.createTextNode(b);i.isPlainObject(f)&&(o.nodeType===j.ELEMENT_NODE?g.attr(o,f,!0):o.nodeType===j.DOCUMENT_FRAGMENT_NODE&&g.attr(o.childNodes,
f,!0));return o},_fixCloneAttributes:function(a,c){var b=a.nodeName.toLowerCase(),f=(a.type||"").toLowerCase();if("textarea"===b)c.defaultValue=a.defaultValue,c.value=a.value;else if("input"===b&&("checkbox"===f||"radio"===f)){if(b=a.checked)c.defaultChecked=c.checked=b;b=a.value;c.value!==b&&(c.value=b)}},_creators:{div:r},_defaultCreator:r,html:function(a,c,b){var a=g.query(a),f=a[0],e=!1,d,v;if(!f)return null;if(void 0===c)return f.nodeType===j.ELEMENT_NODE?f.innerHTML:f.nodeType===j.DOCUMENT_FRAGMENT_NODE?
(b=n(f.ownerDocument),b.appendChild(f),b.innerHTML):null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!q||!c.match(l))&&!s[(c.match(w)||["",""])[1].toLowerCase()])try{for(d=a.length-1;0<=d;d--)v=a[d],v.nodeType===j.ELEMENT_NODE&&(g.cleanData(v.getElementsByTagName("*")),v.innerHTML=c);e=!0}catch(x){}e||(c=g.create(c,0,f.ownerDocument,0),g.empty(a),g.append(c,a,b))},outerHtml:function(a,c,b){var a=g.query(a),f=a.length,e=a[0];if(!e)return null;if(void 0===c){if(E&&e.nodeType!==g.DOCUMENT_FRAGMENT_NODE)return e.outerHTML;
c=n(e.ownerDocument);c.appendChild(g.clone(e,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&E)for(b=f-1;0<=b;b--)e=a[b],e.nodeType===j.ELEMENT_NODE&&(g.cleanData(e,1),e.outerHTML=c);else c=g.create(c,0,e.ownerDocument,0),g.insertBefore(c,a,b),g.remove(a)},remove:function(c,a){var f,e=g.query(c),d,l=i.require("event/dom"),v;for(v=e.length-1;0<=v;v--)f=e[v],!a&&f.nodeType===j.ELEMENT_NODE&&(d=i.makeArray(f.getElementsByTagName("*")),d.push(f),g.removeData(d),l&&l.detach(d)),b(f,
f.parentNode)},clone:function(c,a,b,f){"object"===typeof a&&(f=a.deepWithDataAndEvent,b=a.withDataAndEvent,a=a.deep);var c=g.get(c),e,l=g._fixCloneAttributes,v;if(!c)return null;v=c.nodeType;e=c.cloneNode(a);if(v===j.ELEMENT_NODE||v===j.DOCUMENT_FRAGMENT_NODE)l&&v===j.ELEMENT_NODE&&l(c,e),a&&l&&d(l,c,e);b&&(k(c,e),a&&f&&d(k,c,e));return e},empty:function(c){var c=g.query(c),a,b;for(b=c.length-1;0<=b;b--)a=c[b],g.remove(a.childNodes)},_nodeListToFragment:h});g.outerHTML=g.outerHtml;var D=g._creators,
F=g.create,s={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},A;for(A in s)(function(c){D[A]=function(a,b){return F("<"+c+">"+a+"</"+c+">",void 0,b)}})(s[A]);D.option=D.optgroup=function(c,a){return F('<select multiple="multiple">'+c+"</select>",void 0,a)};return g});
KISSY.add("dom/base/data",["./api"],function(i,m){var n=m("./api"),r=i.Env.host,b="_ks_data_"+i.now(),d={},k={},h={applet:1,object:1,embed:1},g={hasData:function(a,c){if(a)if(void 0!==c){if(c in a)return!0}else if(!i.isEmptyObject(a))return!0;return!1}},a={hasData:function(e,c){return e==r?a.hasData(k,c):g.hasData(e[b],c)},data:function(e,c,f){if(e==r)return a.data(k,c,f);var d=e[b];if(void 0!==f)d=e[b]=e[b]||{},d[c]=f;else return void 0!==c?d&&d[c]:d=e[b]=e[b]||{}},removeData:function(e,c){if(e==
r)return a.removeData(k,c);var f=e[b];if(void 0!==c)delete f[c],i.isEmptyObject(f)&&a.removeData(e);else try{delete e[b]}catch(d){e[b]=void 0}}},j={hasData:function(a,c){var f=a[b];return!f?!1:g.hasData(d[f],c)},data:function(a,c,f){if(!h[a.nodeName.toLowerCase()]){var g=a[b];if(!g){if(void 0!==c&&void 0===f)return;g=a[b]=i.guid()}a=d[g];if(void 0!==f)a=d[g]=d[g]||{},a[c]=f;else return void 0!==c?a&&a[c]:a=d[g]=d[g]||{}}},removeData:function(a,c){var f=a[b],h;if(f)if(h=d[f],void 0!==c)delete h[c],
i.isEmptyObject(h)&&j.removeData(a);else{delete d[f];try{delete a[b]}catch(g){a[b]=void 0}a.removeAttribute&&a.removeAttribute(b)}}};i.mix(n,{__EXPANDO:b,hasData:function(b,c){for(var f=!1,d=n.query(b),h=0;h<d.length&&!(f=d[h],f=f.nodeType?j.hasData(f,c):a.hasData(f,c));h++);return f},data:function(b,c,f){var b=n.query(b),d=b[0];if(i.isPlainObject(c))for(var h in c)n.data(b,h,c[h]);else if(void 0===f){if(d)return d.nodeType?j.data(d,c):a.data(d,c)}else for(h=b.length-1;0<=h;h--)d=b[h],d.nodeType?
j.data(d,c,f):a.data(d,c,f)},removeData:function(b,c){var f=n.query(b),d,h;for(h=f.length-1;0<=h;h--)d=f[h],d.nodeType?j.removeData(d,c):a.removeData(d,c)},cleanData:function(b,c){var f=n.query(b),d,h,l=i.require("event/dom");for(h=f.length-1;0<=h;h--)if(d=f[h],d.nodeType){var g=c&&i.makeArray(d.getElementsByTagName("*"))||[];g.push(d);d=0;for(var o=g.length;d<o;d++)j.removeData(g[d]);l&&l.detach(g)}else a.removeData(d)}});return n});
KISSY.add("dom/base/insertion",["./api"],function(i,m){function n(c,b){var d=[],i,l,t;for(i=0;c[i];i++)if(l=c[i],t=g(l),l.nodeType===k.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,n(a(l.childNodes),b));else if("script"===t&&(!l.type||e.test(l.type)))l.parentNode&&l.parentNode.removeChild(l),b&&b.push(l);else{if(l.nodeType===k.ELEMENT_NODE&&!h.test(t)){t=[];var o,q,y=l.getElementsByTagName("script");for(q=0;q<y.length;q++)o=y[q],(!o.type||e.test(o.type))&&t.push(o);j.apply(c,[i+1,0].concat(t))}d.push(l)}return d}
function r(a){a.src?i.getScript(a.src):(a=i.trim(a.text||a.textContent||a.innerHTML||""))&&i.globalEval(a)}function b(a,b,e,h){a=d.query(a);h&&(h=[]);a=n(a,h);d._fixInsertionChecked&&d._fixInsertionChecked(a);var b=d.query(b),l,g,o,q,k=b.length;if((a.length||h&&h.length)&&k){a=d._nodeListToFragment(a);1<k&&(q=d.clone(a,!0),b=i.makeArray(b));for(l=0;l<k;l++)g=b[l],a&&(o=0<l?d.clone(q,!0):a,e(o,g)),h&&h.length&&i.each(h,r)}}var d=m("./api"),k=d.NodeType,h=/^(?:button|input|object|select|textarea)$/i,
g=d.nodeName,a=i.makeArray,j=[].splice,e=/\/(java|ecma)script/i;i.mix(d,{_fixInsertionChecked:null,insertBefore:function(a,f,d){b(a,f,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},d)},insertAfter:function(a,f,d){b(a,f,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},d)},appendTo:function(a,f,d){b(a,f,function(a,c){c.appendChild(a)},d)},prependTo:function(a,f,d){b(a,f,function(a,c){c.insertBefore(a,c.firstChild)},d)},wrapAll:function(a,b){b=d.clone(d.get(b),!0);
a=d.query(a);a[0].parentNode&&d.insertBefore(b,a[0]);for(var e;(e=b.firstChild)&&1===e.nodeType;)b=e;d.appendTo(a,b)},wrap:function(a,b){a=d.query(a);b=d.get(b);i.each(a,function(a){d.wrapAll(a,b)})},wrapInner:function(a,b){a=d.query(a);b=d.get(b);i.each(a,function(a){var c=a.childNodes;c.length?d.wrapAll(c,b):a.appendChild(b)})},unwrap:function(a){a=d.query(a);i.each(a,function(a){a=a.parentNode;d.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var e=d.query(a),b=d.query(b);d.remove(b,!0);
d.insertBefore(b,e);d.remove(e)}});i.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){d[b]=d[a]});return d});
KISSY.add("dom/base/offset",["./api"],function(i,m){function n(b){var d,e=b.ownerDocument.body;if(!b.getBoundingClientRect)return{left:0,top:0};d=b.getBoundingClientRect();b=d[c];d=d[f];b-=a.clientLeft||e.clientLeft||0;d-=a.clientTop||e.clientTop||0;return{left:b,top:d}}function r(a,c){var d={left:0,top:0},f=j(a),e,h=a,c=c||f;do{if(f==c){var g=h;e=n(g);g=j(g);e.left+=b[z](g);e.top+=b[w](g)}else e=n(h);d.left+=e.left;d.top+=e.top}while(f&&f!=c&&(h=f.frameElement)&&(f=f.parent));return d}var b=m("./api"),
d=i.Env.host,k=i.UA,h=d.document,g=b.NodeType,a=h&&h.documentElement,j=b.getWindow,e=Math.max,c="left",f="top",z="scrollLeft",w="scrollTop";i.mix(b,{offset:function(a,c,d){if(void 0===c){var a=b.get(a),f;a&&(f=r(a,d));return f}d=b.query(a);for(f=d.length-1;0<=f;f--){var a=d[f],e=c;"static"===b.css(a,"position")&&(a.style.position="relative");var h=r(a),g={},i=void 0,k=void 0;for(k in e)i=parseFloat(b.css(a,k))||0,g[k]=i+e[k]-h[k];b.css(a,g)}},scrollIntoView:function(a,d,e,h){var k,n,m,r;if(m=b.get(a)){d&&
(d=b.get(d));d||(d=m.ownerDocument);d.nodeType===g.DOCUMENT_NODE&&(d=j(d));i.isPlainObject(e)&&(h=e.allowHorizontalScroll,r=e.onlyScrollIfNeeded,e=e.alignWithTop);h=void 0===h?!0:h;n=i.isWindow(d);var a=b.offset(m),w=b.outerHeight(m);k=b.outerWidth(m);var s,A,p,u;n?(n=d,s=b.height(n),A=b.width(n),u={left:b.scrollLeft(n),top:b.scrollTop(n)},n=a[c]-u[c],m=a[f]-u[f],k=a[c]+k-(u[c]+A),a=a[f]+w-(u[f]+s)):(s=b.offset(d),A=d.clientHeight,p=d.clientWidth,u={left:b.scrollLeft(d),top:b.scrollTop(d)},n=a[c]-
(s[c]+(parseFloat(b.css(d,"borderLeftWidth"))||0)),m=a[f]-(s[f]+(parseFloat(b.css(d,"borderTopWidth"))||0)),k=a[c]+k-(s[c]+p+(parseFloat(b.css(d,"borderRightWidth"))||0)),a=a[f]+w-(s[f]+A+(parseFloat(b.css(d,"borderBottomWidth"))||0)));if(r){if(0>m||0<a)!0===e?b.scrollTop(d,u.top+m):!1===e?b.scrollTop(d,u.top+a):0>m?b.scrollTop(d,u.top+m):b.scrollTop(d,u.top+a)}else(e=void 0===e?!0:!!e)?b.scrollTop(d,u.top+m):b.scrollTop(d,u.top+a);if(h)if(r){if(0>n||0<k)!0===e?b.scrollLeft(d,u.left+n):!1===e?b.scrollLeft(d,
u.left+k):0>n?b.scrollLeft(d,u.left+n):b.scrollLeft(d,u.left+k)}else void 0===e||e?b.scrollLeft(d,u.left+n):b.scrollLeft(d,u.left+k)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});i.each(["Left","Top"],function(a,c){var e="scroll"+a;b[e]=function(f,h){if("number"===typeof f)return arguments.callee(d,f);var f=b.get(f),i,k,n,m;f&&f.nodeType===g.ELEMENT_NODE?void 0!==h?f[e]=parseFloat(h):i=f[e]:(m=j(f),void 0!==h?(h=parseFloat(h),k="Left"===a?h:b.scrollLeft(m),n=
"Top"===a?h:b.scrollTop(m),m.scrollTo(k,n)):(i=m["page"+(c?"Y":"X")+"Offset"],"number"!==typeof i&&(k=m.document,i=k.documentElement[e],"number"!==typeof i&&(i=k.body[e]))));return i}});i.each(["Width","Height"],function(a){b["doc"+a]=function(c){c=b.get(c);c=b.getDocument(c);return e(c.documentElement["scroll"+a],c.body["scroll"+a],b["viewport"+a](c))};b["viewport"+a]=function(c){var c=b.get(c),d=j(c),c=d["inner"+a];if(k.mobile&&c)return c;var c="client"+a,d=d.document,f=d.body,e=d.documentElement[c];
return"CSS1Compat"===d.compatMode&&e||f&&f[c]||e}});return b});
KISSY.add("dom/base/style",["./api"],function(i,m){function n(a){if(A[a])return A[a];var b=e(a);return b&&b.propertyName||a}function r(a,b,c){var d={},f=a.style,e;for(e in b)d[e]=f[e],f[e]=b[e];c.call(a);for(e in b)f[e]=d[e]}function b(a,b,c){var d,e,f;if(!(3===a.nodeType||8===a.nodeType||!(d=a.style)))if(b=I(b),f=s[b],b=n(b),void 0!==c){null===c||c===B?c=B:!isNaN(Number(c))&&!E[b]&&(c+=D);f&&f.set&&(c=f.set(a,c));if(void 0!==c){try{d[b]=c}catch(h){}c===B&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style")}else{if(!f||!("get"in f&&void 0!==(e=f.get(a,!1))))e=d[b];return void 0===e?"":e}}function d(a){var b,c=arguments;0!==a.offsetWidth?b=g.apply(void 0,c):r(a,L,function(){b=g.apply(void 0,c)});return b}function k(b,c,d,e){var f=0,h,g,i;for(g=0;g<c.length;g++)if(h=c[g])for(i=0;i<d.length;i++)f+=parseFloat(a._getComputedStyle(b,"border"===h?h+d[i]+"Width":h+d[i],e))||0;return f}function h(a){var b=a.ownerDocument,c;b.defaultView&&(c=b.defaultView.getComputedStyle(a,null));return c}
function g(b,d,e){if(i.isWindow(b))return d===q?a.viewportWidth(b):a.viewportHeight(b);if(9===b.nodeType)return d===q?a.docWidth(b):a.docHeight(b);var g=d===q?["Left","Right"]:["Top","Bottom"],p=d===q?b.offsetWidth:b.offsetHeight,l=h(b),u="border-box"===a._getComputedStyle(b,"boxSizing",l),j=0;if(null==p||0>=p){p=void 0;j=a._getComputedStyle(b,d,l);if(null==j||0>Number(j))j=b.style[d]||0;j=parseFloat(j)||0}void 0===e&&(e=u?w:f);d=void 0!==p||u;p=p||j;return e===f?d?p-k(b,["border","padding"],g,l):
j:d?p+(e===w?0:e===z?-k(b,["border"],g,l):k(b,["margin"],g,l)):j+k(b,c.slice(e),g,l)}var a=m("./api"),j=i.Env.host,e=i.Feature.getCssVendorInfo,c=["margin","border","padding"],f=-1,z=2,w=1,l=a.nodeName,t=j.document||{},o=/^margin/,q="width",y="display"+i.now(),E={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},B="",D="px",F=/\d(?!px)[a-z%]+$/i,s={},A={},p={},u=e("userSelect"),H=u&&u.propertyName,I=i.camelCase;A["float"]="cssFloat";i.mix(a,{_cssHooks:s,_cssProps:A,
_getComputedStyle:function(b,c,d){var e="",f,h;f=b.ownerDocument;c=n(c);if(d=d||f.defaultView.getComputedStyle(b,null))e=d.getPropertyValue(c)||d[c];""===e&&!a.contains(f,b)&&(e=b.style[c]);a._RE_NUM_NO_PX.test(e)&&o.test(c)&&(h=b.style,b=h.width,c=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=e,e=d.width,h.width=b,h.minWidth=c,h.maxWidth=f);return e},style:function(c,d,e){var c=a.query(c),f,h=c[0];if(i.isPlainObject(d))for(f in d)for(h=c.length-1;0<=h;h--)b(c[h],f,d[f]);else{if(void 0===
e)return f="",h&&(f=b(h,d,e)),f;for(h=c.length-1;0<=h;h--)b(c[h],d,e)}},css:function(c,d,e){var c=a.query(c),f=c[0],h;if(i.isPlainObject(d))for(h in d)for(f=c.length-1;0<=f;f--)b(c[f],h,d[h]);else{d=I(d);h=s[d];if(void 0===e){e="";if(f&&(!h||!("get"in h&&void 0!==(e=h.get(f,!0)))))e=a._getComputedStyle(f,d);return"undefined"===typeof e?"":e}for(f=c.length-1;0<=f;f--)b(c[f],d,e)}},show:function(b){var b=a.query(b),c,d,e;for(e=b.length-1;0<=e;e--)if(d=b[e],d.style.display=a.data(d,y)||B,"none"===a.css(d,
"display")){c=d.tagName.toLowerCase();var f=void 0,h=p[c],g=void 0;p[c]||(f=t.body||t.documentElement,g=t.createElement(c),a.prepend(g,f),h=a.css(g,"display"),f.removeChild(g),p[c]=h);c=h;a.data(d,y,c);d.style.display=c}},hide:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--){c=b[d];var e=c.style,f=e.display;"none"!==f&&(f&&a.data(c,y,f),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,
c,d){"string"===typeof b&&(d=c,c=b,b=j);var b=a.getDocument(b),e;if(d&&(d=d.replace("#",B)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c)))},unselectable:H?function(b){var b=a.query(b),c,d,e=0,f,h;for(d=b.length-1;0<=d;d--){c=b[d];h=c.getElementsByTagName("*");c.setAttribute("unselectable","on");for(f=["iframe","textarea","input","select"];c=h[e++];)i.inArray(l(c),f)||c.setAttribute("unselectable",
"on")}}:function(b){for(var b=a.query(b),c=b.length-1;0<=c;c--)b[c].style[H]="none"},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});i.each([q,"height"],function(b){a["inner"+i.ucfirst(b)]=function(c){return(c=a.get(c))&&d(c,b,z)};a["outer"+i.ucfirst(b)]=function(c,e){var f=a.get(c);return f&&d(f,b,e?0:w)};var c=b===q?["Left","Right"]:["Top","Bottom"];a[b]=function(e,g){var i=a.get(e);if(void 0!==g){if(i){var p=h(i);"border-box"===a._getComputedStyle(i,"boxSizing",p)&&(g+=
k(i,["padding","border"],c,p));return a.css(i,b,g)}}else return i&&d(i,b,f)};s[b]={get:function(a,c){var e;c&&(e=d(a,b)+"px");return e}}});var L={position:"absolute",visibility:"hidden",display:"block"};i.each(["left","top"],function(b){s[b]={get:function(c,d){var e,f,h;if(d){h=a.css(c,"position");if("static"===h)return"auto";e=a._getComputedStyle(c,b);if((f="auto"===e)&&"relative"===h)return"0px";if(f||F.test(e)){h={top:0,left:0};if("fixed"===a.css(c,"position"))f=c.getBoundingClientRect();else{for(e=
c.offsetParent||(c.ownerDocument||t).body;e&&!M.test(e.nodeName)&&"static"===a.css(e,"position");)e=e.offsetParent;f=a.offset(c);h=a.offset(e);h.top+=parseFloat(a.css(e,"borderTopWidth"))||0;h.left+=parseFloat(a.css(e,"borderLeftWidth"))||0}f.top-=parseFloat(a.css(c,"marginTop"))||0;f.left-=parseFloat(a.css(c,"marginLeft"))||0;e={top:f.top-h.top,left:f.left-h.left}[b]+"px"}}return e}}});var M=/^(?:body|html)$/i;return a});
KISSY.add("dom/base/selector",["./api"],function(i,m){function n(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function r(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function b(a){return function(b){var d=e._getElementById(a,c);return d&&e._contains(b,d)?[d]:[]}}function d(a){return function(b){return b.getElementsByClassName(a)}}function k(a){return function(b){return b.getElementsByTagName(a)}}function h(a,f){var g,j,m="string"===
typeof a,q=void 0!==f?h(f):(j=1)&&[c],v=q.length;if(a)if(m){a=A(a);if(j)if("body"===a)g=[c.body];else if(E.test(a)&&w)g=t(c.getElementsByClassName(RegExp.$1));else if(F.test(a))g=(j=e._getElementById(RegExp.$2,c))&&j.nodeName.toLowerCase()===RegExp.$1?[j]:[];else if(B.test(a))g=(j=e._getElementById(a.substr(1),c))?[j]:[];else if(D.test(a))g=t(c.getElementsByTagName(a));else if(!a.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&w){g=a.split(/\s+/);var x=q,s,z;j=0;for(m=
g.length;j<m;j++){s=g;z=j;var C;C=g[j];var G=C.charAt(0);C="#"===G?b(r(C)):"."===G?d(r(C)):k(C);s[z]=C}j=0;for(m=g.length;j<m;j++){C=g[j];var G=[],K;s=0;for(z=x.length;s<z;s++)K=C(x[s]),G.push.apply(G,t(K));x=G;if(!x.length)break}g=x&&1<x.length?e.unique(x):x}if(!g){g=[];for(j=0;j<v;j++)y.apply(g,e._selectInternal(a,q[j]));1<g.length&&1<v&&e.unique(g)}}else{if(g=a.nodeType||i.isWindow(a)?[a]:a.getDOMNodes?a.getDOMNodes():l(a)?a:o(a)?t(a):[a],!j){m=g;s=m.length;g=[];for(j=0;j<s;j++)for(x=0;x<v;x++)if(e._contains(q[x],
m[j])){g.push(m[j]);break}}}else g=[];g.each=n;return g}function g(b,c){var d=b&&a(b,"class");return d&&(d=d.replace(/[\r\t\n]/g,q))&&-1<(q+d+q).indexOf(q+c+q)}function a(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function j(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var e=m("./api"),c=i.Env.host.document,f=c.documentElement,z=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector,w="getElementsByClassName"in
c,l=i.isArray,t=i.makeArray,o=e.isDomNodeList,q=" ",y=Array.prototype.push,E=/^\.([\w-]+)$/,B=/^#([\w-]+)$/,D=/^([\w-])+$/,F=/^([\w-]+)#([\w-]+)$/,s=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,A=i.trim;i.mix(e,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return t(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:a,_isTag:j,_hasSingleClass:g,_matchesInternal:function(a,b){for(var c=[],d=0,e,f=b.length;d<f;d++)e=b[d],z.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return t(b.querySelectorAll(a))},query:h,get:function(a,b){return h(a,b)[0]||null},unique:function(){function a(c,d){return c===d?(b=!0,0):e._compareNodeOrder(c,d)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){b=c;d.sort(a);if(b)for(var e=1,f=d.length;e<f;)d[e]===d[e-1]?(d.splice(e,1),--f):e++;return d}}(),
filter:function(b,c,d){var b=h(b,d),f,k,l,m,d=[];if("string"===typeof c&&(c=A(c))&&(l=s.exec(c)))f=l[1],k=l[2],m=l[3],f?f&&!k&&!m&&(c=function(b){return a(b,"id")===f}):c=function(a){var b=!0,c=!0;k&&(b=j(a,k));m&&(c=g(a,m));return c&&b};return d="function"===typeof c?i.filter(b,c):e._matchesInternal(c,b)},test:function(a,b,c){a=h(a,c);return a.length&&e.filter(a,b,c).length===a.length}});return e});
KISSY.add("dom/base/traversal",["./api"],function(i,m){function n(b,g,a,j,e,c,f){if(!(b=d.get(b)))return null;if(0===g)return b;c||(b=b[a]);if(!b)return null;e=e&&d.get(e)||null;void 0===g&&(g=1);var c=[],m=i.isArray(g),n,l;"number"===typeof g&&(n=0,l=g,g=function(){return++n===l});for(;b&&b!==e;){if((b.nodeType===k.ELEMENT_NODE||b.nodeType===k.TEXT_NODE&&f)&&r(b,g)&&(!j||j(b)))if(c.push(b),!m)break;b=b[a]}return m?c:c[0]||null}function r(b,g){if(!g)return!0;if(i.isArray(g)){var a,j=g.length;if(!j)return!0;
for(a=0;a<j;a++)if(d.test(b,g[a]))return!0}else if(d.test(b,g))return!0;return!1}function b(b,g,a,j){var e=[],c,f;if((c=b=d.get(b))&&a)c=b.parentNode;if(c){a=i.makeArray(c.childNodes);for(c=0;c<a.length;c++)f=a[c],(j||f.nodeType===k.ELEMENT_NODE)&&f!==b&&e.push(f);g&&(e=d.filter(e,g))}return e}var d=m("./api"),k=d.NodeType;i.mix(d,{_contains:function(b,d){return!!(b.compareDocumentPosition(d)&16)},closest:function(b,d,a,i){return n(b,d,"parentNode",function(a){return a.nodeType!==k.DOCUMENT_FRAGMENT_NODE},
a,!0,i)},parent:function(b,d,a){return n(b,d,"parentNode",function(a){return a.nodeType!==k.DOCUMENT_FRAGMENT_NODE},a,void 0)},first:function(b,g,a){b=d.get(b);return n(b&&b.firstChild,g,"nextSibling",void 0,void 0,!0,a)},last:function(b,g,a){b=d.get(b);return n(b&&b.lastChild,g,"previousSibling",void 0,void 0,!0,a)},next:function(b,d,a){return n(b,d,"nextSibling",void 0,void 0,void 0,a)},prev:function(b,d,a){return n(b,d,"previousSibling",void 0,void 0,void 0,a)},siblings:function(d,g,a){return b(d,
g,!0,a)},children:function(d,g){return b(d,g,void 0)},contents:function(d,g){return b(d,g,void 0,1)},contains:function(b,g){b=d.get(b);g=d.get(g);return b&&g?d._contains(b,g):!1},index:function(b,g){var a=d.query(b),j,e=0;j=a[0];if(!g){a=j&&j.parentNode;if(!a)return-1;for(;j=j.previousSibling;)j.nodeType===k.ELEMENT_NODE&&e++;return e}e=d.query(g);return"string"===typeof g?i.indexOf(j,e):i.indexOf(e[0],a)},equals:function(b,g){b=d.query(b);g=d.query(g);if(b.length!==g.length)return!1;for(var a=b.length;0<=
a;a--)if(b[a]!==g[a])return!1;return!0}});return d});KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(i,m){var n=m("./base/api");m("./base/attr");m("./base/class");m("./base/create");m("./base/data");m("./base/insertion");m("./base/offset");m("./base/style");m("./base/selector");m("./base/traversal");i.mix(i,{DOM:n,get:n.get,query:n.query});return n});
