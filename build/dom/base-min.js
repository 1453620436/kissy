/*
Copyright 2013, KISSY v1.50
MIT Licensed
build time: Dec 23 16:19
*/
KISSY.add("dom/base/api",[],function(i){var n=i.Env.host||{},m=n.document,q=i.UA,c={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},d={isCustomDomain:function(c){var c=c||n,c=d.get(c),g=c.document.domain,c=c.location.hostname;return g!==c&&g!=="["+c+"]"},getEmptyIframeSrc:function(c){c=c||n;c=d.get(c);return q.ie&&d.isCustomDomain(c)?
"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+c.document.domain+'";document.close();')+"}())":""},NodeType:c,getWindow:function(k){if(!k)return n;k=d.get(k);if(i.isWindow(k))return k;var g=k;g.nodeType!==c.DOCUMENT_NODE&&(g=k.ownerDocument);return g.defaultView||g.parentWindow},getDocument:function(k){if(!k)return m;k=d.get(k);return i.isWindow(k)?k.document:k.nodeType===c.DOCUMENT_NODE?k:k.ownerDocument},isDomNodeList:function(c){return c&&!c.nodeType&&c.item&&
!c.setTimeout},nodeName:function(c){var g=d.get(c),c=g.nodeName.toLowerCase();q.ie&&(g=g.scopeName)&&"HTML"!==g&&(c=g.toLowerCase()+":"+c);return c},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};i.mix(d,c);return d});
KISSY.add("dom/base/attr",["./api"],function(i,n){function m(a){return null==a?"":a+""}function q(a,c){var c=l[c]||c,b=p[c];return b&&b.get?b.get(a,c):a[c]}var c=n("./api"),d=i.Env.host.document,k=c.NodeType,d=d&&d.documentElement,g=c.nodeName,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,e=/^a(?:rea)?$/i,f=/:|^on/,a=/\r/g,b={},u={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},t={tabindex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):j.test(a.nodeName)||e.test(a.nodeName)&&a.href?0:void 0}}},l={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},y=
{get:function(a,b){return c.prop(a,b)?b.toLowerCase():void 0},set:function(a,b,e){!1===b?c.removeAttr(a,e):(b=l[e]||e,b in a&&(a[b]=!0),a.setAttribute(e,e.toLowerCase()));return e}},p={},s={},v={select:{get:function(a){var b=a.selectedIndex,e=a.options,f;if(0>b)return null;if("select-one"===""+a.type)return c.val(e[b]);a=[];b=0;for(f=e.length;b<f;++b)e[b].selected&&a.push(c.val(e[b]));return a},set:function(a,b){var e=i.makeArray(b);i.each(a.options,function(a){a.selected=i.inArray(c.val(a),e)});
e.length||(a.selectedIndex=-1);return e}}};i.each(["radio","checkbox"],function(a){v[a]={get:function(a){return null===a.getAttribute("value")?"on":a.value},set:function(a,b){if(i.isArray(b))return a.checked=i.inArray(c.val(a),b),1}}});t.style={get:function(a){return a.style.cssText}};i.mix(c,{_valHooks:v,_propFix:l,_attrHooks:t,_propHooks:p,_attrNodeHook:s,_attrFix:b,prop:function(a,b,e){var f=c.query(a),g,h;if(i.isPlainObject(b))i.each(b,function(o,a){c.prop(f,a,o)});else if(b=l[b]||b,h=p[b],void 0!==
e)for(a=f.length-1;0<=a;a--)g=f[a],h&&h.set?h.set(g,e,b):g[b]=e;else if(f.length)return q(f[0],b)},hasProp:function(a,b){var e=c.query(a),f,g=e.length,h;for(f=0;f<g;f++)if(h=e[f],void 0!==q(h,b))return!0;return!1},removeProp:function(a,b){var b=l[b]||b,e=c.query(a),f,g;for(f=e.length-1;0<=f;f--){g=e[f];try{g[b]=void 0,delete g[b]}catch(h){}}},attr:function(a,e,l,d){var j=c.query(a),p=j[0];if(i.isPlainObject(e)){var d=l,o;for(o in e)c.attr(j,o,e[o],d)}else{if(d&&u[e])return c[e](a,l);e=e.toLowerCase();
if(d&&u[e])return c[e](a,l);e=b[e]||e;a=h.test(e)?y:f.test(e)?s:t[e];if(void 0===l){if(p&&p.nodeType===k.ELEMENT_NODE){"form"===g(p)&&(a=s);if(a&&a.get)return a.get(p,e);l=p.getAttribute(e);return""===l&&(e=p.getAttributeNode(e),!e||!e.specified)?void 0:null===l?void 0:l}}else for(d=j.length-1;0<=d;d--)if((p=j[d])&&p.nodeType===k.ELEMENT_NODE)"form"===g(p)&&(a=s),a&&a.set?a.set(p,l,e):p.setAttribute(e,""+l)}},removeAttr:function(a,e){var e=e.toLowerCase(),e=b[e]||e,f=c.query(a),g,d,i;for(i=f.length-
1;0<=i;i--)if(d=f[i],d.nodeType===k.ELEMENT_NODE&&(d.removeAttribute(e),h.test(e)&&(g=l[e]||e)in d))d[g]=!1},hasAttr:d&&!d.hasAttribute?function(a,e){var e=e.toLowerCase(),b=c.query(a),f,g;for(f=0;f<b.length;f++)if(g=b[f],(g=g.getAttributeNode(e))&&g.specified)return!0;return!1}:function(a,e){var b=c.query(a),f,g=b.length;for(f=0;f<g;f++)if(b[f].hasAttribute(e))return!0;return!1},val:function(e,b){var f,l,d,h,o;if(void 0===b){if(d=c.get(e)){if((f=v[g(d)]||v[d.type])&&"get"in f&&void 0!==(l=f.get(d,
"value")))return l;l=d.value;return"string"===typeof l?l.replace(a,""):null==l?"":l}}else{l=c.query(e);for(h=l.length-1;0<=h;h--){d=l[h];if(1!==d.nodeType)break;o=b;null==o?o="":"number"===typeof o?o+="":i.isArray(o)&&(o=i.map(o,m));f=v[g(d)]||v[d.type];if(!(f&&"set"in f)||void 0===f.set(d,o,"value"))d.value=o}}},text:function(a,e){var b,f,l,d;if(void 0===e)return b=c.get(a),c._getText(b);f=c.query(a);for(l=f.length-1;0<=l;l--)if(b=f[l],d=b.nodeType,d===k.ELEMENT_NODE)c.cleanData(b.getElementsByTagName("*")),
"textContent"in b?b.textContent=e:b.innerText=e;else if(d===k.TEXT_NODE||d===k.CDATA_SECTION_NODE)b.nodeValue=e},_getText:function(a){return a.textContent}});return c});
KISSY.add("dom/base/class",["./api"],function(i,n){function m(c){for(var c=i.trim(c||""),c=c.split(h),e=[],f,a=c.length,b=0;b<a;b++)(f=c[b])&&e.push(f);return e}function q(c){return function(e,f){var a,b,d,g=e.classList,l=k.call(arguments,2);a=0;for(b=f.length;a<b;a++)(d=f[a])&&g[c].apply(g,[d].concat(l))}}function c(c){return function(e,f){var a=m(f),b=k.call(arguments,2);d.query(e).each(function(e){e.nodeType===g.ELEMENT_NODE&&d[c].apply(d,[e,a].concat(b))})}}var d=n("./api"),k=[].slice,g=d.NodeType,
h=/[\.\s]\s*\.?/;i.mix(d,{_hasClass:function(c,e){var f,a,b,d=c.classList;if(d.length){f=0;for(a=e.length;f<a;f++)if((b=e[f])&&!d.contains(b))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(c,e){var f=!1,e=m(e);d.query(c).each(function(a){if(a.nodeType===g.ELEMENT_NODE&&d._hasClass(a,e))return f=!0,!1});return f},replaceClass:function(c,e,f){d.removeClass(c,e);d.addClass(c,f)},addClass:c("_addClass"),removeClass:c("_removeClass"),
toggleClass:c("_toggleClass")});return d});
KISSY.add("dom/base/create",["./api"],function(i,n){function m(o){o=o&&o!==j?o.createElement(a):b;o===b&&(o.innerHTML="");return o}function q(a,e){var b=m(e);b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function c(a,e){if(e)if(p&&e.canHaveChildren&&"removeNode"in a){if(a.firstChild)a:{try{a.innerHTML="";break a}catch(b){}for(var f;f=a.lastChild;)c(f,a)}a.removeNode(!1)}else e.removeChild(a)}function d(a,b,c){var f=b.nodeType;if(f===e.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;c=c.childNodes;for(f=
0;b[f];)c[f]&&d(a,b[f],c[f]),f++}else if(f===e.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(f=0;b[f];)c[f]&&a(b[f],c[f]),f++}}function k(a,b){var c=i.require("event/dom"),f,d;if(b.nodeType!==e.ELEMENT_NODE||h.hasData(a)){f=h.data(a);for(d in f)h.data(b,d,f[d]);c&&c.clone(a,b)}}function g(a){var b=null,e,c;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=i.makeArray(a);e=0;for(c=a.length;e<c;e++)b.appendChild(a[e])}else"Unable to convert "+
a+" to fragment.";return b}var h=n("./api"),j=i.Env.host.document,e=h.NodeType,f=i.UA.ieMode,a="div",b=j&&j.createElement(a),u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,l=/^\s+/,y=/\s+$/,p=!!(f&&9>f),s=p,v=/<|&#?\w+;/,C=j&&"outerHTML"in j.documentElement,F=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;i.mix(h,{create:function(b,c,f,d){var p=null;if(!b)return p;if(b.nodeType)return h.clone(b);if("string"!==typeof b)return p;void 0===d&&(d=!0);d&&(b=i.trim(b));var d=h._creators,
k,m,f=f||j,w,A=a;if(v.test(b))if(w=F.exec(b))p=f.createElement(w[1]);else{b=b.replace(u,"<$1></$2>");if((w=t.exec(b))&&(k=w[1]))A=k.toLowerCase();k=(d[A]||q)(b,f);s&&(m=b.match(l))&&k.insertBefore(f.createTextNode(m[0]),k.firstChild);s&&/\S/.test(b)&&(m=b.match(y))&&k.appendChild(f.createTextNode(m[0]));m=k.childNodes;1===m.length?p=m[0].parentNode.removeChild(m[0]):m.length?p=g(m):b+" : create node error"}else p=f.createTextNode(b);b=p;i.isPlainObject(c)&&(b.nodeType===e.ELEMENT_NODE?h.attr(b,c,
!0):b.nodeType===e.DOCUMENT_FRAGMENT_NODE&&h.attr(b.childNodes,c,!0));return b},_fixCloneAttributes:function(a,b){"textarea"===h.nodeName(a)&&(b.defaultValue=a.defaultValue,b.value=a.value)},_creators:{div:q},_defaultCreator:q,html:function(a,b,c){var a=h.query(a),f=a[0],d=!1,g,i;if(!f)return null;if(void 0===b)return f.nodeType===e.ELEMENT_NODE?f.innerHTML:f.nodeType===e.DOCUMENT_FRAGMENT_NODE?(c=m(f.ownerDocument),c.appendChild(f),c.innerHTML):null;b+="";if(!b.match(/<(?:script|style|link)/i)&&
(!s||!b.match(l))&&!x[(b.match(t)||["",""])[1].toLowerCase()])try{for(g=a.length-1;0<=g;g--)i=a[g],i.nodeType===e.ELEMENT_NODE&&(h.cleanData(i.getElementsByTagName("*")),i.innerHTML=b);d=!0}catch(w){}d||(b=h.create(b,0,f.ownerDocument,0),h.empty(a),h.append(b,a,c))},outerHtml:function(a,b,c){var a=h.query(a),f=a.length,d=a[0];if(!d)return null;if(void 0===b){if(C&&d.nodeType!==h.DOCUMENT_FRAGMENT_NODE)return d.outerHTML;b=m(d.ownerDocument);b.appendChild(h.clone(d,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&
C)for(c=f-1;0<=c;c--)d=a[c],d.nodeType===e.ELEMENT_NODE&&(h.cleanData(d,1),d.outerHTML=b);else b=h.create(b,0,d.ownerDocument,0),h.insertBefore(b,a,c),h.remove(a)},remove:function(a,b){var f,d=h.query(a),l,g=i.require("event/dom"),y;for(y=d.length-1;0<=y;y--)f=d[y],!b&&f.nodeType===e.ELEMENT_NODE&&(l=i.makeArray(f.getElementsByTagName("*")),l.push(f),h.removeData(l),g&&g.detach(l)),c(f,f.parentNode)},clone:function(a,b,c,f){"object"===typeof b&&(f=b.deepWithDataAndEvent,c=b.withDataAndEvent,b=b.deep);
var a=h.get(a),l,g=h._fixCloneAttributes,i;if(!a)return null;i=a.nodeType;l=a.cloneNode(b);if(i===e.ELEMENT_NODE||i===e.DOCUMENT_FRAGMENT_NODE)g&&i===e.ELEMENT_NODE&&g(a,l),b&&g&&d(g,a,l);c&&(k(a,l),b&&f&&d(k,a,l));return l},empty:function(a){var a=h.query(a),b,c;for(c=a.length-1;0<=c;c--)b=a[c],h.remove(b.childNodes)},_nodeListToFragment:g});h.outerHTML=h.outerHtml;var G=h._creators,z=h.create,x={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",
col:"colgroup",legend:"fieldset"},D;for(D in x)(function(a){G[D]=function(b,c){return z("<"+a+">"+b+"</"+a+">",void 0,c)}})(x[D]);x.option=x.optgroup=function(a,b){return z('<select multiple="multiple">'+a+"</select>",void 0,b)};return h});
KISSY.add("dom/base/data",["./api"],function(i,n){var m=n("./api"),q=i.Env.host,c="_ks_data_"+i.now(),d={},k={},g={applet:1,object:1,embed:1},h={hasData:function(c,a){if(c)if(void 0!==a){if(a in c)return!0}else if(!i.isEmptyObject(c))return!0;return!1}},j={hasData:function(e,a){return e==q?j.hasData(k,a):h.hasData(e[c],a)},data:function(e,a,b){if(e==q)return j.data(k,a,b);var d=e[c];if(void 0!==b)d=e[c]=e[c]||{},d[a]=b;else return void 0!==a?d&&d[a]:d=e[c]=e[c]||{}},removeData:function(e,a){if(e==
q)return j.removeData(k,a);var b=e[c];if(void 0!==a)delete b[a],i.isEmptyObject(b)&&j.removeData(e);else try{delete e[c]}catch(d){e[c]=void 0}}},e={hasData:function(e,a){var b=e[c];return!b?!1:h.hasData(d[b],a)},data:function(e,a,b){if(!g[e.nodeName.toLowerCase()]){var h=e[c];if(!h){if(void 0!==a&&void 0===b)return;h=e[c]=i.guid()}e=d[h];if(void 0!==b)e=d[h]=d[h]||{},e[a]=b;else return void 0!==a?e&&e[a]:e=d[h]=d[h]||{}}},removeData:function(f,a){var b=f[c],g;if(b)if(g=d[b],void 0!==a)delete g[a],
i.isEmptyObject(g)&&e.removeData(f);else{delete d[b];try{delete f[c]}catch(h){f[c]=void 0}f.removeAttribute&&f.removeAttribute(c)}}};i.mix(m,{__EXPANDO:c,hasData:function(c,a){for(var b=!1,d=m.query(c),g=0;g<d.length&&!(b=d[g],b=b.nodeType?e.hasData(b,a):j.hasData(b,a));g++);return b},data:function(c,a,b){var c=m.query(c),d=c[0];if(i.isPlainObject(a))for(var g in a)m.data(c,g,a[g]);else if(void 0===b){if(d)return d.nodeType?e.data(d,a):j.data(d,a)}else for(g=c.length-1;0<=g;g--)d=c[g],d.nodeType?
e.data(d,a,b):j.data(d,a,b)},removeData:function(c,a){var b=m.query(c),d,g;for(g=b.length-1;0<=g;g--)d=b[g],d.nodeType?e.removeData(d,a):j.removeData(d,a)},cleanData:function(c,a){var b=m.query(c),d,g,l=i.require("event/dom");for(g=b.length-1;0<=g;g--)if(d=b[g],d.nodeType){var h=a&&i.makeArray(d.getElementsByTagName("*"))||[];h.push(d);d=0;for(var p=h.length;d<p;d++)e.removeData(h[d]);l&&l.detach(h)}else j.removeData(d)}});return m});
KISSY.add("dom/base/insertion",["./api"],function(i,n){function m(a,b){var c=[],d,l,i;for(d=0;a[d];d++)if(l=a[d],i=h(l),l.nodeType===k.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,m(j(l.childNodes),b));else if("script"===i&&(!l.type||f.test(l.type)))l.parentNode&&l.parentNode.removeChild(l),b&&b.push(l);else{if(l.nodeType===k.ELEMENT_NODE&&!g.test(i)){i=[];var p,s,v=l.getElementsByTagName("script");for(s=0;s<v.length;s++)p=v[s],(!p.type||f.test(p.type))&&i.push(p);e.apply(a,[d+1,0].concat(i))}c.push(l)}return c}
function q(a){a.src?i.getScript(a.src):(a=i.trim(a.text||a.textContent||a.innerHTML||""))&&i.globalEval(a)}function c(a,b,c,e){a=d.query(a);e&&(e=[]);a=m(a,e);d._fixInsertionChecked&&d._fixInsertionChecked(a);var b=d.query(b),g,f,h,j,k=b.length;if((a.length||e&&e.length)&&k){a=d._nodeListToFragment(a);1<k&&(j=d.clone(a,!0),b=i.makeArray(b));for(g=0;g<k;g++)f=b[g],a&&(h=0<g?d.clone(j,!0):a,c(h,f)),e&&e.length&&i.each(e,q)}}var d=n("./api"),k=d.NodeType,g=/^(?:button|input|object|select|textarea)$/i,
h=d.nodeName,j=i.makeArray,e=[].splice,f=/\/(java|ecma)script/i;i.mix(d,{_fixInsertionChecked:null,insertBefore:function(a,b,e){c(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},e)},insertAfter:function(a,b,e){c(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},e)},appendTo:function(a,b,e){c(a,b,function(a,b){b.appendChild(a)},e)},prependTo:function(a,b,e){c(a,b,function(a,b){b.insertBefore(a,b.firstChild)},e)},wrapAll:function(a,b){b=d.clone(d.get(b),!0);
a=d.query(a);a[0].parentNode&&d.insertBefore(b,a[0]);for(var e;(e=b.firstChild)&&1===e.nodeType;)b=e;d.appendTo(a,b)},wrap:function(a,b){a=d.query(a);b=d.get(b);i.each(a,function(a){d.wrapAll(a,b)})},wrapInner:function(a,b){a=d.query(a);b=d.get(b);i.each(a,function(a){var e=a.childNodes;e.length?d.wrapAll(e,b):a.appendChild(b)})},unwrap:function(a){a=d.query(a);i.each(a,function(a){a=a.parentNode;d.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var e=d.query(a),b=d.query(b);d.remove(b,!0);
d.insertBefore(b,e);d.remove(e)}});i.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){d[b]=d[a]});return d});
KISSY.add("dom/base/offset",["./api"],function(i,n){function m(e){var c,d=e.ownerDocument.body;if(!e.getBoundingClientRect)return{left:0,top:0};c=e.getBoundingClientRect();e=c[a];c=c[b];e-=j.clientLeft||d.clientLeft||0;c-=j.clientTop||d.clientTop||0;return{left:e,top:c}}function q(a,b){var d={left:0,top:0},g=e(a),f,h=a,b=b||g;do{if(g==b){var i=h;f=m(i);i=e(i);f.left+=c[u](i);f.top+=c[t](i)}else f=m(h);d.left+=f.left;d.top+=f.top}while(g&&g!=b&&(h=g.frameElement)&&(g=g.parent));return d}var c=n("./api"),
d=i.Env.host,k=i.UA,g=d.document,h=c.NodeType,j=g&&g.documentElement,e=c.getWindow,f=Math.max,a="left",b="top",u="scrollLeft",t="scrollTop";i.mix(c,{offset:function(a,b,e){if(void 0===b){var a=c.get(a),d;a&&(d=q(a,e));return d}e=c.query(a);for(d=e.length-1;0<=d;d--){var a=e[d],g=b;"static"===c.css(a,"position")&&(a.style.position="relative");var f=q(a),h={},i=void 0,j=void 0;for(j in g)i=parseFloat(c.css(a,j))||0,h[j]=i+g[j]-f[j];c.css(a,h)}},scrollIntoView:function(d,g,f,j){var k,m,n,q;if(n=c.get(d)){g&&
(g=c.get(g));g||(g=n.ownerDocument);g.nodeType===h.DOCUMENT_NODE&&(g=e(g));i.isPlainObject(f)&&(j=f.allowHorizontalScroll,q=f.onlyScrollIfNeeded,f=f.alignWithTop);j=void 0===j?!0:j;m=i.isWindow(g);var d=c.offset(n),z=c.outerHeight(n);k=c.outerWidth(n);var t,u,o,r;m?(m=g,t=c.height(m),u=c.width(m),r={left:c.scrollLeft(m),top:c.scrollTop(m)},m=d[a]-r[a],n=d[b]-r[b],k=d[a]+k-(r[a]+u),d=d[b]+z-(r[b]+t)):(t=c.offset(g),u=g.clientHeight,o=g.clientWidth,r={left:c.scrollLeft(g),top:c.scrollTop(g)},m=d[a]-
(t[a]+(parseFloat(c.css(g,"borderLeftWidth"))||0)),n=d[b]-(t[b]+(parseFloat(c.css(g,"borderTopWidth"))||0)),k=d[a]+k-(t[a]+o+(parseFloat(c.css(g,"borderRightWidth"))||0)),d=d[b]+z-(t[b]+u+(parseFloat(c.css(g,"borderBottomWidth"))||0)));if(q){if(0>n||0<d)!0===f?c.scrollTop(g,r.top+n):!1===f?c.scrollTop(g,r.top+d):0>n?c.scrollTop(g,r.top+n):c.scrollTop(g,r.top+d)}else(f=void 0===f?!0:!!f)?c.scrollTop(g,r.top+n):c.scrollTop(g,r.top+d);if(j)if(q){if(0>m||0<k)!0===f?c.scrollLeft(g,r.left+m):!1===f?c.scrollLeft(g,
r.left+k):0>m?c.scrollLeft(g,r.left+m):c.scrollLeft(g,r.left+k)}else void 0===f||f?c.scrollLeft(g,r.left+m):c.scrollLeft(g,r.left+k)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});i.each(["Left","Top"],function(a,b){var g="scroll"+a;c[g]=function(f,i){if("number"===typeof f)return arguments.callee(d,f);var f=c.get(f),j,k,m,n;f&&f.nodeType===h.ELEMENT_NODE?void 0!==i?f[g]=parseFloat(i):j=f[g]:(n=e(f),void 0!==i?(i=parseFloat(i),k="Left"===a?i:c.scrollLeft(n),m=
"Top"===a?i:c.scrollTop(n),n.scrollTo(k,m)):(j=n["page"+(b?"Y":"X")+"Offset"],"number"!==typeof j&&(k=n.document,j=k.documentElement[g],"number"!==typeof j&&(j=k.body[g]))));return j}});i.each(["Width","Height"],function(a){c["doc"+a]=function(b){b=c.get(b);b=c.getDocument(b);return f(b.documentElement["scroll"+a],b.body["scroll"+a],c["viewport"+a](b))};c["viewport"+a]=function(b){var b=c.get(b),d=e(b),b=d["inner"+a];if(k.mobile&&b)return b;var b="client"+a,d=d.document,g=d.body,f=d.documentElement[b];
return"CSS1Compat"===d.compatMode&&f||g&&g[b]||f}});return c});
KISSY.add("dom/base/style",["./api"],function(i,n){function m(a,b){return b.toUpperCase()}function q(a){return a.replace(G,"ms-").replace(K,m)}function c(a,b,e){var c={},d=a.style,g;for(g in b)c[g]=d[g],d[g]=b[g];e.call(a);for(g in b)d[g]=c[g]}function d(a,b,e){var c,d,g;if(!(3===a.nodeType||8===a.nodeType||!(c=a.style)))if(b=q(b),g=o[b],b=r[b]||i.Features.getVendorCssPropName(b),void 0!==e){null===e||e===z?e=z:!isNaN(Number(e))&&!F[b]&&(e+=x);g&&g.set&&(e=g.set(a,e));if(void 0!==e){try{c[b]=e}catch(f){"css set error:"+
f}e===z&&c.removeAttribute&&c.removeAttribute(b)}c.cssText||a.removeAttribute("style")}else{if(!g||!("get"in g&&void 0!==(d=g.get(a,!1))))d=c[b];return void 0===d?"":d}}function k(a){var b,e=arguments;0!==a.offsetWidth?b=j.apply(void 0,e):c(a,L,function(){b=j.apply(void 0,e)});return b}function g(a,b,c,d){var g=0,f,h,i;for(h=0;h<b.length;h++)if(f=b[h])for(i=0;i<c.length;i++)g+=parseFloat(e._getComputedStyle(a,"border"===f?f+c[i]+"Width":f+c[i],d))||0;return g}function h(a){var b=a.ownerDocument,e;
b.defaultView&&(e=b.defaultView.getComputedStyle(a,null));return e}function j(a,c,d){if(i.isWindow(a))return c===v?e.viewportWidth(a):e.viewportHeight(a);if(9===a.nodeType)return c===v?e.docWidth(a):e.docHeight(a);var f=c===v?["Left","Right"]:["Top","Bottom"],o=c===v?a.offsetWidth:a.offsetHeight,j=h(a),k="border-box"===e._getComputedStyle(a,"boxSizing",j),r=0;if(null==o||0>=o){o=void 0;r=e._getComputedStyle(a,c,j);if(null==r||0>Number(r))r=a.style[c]||0;r=parseFloat(r)||0}void 0===d&&(d=k?l:u);c=
void 0!==o||k;o=o||r;return d===u?c?o-g(a,["border","padding"],f,j):r:c?o+(d===l?0:d===t?-g(a,["border"],f,j):g(a,["margin"],f,j)):r+g(a,b.slice(d),f,j)}var e=n("./api"),f=i.Env.host,a=i.UA,b=["margin","border","padding"],u=-1,t=2,l=1,y=e.nodeName,p=f.document||{},s=/^margin/,v="width",C="display"+i.now(),F={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},G=/^-ms-/,z="",x="px",D=/\d(?!px)[a-z%]+$/i,o={},r={},H,I={},K=/-([a-z])/ig;r["float"]="cssFloat";i.mix(e,
{_camelCase:q,_cssHooks:o,_cssProps:r,_getComputedStyle:function(a,b,c){var d="",g,f;g=a.ownerDocument;b=r[b]||i.Features.getVendorCssPropName(b);if(c=c||g.defaultView.getComputedStyle(a,null))d=c.getPropertyValue(b)||c[b];""===d&&!e.contains(g,a)&&(d=a.style[b]);e._RE_NUM_NO_PX.test(d)&&s.test(b)&&(f=a.style,a=f.width,b=f.minWidth,g=f.maxWidth,f.minWidth=f.maxWidth=f.width=d,d=c.width,f.width=a,f.minWidth=b,f.maxWidth=g);return d},style:function(a,b,c){var a=e.query(a),g,f=a[0];if(i.isPlainObject(b))for(g in b)for(f=
a.length-1;0<=f;f--)d(a[f],g,b[g]);else{if(void 0===c)return g="",f&&(g=d(f,b,c)),g;for(f=a.length-1;0<=f;f--)d(a[f],b,c)}},css:function(a,b,c){var a=e.query(a),g=a[0],f;if(i.isPlainObject(b))for(f in b)for(g=a.length-1;0<=g;g--)d(a[g],f,b[f]);else{b=q(b);f=o[b];if(void 0===c){c="";if(g&&(!f||!("get"in f&&void 0!==(c=f.get(g,!0)))))c=e._getComputedStyle(g,b);return"undefined"===typeof c?"":c}for(g=a.length-1;0<=g;g--)d(a[g],b,c)}},show:function(a){var a=e.query(a),b,c,d;for(d=a.length-1;0<=d;d--)if(c=
a[d],c.style.display=e.data(c,C)||z,"none"===e.css(c,"display")){b=c.tagName.toLowerCase();var g=void 0,f=I[b],h=void 0;I[b]||(g=p.body||p.documentElement,h=p.createElement(b),e.prepend(h,g),f=e.css(h,"display"),g.removeChild(h),I[b]=f);b=f;e.data(c,C,b);c.style.display=b}},hide:function(a){var a=e.query(a),b,c;for(c=a.length-1;0<=c;c--){b=a[c];var d=b.style,g=d.display;"none"!==g&&(g&&e.data(b,C,g),d.display="none")}},toggle:function(a){var a=e.query(a),b,c;for(c=a.length-1;0<=c;c--)b=a[c],"none"===
e.css(b,"display")?e.show(b):e.hide(b)},addStyleSheet:function(a,b,c){"string"===typeof a&&(c=b,b=a,a=f);var a=e.getDocument(a),d;if(c&&(c=c.replace("#",z)))d=e.get("#"+c,a);d||(d=e.create("<style>",{id:c},a),e.get("head",a).appendChild(d),d.styleSheet?d.styleSheet.cssText=b:d.appendChild(a.createTextNode(b)))},unselectable:function(b){var b=e.query(b),c,d,g=0,f,h;void 0===H&&(H=i.Features.getVendorCssPropName("userSelect"));for(d=b.length-1;0<=d;d--)if(c=b[d],h=c.style,H in h)h[H]="none";else if(a.ie){h=
c.getElementsByTagName("*");c.setAttribute("unselectable","on");for(f=["iframe","textarea","input","select"];c=h[g++];)i.inArray(y(c),f)||c.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});i.each([v,"height"],function(a){e["inner"+i.ucfirst(a)]=function(b){return(b=e.get(b))&&k(b,a,t)};e["outer"+i.ucfirst(a)]=function(b,c){var d=e.get(b);return d&&k(d,a,c?0:l)};var b=a===v?["Left","Right"]:["Top","Bottom"];e[a]=function(c,d){var f=e.get(c);
if(void 0!==d){if(f){var i=h(f);"border-box"===e._getComputedStyle(f,"boxSizing",i)&&(d+=g(f,["padding","border"],b,i));return e.css(f,a,d)}}else return f&&k(f,a,u)};o[a]={get:function(b,c){var d;c&&(d=k(b,a)+"px");return d}}});var L={position:"absolute",visibility:"hidden",display:"block"};i.each(["left","top"],function(a){o[a]={get:function(b,c){var d,g,f;if(c){f=e.css(b,"position");if("static"===f)return"auto";d=e._getComputedStyle(b,a);if((g="auto"===d)&&"relative"===f)return"0px";if(g||D.test(d)){f=
{top:0,left:0};if("fixed"===e.css(b,"position"))g=b.getBoundingClientRect();else{for(d=b.offsetParent||(b.ownerDocument||p).body;d&&!M.test(d.nodeName)&&"static"===e.css(d,"position");)d=d.offsetParent;g=e.offset(b);f=e.offset(d);f.top+=parseFloat(e.css(d,"borderTopWidth"))||0;f.left+=parseFloat(e.css(d,"borderLeftWidth"))||0}g.top-=parseFloat(e.css(b,"marginTop"))||0;g.left-=parseFloat(e.css(b,"marginLeft"))||0;d={top:g.top-f.top,left:g.left-f.left}[a]+"px"}}return d}}});var M=/^(?:body|html)$/i;
return e});
KISSY.add("dom/base/selector",["./api"],function(i,n){function m(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function q(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function c(b){return function(c){var d=f._getElementById(b,a);return d&&f._contains(c,d)?[d]:[]}}function d(a){return function(b){return b.getElementsByClassName(a)}}function k(a){return function(b){return b.getElementsByTagName(a)}}function g(b,e){var h,j,n="string"===
typeof b,s=void 0!==e?g(e):(j=1)&&[a],u=s.length;if(b)if(n){b=D(b);if(j)if("body"===b)h=[a.body];else if(C.test(b)&&t)h=a.getElementsByClassName(RegExp.$1);else if(z.test(b))h=(j=f._getElementById(RegExp.$2,a))&&j.nodeName.toLowerCase()===RegExp.$1?[j]:[];else if(F.test(b))h=(j=f._getElementById(b.substr(1),a))?[j]:[];else if(G.test(b))h=a.getElementsByTagName(b);else if(!b.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&t){h=b.split(/\s+/);var w=s,A,x;j=0;for(n=h.length;j<
n;j++){A=h;x=j;var B;B=h[j];var E=B.charAt(0);B="#"===E?c(q(B)):"."===E?d(q(B)):k(B);A[x]=B}j=0;for(n=h.length;j<n;j++){B=h[j];var E=[],J;A=0;for(x=w.length;A<x;A++)J=B(w[A]),E.push.apply(E,i.makeArray(J));w=E;if(!w.length)break}h=w&&1<w.length?f.unique(w):w}if(!h){h=[];for(j=0;j<u;j++)v.apply(h,f._selectInternal(b,s[j]));1<h.length&&1<u&&f.unique(h)}}else{if(h=b.nodeType||i.isWindow(b)?[b]:b.getDOMNodes?b.getDOMNodes():l(b)?b:p(b)?y(b):[b],!j){n=h;A=n.length;h=[];for(j=0;j<A;j++)for(w=0;w<u;w++)if(f._contains(s[w],
n[j])){h.push(n[j]);break}}}else h=[];h.each=m;return h}function h(a,b){var c=a&&j(a,"class");return c&&(c=c.replace(/[\r\t\n]/g,s))&&-1<(s+c+s).indexOf(s+b+s)}function j(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function e(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var f=n("./api"),a=i.Env.host.document,b=a.documentElement,u=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||b.msMatchesSelector,t="getElementsByClassName"in
a,l=i.isArray,y=i.makeArray,p=f.isDomNodeList,s=" ",v=Array.prototype.push,C=/^\.([\w-]+)$/,F=/^#([\w-]+)$/,G=/^([\w-])+$/,z=/^([\w-]+)#([\w-]+)$/,x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,D=i.trim;i.mix(f,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return i.makeArray(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:j,_isTag:e,_hasSingleClass:h,_matchesInternal:function(a,b){for(var c=[],d=0,e,g=b.length;d<g;d++)e=b[d],u.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return y(b.querySelectorAll(a))},query:g,get:function(a,b){return g(a,b)[0]||null},unique:function(){function a(c,d){return c===d?(b=!0,0):f._compareNodeOrder(c,d)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){b=c;d.sort(a);if(b)for(var e=1,g=d.length;e<g;)d[e]===d[e-1]?(d.splice(e,1),--g):e++;return d}}(),
filter:function(a,b,c){var a=g(a,c),d,k,l,m,c=[];if("string"===typeof b&&(b=D(b))&&(l=x.exec(b)))d=l[1],k=l[2],m=l[3],d?d&&!k&&!m&&(b=function(a){return j(a,"id")===d}):b=function(a){var b=!0,c=!0;k&&(b=e(a,k));m&&(c=h(a,m));return c&&b};return c="function"===typeof b?i.filter(a,b):f._matchesInternal(b,a)},test:function(a,b,c){a=g(a,c);return a.length&&f.filter(a,b,c).length===a.length}});return f});
KISSY.add("dom/base/traversal",["./api"],function(i,n){function m(c,h,j,e,f,a,b){if(!(c=d.get(c)))return null;if(0===h)return c;a||(c=c[j]);if(!c)return null;f=f&&d.get(f)||null;void 0===h&&(h=1);var a=[],m=i.isArray(h),n,l;"number"===typeof h&&(n=0,l=h,h=function(){return++n===l});for(;c&&c!==f;){if((c.nodeType===k.ELEMENT_NODE||c.nodeType===k.TEXT_NODE&&b)&&q(c,h)&&(!e||e(c)))if(a.push(c),!m)break;c=c[j]}return m?a:a[0]||null}function q(c,h){if(!h)return!0;if(i.isArray(h)){var j,e=h.length;if(!e)return!0;
for(j=0;j<e;j++)if(d.test(c,h[j]))return!0}else if(d.test(c,h))return!0;return!1}function c(c,h,j,e){var f=[],a,b;if((a=c=d.get(c))&&j)a=c.parentNode;if(a){j=i.makeArray(a.childNodes);for(a=0;a<j.length;a++)b=j[a],(e||b.nodeType===k.ELEMENT_NODE)&&b!==c&&f.push(b);h&&(f=d.filter(f,h))}return f}var d=n("./api"),k=d.NodeType;i.mix(d,{_contains:function(c,d){return!!(c.compareDocumentPosition(d)&16)},closest:function(c,d,i,e){return m(c,d,"parentNode",function(c){return c.nodeType!==k.DOCUMENT_FRAGMENT_NODE},
i,!0,e)},parent:function(c,d,i){return m(c,d,"parentNode",function(c){return c.nodeType!==k.DOCUMENT_FRAGMENT_NODE},i,void 0)},first:function(c,h,i){c=d.get(c);return m(c&&c.firstChild,h,"nextSibling",void 0,void 0,!0,i)},last:function(c,h,i){c=d.get(c);return m(c&&c.lastChild,h,"previousSibling",void 0,void 0,!0,i)},next:function(c,d,i){return m(c,d,"nextSibling",void 0,void 0,void 0,i)},prev:function(c,d,i){return m(c,d,"previousSibling",void 0,void 0,void 0,i)},siblings:function(d,h,i){return c(d,
h,!0,i)},children:function(d,h){return c(d,h,void 0)},contents:function(d,h){return c(d,h,void 0,1)},contains:function(c,h){c=d.get(c);h=d.get(h);return c&&h?d._contains(c,h):!1},index:function(c,h){var j=d.query(c),e,f=0;e=j[0];if(!h){j=e&&e.parentNode;if(!j)return-1;for(;e=e.previousSibling;)e.nodeType===k.ELEMENT_NODE&&f++;return f}f=d.query(h);return"string"===typeof h?i.indexOf(e,f):i.indexOf(f[0],j)},equals:function(c,h){c=d.query(c);h=d.query(h);if(c.length!==h.length)return!1;for(var i=c.length;0<=
i;i--)if(c[i]!==h[i])return!1;return!0}});return d});KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(i,n){var m=n("./base/api");n("./base/attr");n("./base/class");n("./base/create");n("./base/data");n("./base/insertion");n("./base/offset");n("./base/style");n("./base/selector");n("./base/traversal");i.mix(i,{DOM:m,get:m.get,query:m.query});return m});
