/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 13 17:50
*/
KISSY.add("dom/base/api",[],function(i){var m=i.Env.host||{},n=m.document,q=i.UA,c={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},e={isCustomDomain:function(c){var c=c||m,c=e.get(c),g=c.document.domain,c=c.location.hostname;return g!==c&&g!=="["+c+"]"},getEmptyIframeSrc:function(c){c=c||m;c=e.get(c);return q.ie&&e.isCustomDomain(c)?
"javascript:void(function(){"+encodeURIComponent('document.open();document.domain="'+c.document.domain+'";document.close();')+"}())":""},NodeType:c,getWindow:function(l){if(!l)return m;l=e.get(l);if(i.isWindow(l))return l;var g=l;g.nodeType!==c.DOCUMENT_NODE&&(g=l.ownerDocument);return g.defaultView||g.parentWindow},getDocument:function(l){if(!l)return n;l=e.get(l);return i.isWindow(l)?l.document:l.nodeType===c.DOCUMENT_NODE?l:l.ownerDocument},isDomNodeList:function(c){return c&&!c.nodeType&&c.item&&
!c.setTimeout},nodeName:function(c){var g=e.get(c),c=g.nodeName.toLowerCase();q.ie&&(g=g.scopeName)&&"HTML"!==g&&(c=g.toLowerCase()+":"+c);return c},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};i.mix(e,c);return e});
KISSY.add("dom/base/attr",["./api"],function(i,m){function n(a){return null==a?"":a+""}function q(a,c){var c=k[c]||c,b=o[c];return b&&b.get?b.get(a,c):a[c]}var c=m("./api"),e=i.Env.host.document,l=c.NodeType,e=e&&e.documentElement,g=c.nodeName,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,d=/^a(?:rea)?$/i,f=/:|^on/,a=/\r/g,b={},u={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},t={tabindex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):j.test(a.nodeName)||d.test(a.nodeName)&&a.href?0:void 0}}},k={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},x=
{get:function(a,b){return c.prop(a,b)?b.toLowerCase():void 0},set:function(a,b,d){!1===b?c.removeAttr(a,d):(b=k[d]||d,b in a&&(a[b]=!0),a.setAttribute(d,d.toLowerCase()));return d}},o={},s={},v={select:{get:function(a){var b=a.selectedIndex,d=a.options,f;if(0>b)return null;if("select-one"===""+a.type)return c.val(d[b]);a=[];b=0;for(f=d.length;b<f;++b)d[b].selected&&a.push(c.val(d[b]));return a},set:function(a,b){var d=i.makeArray(b);i.each(a.options,function(a){a.selected=i.inArray(c.val(a),d)});
d.length||(a.selectedIndex=-1);return d}}};i.each(["radio","checkbox"],function(a){v[a]={get:function(a){return null===a.getAttribute("value")?"on":a.value},set:function(a,b){if(i.isArray(b))return a.checked=i.inArray(c.val(a),b),1}}});t.style={get:function(a){return a.style.cssText}};i.mix(c,{_valHooks:v,_propFix:k,_attrHooks:t,_propHooks:o,_attrNodeHook:s,_attrFix:b,prop:function(a,b,d){var f=c.query(a),g,h;if(i.isPlainObject(b))i.each(b,function(p,a){c.prop(f,a,p)});else if(b=k[b]||b,h=o[b],void 0!==
d)for(a=f.length-1;0<=a;a--)g=f[a],h&&h.set?h.set(g,d,b):g[b]=d;else if(f.length)return q(f[0],b)},hasProp:function(a,b){var d=c.query(a),f,g=d.length,k;for(f=0;f<g;f++)if(k=d[f],void 0!==q(k,b))return!0;return!1},removeProp:function(a,b){var b=k[b]||b,d=c.query(a),f,g;for(f=d.length-1;0<=f;f--){g=d[f];try{g[b]=void 0,delete g[b]}catch(h){}}},attr:function(a,d,k,e){var j=c.query(a),o=j[0];if(i.isPlainObject(d)){var e=k,p;for(p in d)c.attr(j,p,d[p],e)}else{if(e&&u[d])return c[d](a,k);d=d.toLowerCase();
if(e&&u[d])return c[d](a,k);d=b[d]||d;a=h.test(d)?x:f.test(d)?s:t[d];if(void 0===k){if(o&&o.nodeType===l.ELEMENT_NODE){"form"===g(o)&&(a=s);if(a&&a.get)return a.get(o,d);k=o.getAttribute(d);return""===k&&(d=o.getAttributeNode(d),!d||!d.specified)?void 0:null===k?void 0:k}}else for(e=j.length-1;0<=e;e--)if((o=j[e])&&o.nodeType===l.ELEMENT_NODE)"form"===g(o)&&(a=s),a&&a.set?a.set(o,k,d):o.setAttribute(d,""+k)}},removeAttr:function(a,d){var d=d.toLowerCase(),d=b[d]||d,f=c.query(a),g,e,i;for(i=f.length-
1;0<=i;i--)if(e=f[i],e.nodeType===l.ELEMENT_NODE&&(e.removeAttribute(d),h.test(d)&&(g=k[d]||d)in e))e[g]=!1},hasAttr:e&&!e.hasAttribute?function(a,d){var d=d.toLowerCase(),b=c.query(a),f,k;for(f=0;f<b.length;f++)if(k=b[f],(k=k.getAttributeNode(d))&&k.specified)return!0;return!1}:function(a,d){var b=c.query(a),f,k=b.length;for(f=0;f<k;f++)if(b[f].hasAttribute(d))return!0;return!1},val:function(d,b){var f,k,e,h,p;if(void 0===b){if(e=c.get(d)){if((f=v[g(e)]||v[e.type])&&"get"in f&&void 0!==(k=f.get(e,
"value")))return k;k=e.value;return"string"===typeof k?k.replace(a,""):null==k?"":k}}else{k=c.query(d);for(h=k.length-1;0<=h;h--){e=k[h];if(1!==e.nodeType)break;p=b;null==p?p="":"number"===typeof p?p+="":i.isArray(p)&&(p=i.map(p,n));f=v[g(e)]||v[e.type];if(!(f&&"set"in f)||void 0===f.set(e,p,"value"))e.value=p}}},text:function(a,d){var b,f,k,e;if(void 0===d)return b=c.get(a),c._getText(b);f=c.query(a);for(k=f.length-1;0<=k;k--)if(b=f[k],e=b.nodeType,e===l.ELEMENT_NODE)c.cleanData(b.getElementsByTagName("*")),
"textContent"in b?b.textContent=d:b.innerText=d;else if(e===l.TEXT_NODE||e===l.CDATA_SECTION_NODE)b.nodeValue=d},_getText:function(a){return a.textContent}});return c});
KISSY.add("dom/base/class",["./api"],function(i,m){function n(c){for(var c=i.trim(c||""),c=c.split(h),d=[],f,a=c.length,b=0;b<a;b++)(f=c[b])&&d.push(f);return d}function q(c){return function(d,f){var a,b,e,g=d.classList,k=l.call(arguments,2);a=0;for(b=f.length;a<b;a++)(e=f[a])&&g[c].apply(g,[e].concat(k))}}function c(c){return function(d,f){var a=n(f),b=l.call(arguments,2);e.query(d).each(function(d){d.nodeType===g.ELEMENT_NODE&&e[c].apply(e,[d,a].concat(b))})}}var e=m("./api"),l=[].slice,g=e.NodeType,
h=/[\.\s]\s*\.?/;i.mix(e,{_hasClass:function(c,d){var f,a,b,e=c.classList;if(e.length){f=0;for(a=d.length;f<a;f++)if((b=d[f])&&!e.contains(b))return!1;return!0}return!1},_addClass:q("add"),_removeClass:q("remove"),_toggleClass:q("toggle"),hasClass:function(c,d){var f=!1,d=n(d);e.query(c).each(function(a){if(a.nodeType===g.ELEMENT_NODE&&e._hasClass(a,d))return f=!0,!1});return f},replaceClass:function(c,d,f){e.removeClass(c,d);e.addClass(c,f)},addClass:c("_addClass"),removeClass:c("_removeClass"),
toggleClass:c("_toggleClass")});return e});
KISSY.add("dom/base/create",["./api"],function(i,m){function n(p){p=p&&p!==j?p.createElement(a):b;p===b&&(p.innerHTML="");return p}function q(a,d){var b=n(d);b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function c(a,d){if(d)if(o&&d.canHaveChildren&&"removeNode"in a){if(a.firstChild)a:{try{a.innerHTML="";break a}catch(b){}for(var f;f=a.lastChild;)c(f,a)}a.removeNode(!1)}else d.removeChild(a)}function e(a,b,c){var f=b.nodeType;if(f===d.DOCUMENT_FRAGMENT_NODE){b=b.childNodes;c=c.childNodes;for(f=
0;b[f];)c[f]&&e(a,b[f],c[f]),f++}else if(f===d.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(f=0;b[f];)c[f]&&a(b[f],c[f]),f++}}function l(a,b){var c=i.require("event/dom"),f,k;if(b.nodeType!==d.ELEMENT_NODE||h.hasData(a)){f=h.data(a);for(k in f)h.data(b,k,f[k]);c&&c.clone(a,b)}}function g(a){var b=null,d,c;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=i.makeArray(a);d=0;for(c=a.length;d<c;d++)b.appendChild(a[d])}return b}var h=m("./api"),
j=i.Env.host.document,d=h.NodeType,f=i.UA.ieMode,a="div",b=j&&j.createElement(a),u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,k=/^\s+/,x=/\s+$/,o=!!(f&&9>f),s=o,v=/<|&#?\w+;/,C=j&&"outerHTML"in j.documentElement,G=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;i.mix(h,{create:function(b,c,f,e){var o=null;if(!b)return o;if(b.nodeType)return h.clone(b);if("string"!==typeof b)return o;void 0===e&&(e=!0);e&&(b=i.trim(b));var e=h._creators,l,n,f=f||j,w,A=a;if(v.test(b))if(w=
G.exec(b))o=f.createElement(w[1]);else{b=b.replace(u,"<$1></$2>");if((w=t.exec(b))&&(l=w[1]))A=l.toLowerCase();l=(e[A]||q)(b,f);s&&(n=b.match(k))&&l.insertBefore(f.createTextNode(n[0]),l.firstChild);s&&/\S/.test(b)&&(n=b.match(x))&&l.appendChild(f.createTextNode(n[0]));b=l.childNodes;1===b.length?o=b[0].parentNode.removeChild(b[0]):b.length&&(o=g(b))}else o=f.createTextNode(b);i.isPlainObject(c)&&(o.nodeType===d.ELEMENT_NODE?h.attr(o,c,!0):o.nodeType===d.DOCUMENT_FRAGMENT_NODE&&h.attr(o.childNodes,
c,!0));return o},_fixCloneAttributes:function(a,b){var d=a.nodeName.toLowerCase(),c=(a.type||"").toLowerCase();if("textarea"===d)b.defaultValue=a.defaultValue,b.value=a.value;else if("input"===d&&("checkbox"===c||"radio"===c)){if(d=a.checked)b.defaultChecked=b.checked=d;d=a.value;b.value!==d&&(b.value=d)}},_creators:{div:q},_defaultCreator:q,html:function(a,b,c){var a=h.query(a),f=a[0],e=!1,g,i;if(!f)return null;if(void 0===b)return f.nodeType===d.ELEMENT_NODE?f.innerHTML:f.nodeType===d.DOCUMENT_FRAGMENT_NODE?
(c=n(f.ownerDocument),c.appendChild(f),c.innerHTML):null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!s||!b.match(k))&&!z[(b.match(t)||["",""])[1].toLowerCase()])try{for(g=a.length-1;0<=g;g--)i=a[g],i.nodeType===d.ELEMENT_NODE&&(h.cleanData(i.getElementsByTagName("*")),i.innerHTML=b);e=!0}catch(w){}e||(b=h.create(b,0,f.ownerDocument,0),h.empty(a),h.append(b,a,c))},outerHtml:function(a,b,c){var a=h.query(a),f=a.length,k=a[0];if(!k)return null;if(void 0===b){if(C&&k.nodeType!==h.DOCUMENT_FRAGMENT_NODE)return k.outerHTML;
b=n(k.ownerDocument);b.appendChild(h.clone(k,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&C)for(c=f-1;0<=c;c--)k=a[c],k.nodeType===d.ELEMENT_NODE&&(h.cleanData(k,1),k.outerHTML=b);else b=h.create(b,0,k.ownerDocument,0),h.insertBefore(b,a,c),h.remove(a)},remove:function(a,b){var f,k=h.query(a),e,g=i.require("event/dom"),x;for(x=k.length-1;0<=x;x--)f=k[x],!b&&f.nodeType===d.ELEMENT_NODE&&(e=i.makeArray(f.getElementsByTagName("*")),e.push(f),h.removeData(e),g&&g.detach(e)),c(f,
f.parentNode)},clone:function(a,b,c,f){"object"===typeof b&&(f=b.deepWithDataAndEvent,c=b.withDataAndEvent,b=b.deep);var a=h.get(a),k,g=h._fixCloneAttributes,i;if(!a)return null;i=a.nodeType;k=a.cloneNode(b);if(i===d.ELEMENT_NODE||i===d.DOCUMENT_FRAGMENT_NODE)g&&i===d.ELEMENT_NODE&&g(a,k),b&&g&&e(g,a,k);c&&(l(a,k),b&&f&&e(l,a,k));return k},empty:function(a){var a=h.query(a),b,d;for(d=a.length-1;0<=d;d--)b=a[d],h.remove(b.childNodes)},_nodeListToFragment:g});h.outerHTML=h.outerHtml;var E=h._creators,
y=h.create,z={area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},D;for(D in z)(function(a){E[D]=function(b,d){return y("<"+a+">"+b+"</"+a+">",void 0,d)}})(z[D]);E.option=E.optgroup=function(a,b){return y('<select multiple="multiple">'+a+"</select>",void 0,b)};return h});
KISSY.add("dom/base/data",["./api"],function(i,m){var n=m("./api"),q=i.Env.host,c="_ks_data_"+i.now(),e={},l={},g={applet:1,object:1,embed:1},h={hasData:function(d,a){if(d)if(void 0!==a){if(a in d)return!0}else if(!i.isEmptyObject(d))return!0;return!1}},j={hasData:function(d,a){return d==q?j.hasData(l,a):h.hasData(d[c],a)},data:function(d,a,b){if(d==q)return j.data(l,a,b);var e=d[c];if(void 0!==b)e=d[c]=d[c]||{},e[a]=b;else return void 0!==a?e&&e[a]:e=d[c]=d[c]||{}},removeData:function(d,a){if(d==
q)return j.removeData(l,a);var b=d[c];if(void 0!==a)delete b[a],i.isEmptyObject(b)&&j.removeData(d);else try{delete d[c]}catch(e){d[c]=void 0}}},d={hasData:function(d,a){var b=d[c];return!b?!1:h.hasData(e[b],a)},data:function(d,a,b){if(!g[d.nodeName.toLowerCase()]){var h=d[c];if(!h){if(void 0!==a&&void 0===b)return;h=d[c]=i.guid()}d=e[h];if(void 0!==b)d=e[h]=e[h]||{},d[a]=b;else return void 0!==a?d&&d[a]:d=e[h]=e[h]||{}}},removeData:function(f,a){var b=f[c],g;if(b)if(g=e[b],void 0!==a)delete g[a],
i.isEmptyObject(g)&&d.removeData(f);else{delete e[b];try{delete f[c]}catch(h){f[c]=void 0}f.removeAttribute&&f.removeAttribute(c)}}};i.mix(n,{__EXPANDO:c,hasData:function(c,a){for(var b=!1,e=n.query(c),g=0;g<e.length&&!(b=e[g],b=b.nodeType?d.hasData(b,a):j.hasData(b,a));g++);return b},data:function(c,a,b){var c=n.query(c),e=c[0];if(i.isPlainObject(a))for(var g in a)n.data(c,g,a[g]);else if(void 0===b){if(e)return e.nodeType?d.data(e,a):j.data(e,a)}else for(g=c.length-1;0<=g;g--)e=c[g],e.nodeType?
d.data(e,a,b):j.data(e,a,b)},removeData:function(c,a){var b=n.query(c),e,g;for(g=b.length-1;0<=g;g--)e=b[g],e.nodeType?d.removeData(e,a):j.removeData(e,a)},cleanData:function(c,a){var b=n.query(c),e,g,k=i.require("event/dom");for(g=b.length-1;0<=g;g--)if(e=b[g],e.nodeType){var h=a&&i.makeArray(e.getElementsByTagName("*"))||[];h.push(e);e=0;for(var o=h.length;e<o;e++)d.removeData(h[e]);k&&k.detach(h)}else j.removeData(e)}});return n});
KISSY.add("dom/base/insertion",["./api"],function(i,m){function n(a,b){var c=[],e,k,i;for(e=0;a[e];e++)if(k=a[e],i=h(k),k.nodeType===l.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,n(j(k.childNodes),b));else if("script"===i&&(!k.type||f.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),b&&b.push(k);else{if(k.nodeType===l.ELEMENT_NODE&&!g.test(i)){i=[];var o,s,v=k.getElementsByTagName("script");for(s=0;s<v.length;s++)o=v[s],(!o.type||f.test(o.type))&&i.push(o);d.apply(a,[e+1,0].concat(i))}c.push(k)}return c}
function q(a){a.src?i.getScript(a.src):(a=i.trim(a.text||a.textContent||a.innerHTML||""))&&i.globalEval(a)}function c(a,b,d,c){a=e.query(a);c&&(c=[]);a=n(a,c);e._fixInsertionChecked&&e._fixInsertionChecked(a);var b=e.query(b),k,f,g,h,j=b.length;if((a.length||c&&c.length)&&j){a=e._nodeListToFragment(a);1<j&&(h=e.clone(a,!0),b=i.makeArray(b));for(k=0;k<j;k++)f=b[k],a&&(g=0<k?e.clone(h,!0):a,d(g,f)),c&&c.length&&i.each(c,q)}}var e=m("./api"),l=e.NodeType,g=/^(?:button|input|object|select|textarea)$/i,
h=e.nodeName,j=i.makeArray,d=[].splice,f=/\/(java|ecma)script/i;i.mix(e,{_fixInsertionChecked:null,insertBefore:function(a,b,d){c(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,b,d){c(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},d)},appendTo:function(a,b,d){c(a,b,function(a,b){b.appendChild(a)},d)},prependTo:function(a,b,d){c(a,b,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,b){b=e.clone(e.get(b),!0);
a=e.query(a);a[0].parentNode&&e.insertBefore(b,a[0]);for(var d;(d=b.firstChild)&&1===d.nodeType;)b=d;e.appendTo(a,b)},wrap:function(a,b){a=e.query(a);b=e.get(b);i.each(a,function(a){e.wrapAll(a,b)})},wrapInner:function(a,b){a=e.query(a);b=e.get(b);i.each(a,function(a){var d=a.childNodes;d.length?e.wrapAll(d,b):a.appendChild(b)})},unwrap:function(a){a=e.query(a);i.each(a,function(a){a=a.parentNode;e.replaceWith(a,a.childNodes)})},replaceWith:function(a,b){var d=e.query(a),b=e.query(b);e.remove(b,!0);
e.insertBefore(b,d);e.remove(d)}});i.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,b){e[b]=e[a]});return e});
KISSY.add("dom/base/offset",["./api"],function(i,m){function n(d){var c,e=d.ownerDocument.body;if(!d.getBoundingClientRect)return{left:0,top:0};c=d.getBoundingClientRect();d=c[a];c=c[b];d-=j.clientLeft||e.clientLeft||0;c-=j.clientTop||e.clientTop||0;return{left:d,top:c}}function q(a,b){var e={left:0,top:0},f=d(a),g,h=a,b=b||f;do{if(f==b){var i=h;g=n(i);i=d(i);g.left+=c[u](i);g.top+=c[t](i)}else g=n(h);e.left+=g.left;e.top+=g.top}while(f&&f!=b&&(h=f.frameElement)&&(f=f.parent));return e}var c=m("./api"),
e=i.Env.host,l=i.UA,g=e.document,h=c.NodeType,j=g&&g.documentElement,d=c.getWindow,f=Math.max,a="left",b="top",u="scrollLeft",t="scrollTop";i.mix(c,{offset:function(a,b,d){if(void 0===b){var a=c.get(a),e;a&&(e=q(a,d));return e}d=c.query(a);for(e=d.length-1;0<=e;e--){var a=d[e],f=b;"static"===c.css(a,"position")&&(a.style.position="relative");var g=q(a),h={},i=void 0,j=void 0;for(j in f)i=parseFloat(c.css(a,j))||0,h[j]=i+f[j]-g[j];c.css(a,h)}},scrollIntoView:function(e,f,g,j){var l,n,m,q;if(m=c.get(e)){f&&
(f=c.get(f));f||(f=m.ownerDocument);f.nodeType===h.DOCUMENT_NODE&&(f=d(f));i.isPlainObject(g)&&(j=g.allowHorizontalScroll,q=g.onlyScrollIfNeeded,g=g.alignWithTop);j=void 0===j?!0:j;n=i.isWindow(f);var e=c.offset(m),y=c.outerHeight(m);l=c.outerWidth(m);var t,u,p,r;n?(n=f,t=c.height(n),u=c.width(n),r={left:c.scrollLeft(n),top:c.scrollTop(n)},n=e[a]-r[a],m=e[b]-r[b],l=e[a]+l-(r[a]+u),e=e[b]+y-(r[b]+t)):(t=c.offset(f),u=f.clientHeight,p=f.clientWidth,r={left:c.scrollLeft(f),top:c.scrollTop(f)},n=e[a]-
(t[a]+(parseFloat(c.css(f,"borderLeftWidth"))||0)),m=e[b]-(t[b]+(parseFloat(c.css(f,"borderTopWidth"))||0)),l=e[a]+l-(t[a]+p+(parseFloat(c.css(f,"borderRightWidth"))||0)),e=e[b]+y-(t[b]+u+(parseFloat(c.css(f,"borderBottomWidth"))||0)));if(q){if(0>m||0<e)!0===g?c.scrollTop(f,r.top+m):!1===g?c.scrollTop(f,r.top+e):0>m?c.scrollTop(f,r.top+m):c.scrollTop(f,r.top+e)}else(g=void 0===g?!0:!!g)?c.scrollTop(f,r.top+m):c.scrollTop(f,r.top+e);if(j)if(q){if(0>n||0<l)!0===g?c.scrollLeft(f,r.left+n):!1===g?c.scrollLeft(f,
r.left+l):0>n?c.scrollLeft(f,r.left+n):c.scrollLeft(f,r.left+l)}else void 0===g||g?c.scrollLeft(f,r.left+n):c.scrollLeft(f,r.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});i.each(["Left","Top"],function(a,b){var f="scroll"+a;c[f]=function(g,i){if("number"===typeof g)return arguments.callee(e,g);var g=c.get(g),j,l,n,m;g&&g.nodeType===h.ELEMENT_NODE?void 0!==i?g[f]=parseFloat(i):j=g[f]:(m=d(g),void 0!==i?(i=parseFloat(i),l="Left"===a?i:c.scrollLeft(m),n=
"Top"===a?i:c.scrollTop(m),m.scrollTo(l,n)):(j=m["page"+(b?"Y":"X")+"Offset"],"number"!==typeof j&&(l=m.document,j=l.documentElement[f],"number"!==typeof j&&(j=l.body[f]))));return j}});i.each(["Width","Height"],function(a){c["doc"+a]=function(b){b=c.get(b);b=c.getDocument(b);return f(b.documentElement["scroll"+a],b.body["scroll"+a],c["viewport"+a](b))};c["viewport"+a]=function(b){var b=c.get(b),e=d(b),b=e["inner"+a];if(l.mobile&&b)return b;var b="client"+a,e=e.document,f=e.body,g=e.documentElement[b];
return"CSS1Compat"===e.compatMode&&g||f&&f[b]||g}});return c});
KISSY.add("dom/base/style",["./api"],function(i,m){function n(a,b){return b.toUpperCase()}function q(a){return a.replace(E,"ms-").replace(K,n)}function c(a,b,d){var c={},e=a.style,f;for(f in b)c[f]=e[f],e[f]=b[f];d.call(a);for(f in b)e[f]=c[f]}function e(a,b,d){var c,e,f;if(!(3===a.nodeType||8===a.nodeType||!(c=a.style)))if(b=q(b),f=p[b],b=r[b]||i.Feature.getVendorCssPropName(b),void 0!==d){null===d||d===y?d=y:!isNaN(Number(d))&&!G[b]&&(d+=z);f&&f.set&&(d=f.set(a,d));if(void 0!==d){try{c[b]=d}catch(g){}d===
y&&c.removeAttribute&&c.removeAttribute(b)}c.cssText||a.removeAttribute("style")}else{if(!f||!("get"in f&&void 0!==(e=f.get(a,!1))))e=c[b];return void 0===e?"":e}}function l(a){var b,d=arguments;0!==a.offsetWidth?b=j.apply(void 0,d):c(a,L,function(){b=j.apply(void 0,d)});return b}function g(a,b,c,e){var f=0,g,h,i;for(h=0;h<b.length;h++)if(g=b[h])for(i=0;i<c.length;i++)f+=parseFloat(d._getComputedStyle(a,"border"===g?g+c[i]+"Width":g+c[i],e))||0;return f}function h(a){var b=a.ownerDocument,d;b.defaultView&&
(d=b.defaultView.getComputedStyle(a,null));return d}function j(a,c,e){if(i.isWindow(a))return c===v?d.viewportWidth(a):d.viewportHeight(a);if(9===a.nodeType)return c===v?d.docWidth(a):d.docHeight(a);var f=c===v?["Left","Right"]:["Top","Bottom"],p=c===v?a.offsetWidth:a.offsetHeight,j=h(a),l="border-box"===d._getComputedStyle(a,"boxSizing",j),r=0;if(null==p||0>=p){p=void 0;r=d._getComputedStyle(a,c,j);if(null==r||0>Number(r))r=a.style[c]||0;r=parseFloat(r)||0}void 0===e&&(e=l?k:u);c=void 0!==p||l;p=
p||r;return e===u?c?p-g(a,["border","padding"],f,j):r:c?p+(e===k?0:e===t?-g(a,["border"],f,j):g(a,["margin"],f,j)):r+g(a,b.slice(e),f,j)}var d=m("./api"),f=i.Env.host,a=i.UA,b=["margin","border","padding"],u=-1,t=2,k=1,x=d.nodeName,o=f.document||{},s=/^margin/,v="width",C="display"+i.now(),G={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},E=/^-ms-/,y="",z="px",D=/\d(?!px)[a-z%]+$/i,p={},r={},H,I={},K=/-([a-z])/ig;r["float"]="cssFloat";i.mix(d,{_camelCase:q,_cssHooks:p,
_cssProps:r,_getComputedStyle:function(a,b,c){var e="",f,g;f=a.ownerDocument;b=r[b]||i.Feature.getVendorCssPropName(b);if(c=c||f.defaultView.getComputedStyle(a,null))e=c.getPropertyValue(b)||c[b];""===e&&!d.contains(f,a)&&(e=a.style[b]);d._RE_NUM_NO_PX.test(e)&&s.test(b)&&(g=a.style,a=g.width,b=g.minWidth,f=g.maxWidth,g.minWidth=g.maxWidth=g.width=e,e=c.width,g.width=a,g.minWidth=b,g.maxWidth=f);return e},style:function(a,b,c){var a=d.query(a),f,g=a[0];if(i.isPlainObject(b))for(f in b)for(g=a.length-
1;0<=g;g--)e(a[g],f,b[f]);else{if(void 0===c)return f="",g&&(f=e(g,b,c)),f;for(g=a.length-1;0<=g;g--)e(a[g],b,c)}},css:function(a,b,c){var a=d.query(a),f=a[0],g;if(i.isPlainObject(b))for(g in b)for(f=a.length-1;0<=f;f--)e(a[f],g,b[g]);else{b=q(b);g=p[b];if(void 0===c){c="";if(f&&(!g||!("get"in g&&void 0!==(c=g.get(f,!0)))))c=d._getComputedStyle(f,b);return"undefined"===typeof c?"":c}for(f=a.length-1;0<=f;f--)e(a[f],b,c)}},show:function(a){var a=d.query(a),b,c,f;for(f=a.length-1;0<=f;f--)if(c=a[f],
c.style.display=d.data(c,C)||y,"none"===d.css(c,"display")){b=c.tagName.toLowerCase();var e=void 0,g=I[b],h=void 0;I[b]||(e=o.body||o.documentElement,h=o.createElement(b),d.prepend(h,e),g=d.css(h,"display"),e.removeChild(h),I[b]=g);b=g;d.data(c,C,b);c.style.display=b}},hide:function(a){var a=d.query(a),b,c;for(c=a.length-1;0<=c;c--){b=a[c];var f=b.style,e=f.display;"none"!==e&&(e&&d.data(b,C,e),f.display="none")}},toggle:function(a){var a=d.query(a),b,c;for(c=a.length-1;0<=c;c--)b=a[c],"none"===d.css(b,
"display")?d.show(b):d.hide(b)},addStyleSheet:function(a,b,c){"string"===typeof a&&(c=b,b=a,a=f);var a=d.getDocument(a),e;if(c&&(c=c.replace("#",y)))e=d.get("#"+c,a);e||(e=d.create("<style>",{id:c},a),d.get("head",a).appendChild(e),e.styleSheet?e.styleSheet.cssText=b:e.appendChild(a.createTextNode(b)))},unselectable:function(b){var b=d.query(b),c,f,e=0,g,h;void 0===H&&(H=i.Feature.getVendorCssPropName("userSelect"));for(f=b.length-1;0<=f;f--)if(c=b[f],h=c.style,H in h)h[H]="none";else if(a.ie){h=
c.getElementsByTagName("*");c.setAttribute("unselectable","on");for(g=["iframe","textarea","input","select"];c=h[e++];)i.inArray(x(c),g)||c.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});i.each([v,"height"],function(a){d["inner"+i.ucfirst(a)]=function(b){return(b=d.get(b))&&l(b,a,t)};d["outer"+i.ucfirst(a)]=function(b,c){var f=d.get(b);return f&&l(f,a,c?0:k)};var b=a===v?["Left","Right"]:["Top","Bottom"];d[a]=function(c,f){var e=d.get(c);
if(void 0!==f){if(e){var i=h(e);"border-box"===d._getComputedStyle(e,"boxSizing",i)&&(f+=g(e,["padding","border"],b,i));return d.css(e,a,f)}}else return e&&l(e,a,u)};p[a]={get:function(b,c){var d;c&&(d=l(b,a)+"px");return d}}});var L={position:"absolute",visibility:"hidden",display:"block"};i.each(["left","top"],function(a){p[a]={get:function(b,c){var f,e,g;if(c){g=d.css(b,"position");if("static"===g)return"auto";f=d._getComputedStyle(b,a);if((e="auto"===f)&&"relative"===g)return"0px";if(e||D.test(f)){g=
{top:0,left:0};if("fixed"===d.css(b,"position"))e=b.getBoundingClientRect();else{for(f=b.offsetParent||(b.ownerDocument||o).body;f&&!M.test(f.nodeName)&&"static"===d.css(f,"position");)f=f.offsetParent;e=d.offset(b);g=d.offset(f);g.top+=parseFloat(d.css(f,"borderTopWidth"))||0;g.left+=parseFloat(d.css(f,"borderLeftWidth"))||0}e.top-=parseFloat(d.css(b,"marginTop"))||0;e.left-=parseFloat(d.css(b,"marginLeft"))||0;f={top:e.top-g.top,left:e.left-g.left}[a]+"px"}}return f}}});var M=/^(?:body|html)$/i;
return d});
KISSY.add("dom/base/selector",["./api"],function(i,m){function n(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function q(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function c(b){return function(c){var d=f._getElementById(b,a);return d&&f._contains(c,d)?[d]:[]}}function e(a){return function(b){return b.getElementsByClassName(a)}}function l(a){return function(b){return b.getElementsByTagName(a)}}function g(b,d){var h,j,m="string"===
typeof b,s=void 0!==d?g(d):(j=1)&&[a],u=s.length;if(b)if(m){b=D(b);if(j)if("body"===b)h=[a.body];else if(C.test(b)&&t)h=x(a.getElementsByClassName(RegExp.$1));else if(y.test(b))h=(j=f._getElementById(RegExp.$2,a))&&j.nodeName.toLowerCase()===RegExp.$1?[j]:[];else if(G.test(b))h=(j=f._getElementById(b.substr(1),a))?[j]:[];else if(E.test(b))h=x(a.getElementsByTagName(b));else if(!b.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&t){h=b.split(/\s+/);var w=s,A,z;j=0;for(m=
h.length;j<m;j++){A=h;z=j;var B;B=h[j];var F=B.charAt(0);B="#"===F?c(q(B)):"."===F?e(q(B)):l(B);A[z]=B}j=0;for(m=h.length;j<m;j++){B=h[j];var F=[],J;A=0;for(z=w.length;A<z;A++)J=B(w[A]),F.push.apply(F,x(J));w=F;if(!w.length)break}h=w&&1<w.length?f.unique(w):w}if(!h){h=[];for(j=0;j<u;j++)v.apply(h,f._selectInternal(b,s[j]));1<h.length&&1<u&&f.unique(h)}}else{if(h=b.nodeType||i.isWindow(b)?[b]:b.getDOMNodes?b.getDOMNodes():k(b)?b:o(b)?x(b):[b],!j){m=h;A=m.length;h=[];for(j=0;j<A;j++)for(w=0;w<u;w++)if(f._contains(s[w],
m[j])){h.push(m[j]);break}}}else h=[];h.each=n;return h}function h(a,b){var c=a&&j(a,"class");return c&&(c=c.replace(/[\r\t\n]/g,s))&&-1<(s+c+s).indexOf(s+b+s)}function j(a,b){var c=a&&a.getAttributeNode(b);if(c&&c.specified)return c.nodeValue}function d(a,b){return"*"===b||a.nodeName.toLowerCase()===b.toLowerCase()}var f=m("./api"),a=i.Env.host.document,b=a.documentElement,u=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||b.msMatchesSelector,t="getElementsByClassName"in
a,k=i.isArray,x=i.makeArray,o=f.isDomNodeList,s=" ",v=Array.prototype.push,C=/^\.([\w-]+)$/,G=/^#([\w-]+)$/,E=/^([\w-])+$/,y=/^([\w-]+)#([\w-]+)$/,z=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,D=i.trim;i.mix(f,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return x(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:j,_isTag:d,_hasSingleClass:h,_matchesInternal:function(a,b){for(var c=[],d=0,f,e=b.length;d<e;d++)f=b[d],u.call(f,a)&&c.push(f);return c},_selectInternal:function(a,b){return x(b.querySelectorAll(a))},query:g,get:function(a,b){return g(a,b)[0]||null},unique:function(){function a(c,d){return c===d?(b=!0,0):f._compareNodeOrder(c,d)}var b,c=!0;[0,0].sort(function(){c=!1;return 0});return function(d){b=c;d.sort(a);if(b)for(var f=1,e=d.length;f<e;)d[f]===d[f-1]?(d.splice(f,1),--e):f++;return d}}(),
filter:function(a,b,c){var a=g(a,c),e,k,l,m,c=[];if("string"===typeof b&&(b=D(b))&&(l=z.exec(b)))e=l[1],k=l[2],m=l[3],e?e&&!k&&!m&&(b=function(a){return j(a,"id")===e}):b=function(a){var b=!0,c=!0;k&&(b=d(a,k));m&&(c=h(a,m));return c&&b};return c="function"===typeof b?i.filter(a,b):f._matchesInternal(b,a)},test:function(a,b,c){a=g(a,c);return a.length&&f.filter(a,b,c).length===a.length}});return f});
KISSY.add("dom/base/traversal",["./api"],function(i,m){function n(c,h,j,d,f,a,b){if(!(c=e.get(c)))return null;if(0===h)return c;a||(c=c[j]);if(!c)return null;f=f&&e.get(f)||null;void 0===h&&(h=1);var a=[],m=i.isArray(h),n,k;"number"===typeof h&&(n=0,k=h,h=function(){return++n===k});for(;c&&c!==f;){if((c.nodeType===l.ELEMENT_NODE||c.nodeType===l.TEXT_NODE&&b)&&q(c,h)&&(!d||d(c)))if(a.push(c),!m)break;c=c[j]}return m?a:a[0]||null}function q(c,h){if(!h)return!0;if(i.isArray(h)){var j,d=h.length;if(!d)return!0;
for(j=0;j<d;j++)if(e.test(c,h[j]))return!0}else if(e.test(c,h))return!0;return!1}function c(c,h,j,d){var f=[],a,b;if((a=c=e.get(c))&&j)a=c.parentNode;if(a){j=i.makeArray(a.childNodes);for(a=0;a<j.length;a++)b=j[a],(d||b.nodeType===l.ELEMENT_NODE)&&b!==c&&f.push(b);h&&(f=e.filter(f,h))}return f}var e=m("./api"),l=e.NodeType;i.mix(e,{_contains:function(c,e){return!!(c.compareDocumentPosition(e)&16)},closest:function(c,e,i,d){return n(c,e,"parentNode",function(c){return c.nodeType!==l.DOCUMENT_FRAGMENT_NODE},
i,!0,d)},parent:function(c,e,i){return n(c,e,"parentNode",function(c){return c.nodeType!==l.DOCUMENT_FRAGMENT_NODE},i,void 0)},first:function(c,h,i){c=e.get(c);return n(c&&c.firstChild,h,"nextSibling",void 0,void 0,!0,i)},last:function(c,h,i){c=e.get(c);return n(c&&c.lastChild,h,"previousSibling",void 0,void 0,!0,i)},next:function(c,e,i){return n(c,e,"nextSibling",void 0,void 0,void 0,i)},prev:function(c,e,i){return n(c,e,"previousSibling",void 0,void 0,void 0,i)},siblings:function(e,h,i){return c(e,
h,!0,i)},children:function(e,h){return c(e,h,void 0)},contents:function(e,h){return c(e,h,void 0,1)},contains:function(c,h){c=e.get(c);h=e.get(h);return c&&h?e._contains(c,h):!1},index:function(c,h){var j=e.query(c),d,f=0;d=j[0];if(!h){j=d&&d.parentNode;if(!j)return-1;for(;d=d.previousSibling;)d.nodeType===l.ELEMENT_NODE&&f++;return f}f=e.query(h);return"string"===typeof h?i.indexOf(d,f):i.indexOf(f[0],j)},equals:function(c,h){c=e.query(c);h=e.query(h);if(c.length!==h.length)return!1;for(var i=c.length;0<=
i;i--)if(c[i]!==h[i])return!1;return!0}});return e});KISSY.add("dom/base","./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(","),function(i,m){var n=m("./base/api");m("./base/attr");m("./base/class");m("./base/create");m("./base/data");m("./base/insertion");m("./base/offset");m("./base/style");m("./base/selector");m("./base/traversal");i.mix(i,{DOM:n,get:n.get,query:n.query});return n});
