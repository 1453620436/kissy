/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Apr 15 14:26
*/
KISSY.add("util/array",function(d){var f=Array.prototype,i=f.indexOf,e=f.lastIndexOf,g=f.filter,c=f.every,h=f.some,a=f.map;d.mix(d,{indexOf:i?function(b,a,d){return void 0===d?i.call(a,b):i.call(a,b,d)}:function(b,a,d){for(var d=d||0,c=a.length;d<c;++d)if(a[d]===b)return d;return-1},lastIndexOf:e?function(b,a,d){return void 0===d?e.call(a,b):e.call(a,b,d)}:function(b,a,d){for(void 0===d&&(d=a.length-1);0<=d&&a[d]!==b;d--);return d},unique:function(b,a){var c=b.slice();a&&c.reverse();for(var j=0,k,
m;j<c.length;){for(m=c[j];(k=d.lastIndexOf(m,c))!==j;)c.splice(k,1);j+=1}a&&c.reverse();return c},inArray:function(b,a){return-1<d.indexOf(b,a)},filter:g?function(b,a,d){return g.call(b,a,d||this)}:function(b,a,c){var j=[];d.each(b,function(b,d,o){a.call(c||this,b,d,o)&&j.push(b)});return j},map:a?function(b,d,c){return a.call(b,d,c||this)}:function(b,a,d){for(var c=b.length,k=Array(c),m=0;m<c;m++){var o="string"===typeof b?b.charAt(m):b[m];if(o||m in b)k[m]=a.call(d||this,o,m,b)}return k},reduce:function(b,
a,d){var c=b.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===c&&2===arguments.length)throw new TypeError("arguments invalid");var k=0,m;if(3<=arguments.length)m=d;else{do{if(k in b){m=b[k++];break}k+=1;if(k>=c)throw new TypeError;}while(1)}for(;k<c;)k in b&&(m=a.call(void 0,m,b[k],k,b)),k++;return m},every:c?function(b,a,d){return c.call(b,a,d||this)}:function(b,a,d){for(var c=b&&b.length||0,k=0;k<c;k++)if(k in b&&!a.call(d,b[k],k,b))return!1;return!0},some:h?
function(b,a,d){return h.call(b,a,d||this)}:function(b,a,d){for(var c=b&&b.length||0,k=0;k<c;k++)if(k in b&&a.call(d,b[k],k,b))return!0;return!1},makeArray:function(b){if(null==b)return[];if(d.isArray(b))return b;var a=typeof b.length,c=typeof b;if("number"!==a||"string"===typeof b.nodeName||null!=b&&b==b.window||"string"===c||"function"===c&&!("item"in b&&"number"===a))return[b];for(var a=[],c=0,h=b.length;c<h;c++)a[c]=b[c];return a}})});
KISSY.add("util/escape",function(d){var f={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},i={},e,g,c=/[&<>"'`]/,h=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in f)i[f[a]]=a})();e=function(){var a="",b;for(b in f)a+=f[b]+"|";a=a.slice(0,-1);return e=RegExp(a,"g")}();g=function(){var a="",b;for(b in i)a+=i[b]+"|";return g=RegExp(a+"&#(\\d{1,5});","g")}();d.mix(d,{escapeHtml:function(a){if(!a&&0!==a)return"";a=""+a;return!c.test(a)?a:(a+"").replace(e,function(a){return i[a]})},
escapeRegExp:function(a){return a.replace(h,"\\$&")},unEscapeHtml:function(a){return a.replace(g,function(a,d){return f[a]||String.fromCharCode(+d)})}});d.escapeHTML=d.escapeHtml;d.unEscapeHTML=d.unEscapeHtml});
KISSY.add("util/function",function(d){function f(d,e,g){function c(){}var h=[].slice,a=h.call(arguments,3),b=function(){var b=h.call(arguments);return e.apply(this instanceof c?this:g||this,d?b.concat(a):a.concat(b))};c.prototype=e.prototype;b.prototype=new c;return b}d.mix(d,{noop:function(){},bind:f(0,f,null,0),rbind:f(0,f,null,1),later:function(i,e,g,c,h){var e=e||0,a=i,b=d.makeArray(h),f;"string"===typeof i&&(a=c[i]);i=function(){a.apply(c,b)};f=g?setInterval(i,e):setTimeout(i,e);return{id:f,
interval:g,cancel:function(){this.interval?clearInterval(f):clearTimeout(f)}}},throttle:function(f,e,g){e=e||150;if(-1===e)return function(){f.apply(g||this,arguments)};var c=d.now();return function(){var h=d.now();h-c>e&&(c=h,f.apply(g||this,arguments))}},buffer:function(f,e,g){function c(){c.stop();h=d.later(f,e,0,g||this,arguments)}e=e||150;if(-1===e)return function(){f.apply(g||this,arguments)};var h=null;c.stop=function(){h&&(h.cancel(),h=0)};return c}})});
KISSY.add("util/object",function(d){function f(){}function i(b,m,o,h,f,e){if(!m||!b)return b;var j,l,n,A;m[c]=b;e.push(m);n=d.keys(m);A=n.length;for(j=0;j<A;j++)if(l=n[j],l!==c){var s=b,w=m,y=o,z=h,B=f,C=e;if(y||!(l in s)||B){var t=s[l],p=w[l];if(t===p)t===g&&(s[l]=t);else if(z&&(p=z.call(w,l,p)),B&&p&&(d.isArray(p)||d.isPlainObject(p)))p[c]?s[l]=p[c]:(w=t&&(d.isArray(t)||d.isPlainObject(t))?t:d.isArray(p)?[]:{},s[l]=w,i(w,p,y,z,a,C));else if(p!==g&&(y||!(l in s)))s[l]=p}}return b}function e(a,b){return"constructor"===
a?g:b}var g,c="__MIX_CIRCULAR",h=d.Env.host,a=!0,b={}.toString,l=Object.create,n=!{toString:1}.propertyIsEnumerable("toString"),j="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,b){for(var d in b)a[d]=b[d]})(d,{keys:Object.keys||function(a){var b=[],d,c;for(d in a)a.hasOwnProperty(d)&&b.push(d);if(n)for(c=j.length-1;0<=c;c--)d=j[c],a.hasOwnProperty(d)&&b.push(d);return b},each:function(a,c,h){if(a){var f,e,j=0;f=a&&a.length;e=
f===g||"[object Function]"===b.call(a);h=h||null;if(e)for(e=d.keys(a);j<e.length&&!(f=e[j],!1===c.call(h,a[f],f,a));j++);else for(e=a[0];j<f&&!1!==c.call(h,e,j,a);e=a[++j]);}return a},now:Date.now||function(){return+new Date},isArray:function(a){return"[object Array]"===b.call(a)},isEmptyObject:function(a){for(var b in a)if(b!==g)return!1;return!0},stamp:function(a,b,c){var c=c||"__~ks_stamped",h=a[c];if(!h&&!b)try{h=a[c]=d.guid(c)}catch(f){h=g}return h},mix:function(b,h,f,e,j){"object"===typeof f&&
(e=f.whitelist,j=f.deep,f=f.overwrite);if(e&&"function"!==typeof e)var l=e,e=function(a,b){return d.inArray(a,l)?b:g};f===g&&(f=a);var n=[],v=0;for(i(b,h,f,e,j,n);h=n[v++];)delete h[c];return b},merge:function(a){var a=d.makeArray(arguments),b={},c,h=a.length;for(c=0;c<h;c++)d.mix(b,a[c]);return b},augment:function(a,b){var c=d.makeArray(arguments),h=c.length-2,f=1,j,l,i=c[h],n=c[h+1];c[1]=b;d.isArray(n)||(i=n,n=g,h++);"boolean"!==typeof i&&(i=g,h++);for(;f<h;f++){l=c[f];if(j=l.prototype)l=d.mix({},
j,!0,e);d.mix(a.prototype,l,i,n)}return a},extend:function(a,b,c,h){if(!b||!a)return a;var e=b.prototype;e.constructor=b;l?b=l(e):(f.prototype=e,b=new f);b.constructor=a;a.prototype=d.mix(b,a.prototype);a.superclass=e;c&&d.mix(b,c);h&&d.mix(a,h);return a},namespace:function(){var b=d.makeArray(arguments),c=b.length,f=null,e,j,g,l=b[c-1]===a&&c--;for(e=0;e<c;e++){g=(""+b[e]).split(".");f=l?h:this;for(j=h[g[0]]===f?1:0;j<g.length;++j)f=f[g[j]]=f[g[j]]||{}}return f}})});
KISSY.add("util/string",function(d){function f(a){var b=typeof a;return null==a||"object"!==b&&"function"!==b}function i(a,b){return b.toUpperCase()}var e=/\\?\{([^{}]+)\}/g,g=/-([a-z])/ig,c=/^[\s\xa0]+|[\s\xa0]+$/g,h=String.prototype.trim;d.mix(d,{param:function(a,b,c,h){b=b||"&";c=c||"=";void 0===h&&(h=!0);var e=[],g,i,o,u,q,r=d.urlEncode;for(g in a)if(q=a[g],g=r(g),f(q))e.push(g),void 0!==q&&e.push(c,r(q+"")),e.push(b);else if(d.isArray(q)&&q.length){i=0;for(u=q.length;i<u;++i)o=q[i],f(o)&&(e.push(g,
h?r("[]"):""),void 0!==o&&e.push(c,r(o+"")),e.push(b))}e.pop();return e.join("")},unparam:function(a,b,c){if("string"!==typeof a||!(a=d.trim(a)))return{};for(var c=c||"=",h={},e,f=d.urlDecode,a=a.split(b||"&"),g=0,i=a.length;g<i;++g){e=a[g].indexOf(c);if(-1===e)b=f(a[g]),e=void 0;else{b=f(a[g].substring(0,e));e=a[g].substring(e+1);try{e=f(e)}catch(u){}d.endsWith(b,"[]")&&(b=b.substring(0,b.length-2))}b in h?d.isArray(h[b])?h[b].push(e):h[b]=[h[b],e]:h[b]=e}return h},startsWith:function(a,b){return 0===
a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},trim:h?function(a){return null==a?"":h.call(a)}:function(a){return null==a?"":(a+"").replace(c,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},camelCase:function(a){return a.replace(g,i)},substitute:function(a,b,c){return"string"!==typeof a||!b?a:a.replace(c||e,function(a,c){return"\\"===a.charAt(0)?a.slice(1):void 0===
b[c]?"":b[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",function(d){var f={},i=d.noop,e=Object.prototype,g=e.toString;d.mix(d,{type:function(c){return null==c?""+c:f[g.call(c)]||"object"},isPlainObject:function(c){if(!c||"object"!==d.type(c)||c.nodeType||c.window==c)return!1;var a,b;try{if((b=c.constructor)&&!e.hasOwnProperty.call(c,"constructor")&&!e.hasOwnProperty.call(b.prototype,"isPrototypeOf"))return!1}catch(f){return!1}for(a in c);return void 0===a||e.hasOwnProperty.call(c,a)}});d.mix(d,{isBoolean:i,isNumber:i,isString:i,isFunction:i,
isArray:i,isDate:i,isRegExp:i,isObject:i});for(var i="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),c=0;c<i.length;c++)(function(c,a){f["[object "+c+"]"]=a=c.toLowerCase();d["is"+c]=function(b){return d.type(b)===a}})(i[c],c);d.isArray=Array.isArray||d.isArray});
KISSY.add("util/web",function(d){function f(){if(!a){e&&e.setTimeout&&v(e,q,f);a=1;for(var c=0;c<b.length;c++)try{b[c](d)}catch(h){setTimeout(function(){throw h;},0)}}}function i(){if(!g||g.readyState===r)f();else if(x(e,q,f),k){var a=function(){v(g,o,a);f()};x(g,o,a)}else{var b=function(){g.readyState===r&&(v(g,u,b),f())};x(g,u,b);var d,h=c&&c.doScroll;try{d=null===e.frameElement}catch(i){d=!1}if(h&&d){var j=function(){try{h("left"),f()}catch(a){setTimeout(j,l)}};j()}}}var e=d.Env.host,g=e.document||
{},c=g.documentElement,h=e.location,a=0,b=[],l=40,n=/^#?([\w-]+)$/,j=/\S/,k=g.addEventListener,m=g.attachEvent||k,o="DOMContentLoaded",u="readystatechange",q="load",r="complete",x=k?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},v=k?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};d.mix(d,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{e.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=void 0}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&j.test(a)&&(e.execScript?e.execScript(a):e.eval.call(e,a))},ready:function(c){if(a)try{c(d)}catch(e){setTimeout(function(){throw e;},0)}else b.push(c);return this},available:function(a,b){var a=(a+"").match(n)[1],c=1,e=d.later(function(){if(500<++c)e.cancel();else{var d=g.getElementById(a);d&&(b(d),e.cancel())}},
l,!0)}});if(h&&-1!==(h.search||"").indexOf("ks-debug"))d.Config.debug=!0;m&&i();try{g.execCommand("BackgroundImageCache",!1,!0)}catch(D){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(d,f){function i(c,f,a){var b=c,l,n,j,k;if(!c)return b;if(c[g])return a[c[g]].destination;if(typeof c==="object"){k=c.constructor;if(d.inArray(k,[Boolean,String,Number,Date,RegExp]))b=new k(c.valueOf());else if(l=d.isArray(c))b=f?d.filter(c,f):c.concat();else if(n=d.isPlainObject(c))b={};c[g]=k=d.guid("c");a[k]={destination:b,input:c}}if(l)for(c=0;c<b.length;c++)b[c]=i(b[c],f,a);else if(n)for(j in c)if(j!==
g&&(!f||f.call(c,c[j],j,c)!==e))b[j]=i(c[j],f,a);return b}var e=false,g="__~ks_cloned";d.mix=function(c,d){for(var a in d)c[a]=d[a];return c};f("util/array");f("util/escape");f("util/function");f("util/object");f("util/string");f("util/type");f("util/web");d.mix(d,{clone:function(c,e){var a={},b=i(c,e,a);d.each(a,function(a){a=a.input;if(a[g])try{delete a[g]}catch(b){a[g]=void 0}});a=null;return b}});return d});
