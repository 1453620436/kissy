/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 12 22:35
*/
KISSY.add("util","util/base,util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(p,i){function e(b,j,g){var a=b,c,o,h,l;if(!b)return a;if(b[d])return g[b[d]].destination;if(typeof b==="object"){l=b.constructor;if(f.inArray(l,[Boolean,String,Number,Date,RegExp]))a=new l(b.valueOf());else if(c=f.isArray(b))a=j?f.filter(b,j):b.concat();else if(o=f.isPlainObject(b))a={};b[d]=l=f.guid("c");g[l]={destination:a,input:b}}if(c)for(b=0;b<a.length;b++)a[b]=e(a[b],
j,g);else if(o)for(h in b)if(h!==d&&(!j||j.call(b,b[h],h,b)!==m))a[h]=e(b[h],j,g);return a}var m=false,f=i("util/base"),d="__~ks_cloned";i("util/array");i("util/escape");i("util/function");i("util/object");i("util/string");i("util/type");i("util/web");f.mix(f,{clone:function(b,j){var g={},a=e(b,j,g);f.each(g,function(c){c=c.input;if(c[d])try{delete c[d]}catch(a){c[d]=void 0}});g=null;return a}});return f});
KISSY.add("util/base",[],function(){var p=0;return{mix:function(i,e){for(var m in e)i[m]=e[m];return i},guid:function(i){return(i||"")+p++}}});
KISSY.add("util/array",["./base"],function(p,i){var e=Array.prototype,m=e.indexOf,f=e.lastIndexOf,d=e.filter,b=e.every,j=e.some,g=i("./base"),a=e.map;g.mix(g,{indexOf:m?function(c,a,h){return void 0===h?m.call(a,c):m.call(a,c,h)}:function(c,a,h){for(var h=h||0,b=a.length;h<b;++h)if(a[h]===c)return h;return-1},lastIndexOf:f?function(c,a,h){return void 0===h?f.call(a,c):f.call(a,c,h)}:function(c,a,h){for(void 0===h&&(h=a.length-1);0<=h&&a[h]!==c;h--);return h},unique:function(c,a){var h=c.slice();a&&
h.reverse();for(var b=0,k,n;b<h.length;){for(n=h[b];(k=g.lastIndexOf(n,h))!==b;)h.splice(k,1);b+=1}a&&h.reverse();return h},inArray:function(c,a){return-1<g.indexOf(c,a)},filter:d?function(c,a,b){return d.call(c,a,b||this)}:function(c,a,b){var d=[];g.each(c,function(c,n,r){a.call(b||this,c,n,r)&&d.push(c)});return d},map:a?function(c,b,h){return a.call(c,b,h||this)}:function(c,a,b){for(var d=c.length,k=Array(d),n=0;n<d;n++){var r="string"===typeof c?c.charAt(n):c[n];if(r||n in c)k[n]=a.call(b||this,
r,n,c)}return k},reduce:function(c,a,b){var d=c.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===d&&2===arguments.length)throw new TypeError("arguments invalid");var k=0,n;if(3<=arguments.length)n=b;else{do{if(k in c){n=c[k++];break}k+=1;if(k>=d)throw new TypeError;}while(1)}for(;k<d;)k in c&&(n=a.call(void 0,n,c[k],k,c)),k++;return n},every:b?function(c,a,d){return b.call(c,a,d||this)}:function(a,b,d){for(var g=a&&a.length||0,k=0;k<g;k++)if(k in a&&!b.call(d,
a[k],k,a))return!1;return!0},some:j?function(a,b,d){return j.call(a,b,d||this)}:function(a,b,d){for(var g=a&&a.length||0,k=0;k<g;k++)if(k in a&&b.call(d,a[k],k,a))return!0;return!1},makeArray:function(a){if(null==a)return[];if(g.isArray(a))return a;var b=typeof a.length,d=typeof a;if("number"!==b||"string"===typeof a.nodeName||null!=a&&a==a.window||"string"===d||"function"===d&&!("item"in a&&"number"===b))return[a];for(var b=[],d=0,f=a.length;d<f;d++)b[d]=a[d];return b}})});
KISSY.add("util/escape",["./base"],function(p,i){var e=i("./base"),m={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},f={},d,b,j=/[&<>"'`]/,g=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in m)f[m[a]]=a})();d=function(){var a="",c;for(c in m)a+=m[c]+"|";a=a.slice(0,-1);return d=RegExp(a,"g")}();b=function(){var a="",c;for(c in f)a+=f[c]+"|";return b=RegExp(a+"&#(\\d{1,5});","g")}();e.mix(e,{escapeHtml:function(a){if(!a&&0!==a)return"";a=""+a;return!j.test(a)?
a:(a+"").replace(d,function(a){return f[a]})},escapeRegExp:function(a){return a.replace(g,"\\$&")},unEscapeHtml:function(a){return a.replace(b,function(a,b){return m[a]||String.fromCharCode(+b)})}});e.escapeHTML=e.escapeHtml;e.unEscapeHTML=e.unEscapeHtml});
KISSY.add("util/function",["./base"],function(p,i){function e(f,d,b){function e(){}var g=[].slice,a=g.call(arguments,3),c=function(){var c=g.call(arguments);return d.apply(this instanceof e?this:b||this,f?c.concat(a):a.concat(c))};e.prototype=d.prototype;c.prototype=new e;return c}var m=i("./base");m.mix(m,{noop:function(){},bind:e(0,e,null,0),rbind:e(0,e,null,1),later:function(f,d,b,e,g){var d=d||0,a=f,c=m.makeArray(g),o;"string"===typeof f&&(a=e[f]);a||m.error("method undefine");f=function(){a.apply(e,
c)};o=b?setInterval(f,d):setTimeout(f,d);return{id:o,interval:b,cancel:function(){this.interval?clearInterval(o):clearTimeout(o)}}},throttle:function(f,d,b){d=d||150;if(-1===d)return function(){f.apply(b||this,arguments)};var e=m.now();return function(){var g=m.now();g-e>d&&(e=g,f.apply(b||this,arguments))}},buffer:function(f,d,b){function e(){e.stop();g=m.later(f,d,0,b||this,arguments)}d=d||150;if(-1===d)return function(){f.apply(b||this,arguments)};var g=null;e.stop=function(){g&&(g.cancel(),g=
0)};return e}})});
KISSY.add("util/object",["./base"],function(p,i){function e(){}function m(c,n,r,g,e,f){if(!n||!c)return c;var h,l,s,z;n[j]=c;f.push(n);s=d.keys(n);z=s.length;for(h=0;h<z;h++)if(l=s[h],l!==j){var o=c,i=n,p=r,w=g,A=e,B=f;if(p||!(l in o)||A){var t=o[l],q=i[l];if(t===q)t===b&&(o[l]=t);else if(w&&(q=w.call(i,l,q)),A&&q&&(d.isArray(q)||d.isPlainObject(q)))q[j]?o[l]=q[j]:(i=t&&(d.isArray(t)||d.isPlainObject(t))?t:d.isArray(q)?[]:{},o[l]=i,m(i,q,p,w,a,B));else if(q!==b&&(p||!(l in o)))o[l]=q}}return c}function f(a,
c){return"constructor"===a?b:c}var d=i("./base"),b,j="__MIX_CIRCULAR",g=p.Env.host,a=!0,c={}.toString,o=Object.create,h=!{toString:1}.propertyIsEnumerable("toString"),l="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,c){for(var b in c)a[b]=c[b]})(d,{keys:Object.keys||function(a){var c=[],b,d;for(b in a)a.hasOwnProperty(b)&&c.push(b);if(h)for(d=l.length-1;0<=d;d--)b=l[d],a.hasOwnProperty(b)&&c.push(b);return c},each:function(a,
n,g){if(a){var e,f,h=0;e=a&&a.length;f=e===b||"[object Function]"===c.call(a);g=g||null;if(f)for(f=d.keys(a);h<f.length&&!(e=f[h],!1===n.call(g,a[e],e,a));h++);else for(f=a[0];h<e&&!1!==n.call(g,f,h,a);f=a[++h]);}return a},now:Date.now||function(){return+new Date},isArray:function(a){return"[object Array]"===c.call(a)},isEmptyObject:function(a){for(var c in a)if(c!==b)return!1;return!0},stamp:function(a,c,f){var f=f||"__~ks_stamped",e=a[f];if(!e&&!c)try{e=a[f]=d.guid(f)}catch(g){e=b}return e},mix:function(c,
f,e,g,h){"object"===typeof e&&(g=e.whitelist,h=e.deep,e=e.overwrite);if(g&&"function"!==typeof g)var l=g,g=function(a,c){return d.inArray(a,l)?c:b};e===b&&(e=a);var o=[],i=0;for(m(c,f,e,g,h,o);f=o[i++];)delete f[j];return c},merge:function(a){var a=d.makeArray(arguments),c={},b,e=a.length;for(b=0;b<e;b++)d.mix(c,a[b]);return c},augment:function(a,c){var e=d.makeArray(arguments),g=e.length-2,h=1,l,o,i=e[g],s=e[g+1];e[1]=c;d.isArray(s)||(i=s,s=b,g++);"boolean"!==typeof i&&(i=b,g++);for(;h<g;h++){o=
e[h];if(l=o.prototype)o=d.mix({},l,!0,f);d.mix(a.prototype,o,i,s)}return a},extend:function(a,c,b,g){var f=c.prototype;f.constructor=c;o?c=o(f):(e.prototype=f,c=new e);c.constructor=a;a.prototype=d.mix(c,a.prototype);a.superclass=f;b&&d.mix(c,b);g&&d.mix(a,g);return a},namespace:function(){var c=d.makeArray(arguments),b=c.length,e=null,f,h,l,o=c[b-1]===a&&b--;for(f=0;f<b;f++){l=(""+c[f]).split(".");e=o?g:this;for(h=g[l[0]]===e?1:0;h<l.length;++h)e=e[l[h]]=e[l[h]]||{}}return e}})});
KISSY.add("util/string",["./base"],function(p,i){function e(a){var c=typeof a;return null==a||"object"!==c&&"function"!==c}function m(a,c){return c.toUpperCase()}var f=i("./base"),d=/\\?\{([^{}]+)\}/g,b=/^[\s\xa0]+|[\s\xa0]+$/g,j=String.prototype.trim,g=/-([a-z])/gi;f.mix(f,{param:function(a,c,b,d){c=c||"&";b=b||"=";void 0===d&&(d=!0);var g=[],k,n,i,m,j,p=f.urlEncode;for(k in a)if(j=a[k],k=p(k),e(j))g.push(k),void 0!==j&&g.push(b,p(j+"")),g.push(c);else if(f.isArray(j)&&j.length){n=0;for(m=j.length;n<
m;++n)i=j[n],e(i)&&(g.push(k,d?p("[]"):""),void 0!==i&&g.push(b,p(i+"")),g.push(c))}g.pop();return g.join("")},unparam:function(a,c,b){if("string"!==typeof a||!(a=f.trim(a)))return{};for(var b=b||"=",d={},e,g=f.urlDecode,a=a.split(c||"&"),i=0,j=a.length;i<j;++i){e=a[i].indexOf(b);if(-1===e)c=g(a[i]),e=void 0;else{c=g(a[i].substring(0,e));e=a[i].substring(e+1);try{e=g(e)}catch(m){}f.endsWith(c,"[]")&&(c=c.substring(0,c.length-2))}c in d?f.isArray(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}return d},startsWith:function(a,
c){return 0===a.lastIndexOf(c,0)},endsWith:function(a,c){var b=a.length-c.length;return 0<=b&&a.indexOf(c,b)===b},trim:j?function(a){return null==a?"":j.call(a)}:function(a){return null==a?"":(a+"").replace(b,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},camelCase:function(a){return a.replace(g,m)},substitute:function(a,c,b){return"string"!==typeof a||!c?a:a.replace(b||d,function(a,b){return"\\"===a.charAt(0)?a.slice(1):
void 0===c[b]?"":c[b]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",["./base"],function(p,i){var e=i("./base"),m={},f=Object.prototype,d=f.toString;e.mix(e,{type:function(b){return null==b?""+b:m[d.call(b)]||"object"},isPlainObject:function(b){if(!b||"object"!==e.type(b)||b.nodeType||b.window==b)return!1;var a,c;try{if((c=b.constructor)&&!f.hasOwnProperty.call(b,"constructor")&&!f.hasOwnProperty.call(c.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(a in b);return void 0===a||f.hasOwnProperty.call(b,a)}});for(var b="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
j=0;j<b.length;j++)(function(b,a){m["[object "+b+"]"]=a=b.toLowerCase();e["is"+b]=function(b){return e.type(b)===a}})(b[j],j);e.isArray=Array.isArray||e.isArray});
KISSY.add("util/web",["./base"],function(p,i){function e(){if(!g){d&&d.setTimeout&&v(d,x,e);g=1;for(var b=0;b<a.length;b++)try{a[b](p)}catch(c){f.log(c.stack||c,"error"),setTimeout(function(){throw c;},0)}}}function m(){if(!b||b.readyState===y)e();else if(u(d,x,e),l){var a=function(){v(b,n,a);e()};u(b,n,a)}else{var f=function(){b.readyState===y&&(v(b,r,f),e())};u(b,r,f);var g,h=j&&j.doScroll;try{g=null===d.frameElement}catch(i){g=!1}if(h&&g){var k=function(){try{h("left"),e()}catch(a){setTimeout(k,
c)}};k()}}}var f=i("./base"),d=p.Env.host,b=d.document||{},j=b.documentElement,g=0,a=[],c=40,o=/^#?([\w-]+)$/,h=/\S/,l=b.addEventListener,k=b.attachEvent||l,n="DOMContentLoaded",r="readystatechange",x="load",y="complete",u=l?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},v=l?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};f.mix(f,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;
var b;try{d.DOMParser?b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=void 0}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+a);return b},globalEval:function(a){a&&h.test(a)&&(d.execScript?d.execScript(a):d.eval.call(d,a))},ready:function(b){if(g)try{b(p)}catch(c){f.log(c.stack||c,"error"),setTimeout(function(){throw c;},0)}else a.push(b);return this},available:function(a,d){var a=
(a+"").match(o)[1],e=1,g=f.later(function(){if(500<++e)g.cancel();else{var c=b.getElementById(a);c&&(d(c),g.cancel())}},c,!0)}});k&&m();try{b.execCommand("BackgroundImageCache",!1,!0)}catch(C){}});
