/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 8 11:55
*/
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(c,e){function k(d,f,a){var b=d,l,n,i,j;if(!d)return b;if(d[h])return a[d[h]].destination;if(typeof d==="object"){j=d.constructor;if(c.inArray(j,[Boolean,String,Number,Date,RegExp]))b=new j(d.valueOf());else if(l=c.isArray(d))b=f?c.filter(d,f):d.concat();else if(n=c.isPlainObject(d))b={};d[h]=j=c.guid("c");a[j]={destination:b,input:d}}if(l)for(d=0;d<b.length;d++)b[d]=k(b[d],f,a);else if(n)for(i in d)if(i!==
h&&(!f||f.call(d,d[i],i,d)!==g))b[i]=k(d[i],f,a);return b}var g=false,h="__~ks_cloned";c.mix=function(c,f){for(var a in f)c[a]=f[a];return c};e("util/array");e("util/escape");e("util/function");e("util/object");e("util/string");e("util/type");e("util/web");c.mix(c,{clone:function(d,f){var a={},b=k(d,f,a);c.each(a,function(b){b=b.input;if(b[h])try{delete b[h]}catch(a){b[h]=void 0}});a=null;return b}});return c});
KISSY.add("util/array",[],function(c){var e=Array.prototype,k=e.indexOf,g=e.lastIndexOf,h=e.filter,d=e.every,f=e.some,a=e.map;c.mix(c,{indexOf:k?function(b,a,c){return void 0===c?k.call(a,b):k.call(a,b,c)}:function(b,a,c){for(var c=c||0,i=a.length;c<i;++c)if(a[c]===b)return c;return-1},lastIndexOf:g?function(b,a,c){return void 0===c?g.call(a,b):g.call(a,b,c)}:function(b,a,c){for(void 0===c&&(c=a.length-1);0<=c&&a[c]!==b;c--);return c},unique:function(b,a){var d=b.slice();a&&d.reverse();for(var i=
0,j,m;i<d.length;){for(m=d[i];(j=c.lastIndexOf(m,d))!==i;)d.splice(j,1);i+=1}a&&d.reverse();return d},inArray:function(b,a){return-1<c.indexOf(b,a)},filter:h?function(b,a,c){return h.call(b,a,c||this)}:function(b,a,d){var i=[];c.each(b,function(b,c,q){a.call(d||this,b,c,q)&&i.push(b)});return i},map:a?function(b,c,d){return a.call(b,c,d||this)}:function(b,a,c){for(var d=b.length,j=Array(d),m=0;m<d;m++){var q="string"===typeof b?b.charAt(m):b[m];if(q||m in b)j[m]=a.call(c||this,q,m,b)}return j},reduce:function(b,
a,c){var d=b.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===d&&2===arguments.length)throw new TypeError("arguments invalid");var j=0,m;if(3<=arguments.length)m=c;else{do{if(j in b){m=b[j++];break}j+=1;if(j>=d)throw new TypeError;}while(1)}for(;j<d;)j in b&&(m=a.call(void 0,m,b[j],j,b)),j++;return m},every:d?function(b,a,c){return d.call(b,a,c||this)}:function(b,a,c){for(var d=b&&b.length||0,j=0;j<d;j++)if(j in b&&!a.call(c,b[j],j,b))return!1;return!0},some:f?
function(b,a,c){return f.call(b,a,c||this)}:function(b,a,c){for(var d=b&&b.length||0,j=0;j<d;j++)if(j in b&&a.call(c,b[j],j,b))return!0;return!1},makeArray:function(b){if(null==b)return[];if(c.isArray(b))return b;var a=typeof b.length,d=typeof b;if("number"!==a||"string"===typeof b.nodeName||null!=b&&b==b.window||"string"===d||"function"===d&&!("item"in b&&"number"===a))return[b];for(var a=[],d=0,f=b.length;d<f;d++)a[d]=b[d];return a}})});
KISSY.add("util/escape",[],function(c){var e={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},k={},g,h,d=/[&<>"'`]/,f=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in e)k[e[a]]=a})();g=function(){var a="",b;for(b in e)a+=e[b]+"|";a=a.slice(0,-1);return g=RegExp(a,"g")}();h=function(){var a="",b;for(b in k)a+=k[b]+"|";return h=RegExp(a+"&#(\\d{1,5});","g")}();c.mix(c,{escapeHtml:function(a){if(!a&&0!==a)return"";a=""+a;return!d.test(a)?a:(a+"").replace(g,
function(a){return k[a]})},escapeRegExp:function(a){return a.replace(f,"\\$&")},unEscapeHtml:function(a){return a.replace(h,function(a,c){return e[a]||String.fromCharCode(+c)})}});c.escapeHTML=c.escapeHtml;c.unEscapeHTML=c.unEscapeHtml});
KISSY.add("util/function",[],function(c){function e(c,g,h){function d(){}var f=[].slice,a=f.call(arguments,3),b=function(){var b=f.call(arguments);return g.apply(this instanceof d?this:h||this,c?b.concat(a):a.concat(b))};d.prototype=g.prototype;b.prototype=new d;return b}c.mix(c,{noop:function(){},bind:e(0,e,null,0),rbind:e(0,e,null,1),later:function(e,g,h,d,f){var g=g||0,a=e,b=c.makeArray(f),l;"string"===typeof e&&(a=d[e]);e=function(){a.apply(d,b)};l=h?setInterval(e,g):setTimeout(e,g);return{id:l,
interval:h,cancel:function(){this.interval?clearInterval(l):clearTimeout(l)}}},throttle:function(e,g,h){g=g||150;if(-1===g)return function(){e.apply(h||this,arguments)};var d=c.now();return function(){var f=c.now();f-d>g&&(d=f,e.apply(h||this,arguments))}},buffer:function(e,g,h){function d(){d.stop();f=c.later(e,g,0,h||this,arguments)}g=g||150;if(-1===g)return function(){e.apply(h||this,arguments)};var f=null;d.stop=function(){f&&(f.cancel(),f=0)};return d}})});
KISSY.add("util/object",[],function(c){function e(){}function k(b,m,q,f,e,i){if(!m||!b)return b;var g,l,s,A;m[d]=b;i.push(m);s=c.keys(m);A=s.length;for(g=0;g<A;g++)if(l=s[g],l!==d){var t=b,n=m,x=q,y=f,B=e,C=i;if(x||!(l in t)||B){var u=t[l],o=n[l];if(u===o)u===h&&(t[l]=u);else if(y&&(o=y.call(n,l,o)),B&&o&&(c.isArray(o)||c.isPlainObject(o)))o[d]?t[l]=o[d]:(n=u&&(c.isArray(u)||c.isPlainObject(u))?u:c.isArray(o)?[]:{},t[l]=n,k(n,o,x,y,a,C));else if(o!==h&&(x||!(l in t)))t[l]=o}}return b}function g(a,
b){return"constructor"===a?h:b}var h,d="__MIX_CIRCULAR",f=c.Env.host,a=!0,b={}.toString,l=Object.create,n=!{toString:1}.propertyIsEnumerable("toString"),i="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,b){for(var c in b)a[c]=b[c]})(c,{keys:Object.keys||function(b){var a=[],c,d;for(c in b)b.hasOwnProperty(c)&&a.push(c);if(n)for(d=i.length-1;0<=d;d--)c=i[d],b.hasOwnProperty(c)&&a.push(c);return a},each:function(a,d,f){if(a){var e,
i,g=0;e=a&&a.length;i=e===h||"[object Function]"===b.call(a);f=f||null;if(i)for(i=c.keys(a);g<i.length&&!(e=i[g],!1===d.call(f,a[e],e,a));g++);else for(i=a[0];g<e&&!1!==d.call(f,i,g,a);i=a[++g]);}return a},now:Date.now||function(){return+new Date},isArray:function(a){return"[object Array]"===b.call(a)},isEmptyObject:function(a){for(var b in a)if(b!==h)return!1;return!0},stamp:function(a,b,d){var d=d||"__~ks_stamped",f=a[d];if(!f&&!b)try{f=a[d]=c.guid(d)}catch(e){f=h}return f},mix:function(b,f,e,i,
g){"object"===typeof e&&(i=e.whitelist,g=e.deep,e=e.overwrite);if(i&&"function"!==typeof i)var l=i,i=function(a,b){return c.inArray(a,l)?b:h};e===h&&(e=a);var n=[],z=0;for(k(b,f,e,i,g,n);f=n[z++];)delete f[d];return b},merge:function(a){var a=c.makeArray(arguments),b={},d,f=a.length;for(d=0;d<f;d++)c.mix(b,a[d]);return b},augment:function(a,b){var d=c.makeArray(arguments),f=d.length-2,e=1,i,l,n=d[f],s=d[f+1];d[1]=b;c.isArray(s)||(n=s,s=h,f++);"boolean"!==typeof n&&(n=h,f++);for(;e<f;e++){l=d[e];if(i=
l.prototype)l=c.mix({},i,!0,g);c.mix(a.prototype,l,n,s)}return a},extend:function(a,b,d,f){var i=b.prototype;i.constructor=b;l?b=l(i):(e.prototype=i,b=new e);b.constructor=a;a.prototype=c.mix(b,a.prototype);a.superclass=i;d&&c.mix(b,d);f&&c.mix(a,f);return a},namespace:function(){var b=c.makeArray(arguments),d=b.length,e=null,i,g,h,l=b[d-1]===a&&d--;for(i=0;i<d;i++){h=(""+b[i]).split(".");e=l?f:this;for(g=f[h[0]]===e?1:0;g<h.length;++g)e=e[h[g]]=e[h[g]]||{}}return e}})});
KISSY.add("util/string",[],function(c){function e(a){var b=typeof a;return null==a||"object"!==b&&"function"!==b}function k(a,b){return b.toUpperCase()}var g=/\\?\{([^{}]+)\}/g,h=/-([a-z])/gi,d=/^[\s\xa0]+|[\s\xa0]+$/g,f=String.prototype.trim;c.mix(c,{param:function(a,b,d,f){b=b||"&";d=d||"=";void 0===f&&(f=!0);var i=[],g,h,k,v,p,r=c.urlEncode;for(g in a)if(p=a[g],g=r(g),e(p))i.push(g),void 0!==p&&i.push(d,r(p+"")),i.push(b);else if(c.isArray(p)&&p.length){h=0;for(v=p.length;h<v;++h)k=p[h],e(k)&&
(i.push(g,f?r("[]"):""),void 0!==k&&i.push(d,r(k+"")),i.push(b))}i.pop();return i.join("")},unparam:function(a,b,d){if("string"!==typeof a||!(a=c.trim(a)))return{};for(var d=d||"=",f={},e,g=c.urlDecode,a=a.split(b||"&"),h=0,k=a.length;h<k;++h){e=a[h].indexOf(d);if(-1===e)b=g(a[h]),e=void 0;else{b=g(a[h].substring(0,e));e=a[h].substring(e+1);try{e=g(e)}catch(v){}c.endsWith(b,"[]")&&(b=b.substring(0,b.length-2))}b in f?c.isArray(f[b])?f[b].push(e):f[b]=[f[b],e]:f[b]=e}return f},startsWith:function(a,
b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},trim:f?function(a){return null==a?"":f.call(a)}:function(a){return null==a?"":(a+"").replace(d,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},camelCase:function(a){return a.replace(h,k)},substitute:function(a,b,c){return"string"!==typeof a||!b?a:a.replace(c||g,function(a,c){return"\\"===a.charAt(0)?a.slice(1):
void 0===b[c]?"":b[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",[],function(c){var e={},k=Object.prototype,g=k.toString;c.mix(c,{type:function(c){return null==c?""+c:e[g.call(c)]||"object"},isPlainObject:function(d){if(!d||"object"!==c.type(d)||d.nodeType||d.window==d)return!1;var a,b;try{if((b=d.constructor)&&!k.hasOwnProperty.call(d,"constructor")&&!k.hasOwnProperty.call(b.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(a in d);return void 0===a||k.hasOwnProperty.call(d,a)}});for(var h="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
d=0;d<h.length;d++)(function(d,a){e["[object "+d+"]"]=a=d.toLowerCase();c["is"+d]=function(b){return c.type(b)===a}})(h[d],d);c.isArray=Array.isArray||c.isArray});
KISSY.add("util/web",[],function(c){function e(){if(!f){g&&g.setTimeout&&w(g,v,e);f=1;for(var b=0;b<a.length;b++)try{a[b](c)}catch(d){setTimeout(function(){throw d;},0)}}}function k(){if(!h||h.readyState===p)e();else if(r(g,v,e),i){var a=function(){w(h,m,a);e()};r(h,m,a)}else{var c=function(){h.readyState===p&&(w(h,q,c),e())};r(h,q,c);var f,j=d&&d.doScroll;try{f=null===g.frameElement}catch(l){f=!1}if(j&&f){var k=function(){try{j("left"),e()}catch(a){setTimeout(k,b)}};k()}}}var g=c.Env.host,h=g.document||
{},d=h.documentElement,f=0,a=[],b=40,l=/^#?([\w-]+)$/,n=/\S/,i=h.addEventListener,j=h.attachEvent||i,m="DOMContentLoaded",q="readystatechange",v="load",p="complete",r=i?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},w=i?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};c.mix(c,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{g.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=void 0}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&n.test(a)&&(g.execScript?g.execScript(a):g.eval.call(g,a))},ready:function(b){if(f)try{b(c)}catch(d){setTimeout(function(){throw d;},0)}else a.push(b);return this},available:function(a,d){var a=(a+"").match(l)[1],e=1,f=c.later(function(){if(500<++e)f.cancel();else{var b=h.getElementById(a);b&&(d(b),f.cancel())}},
b,!0)}});j&&k();try{h.execCommand("BackgroundImageCache",!1,!0)}catch(z){}});
