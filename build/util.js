/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 14 22:29
*/
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/json,util/web,util/base".split(","),function(l,h){h("util/array");h("util/escape");h("util/function");h("util/object");h("util/string");h("util/type");h("util/json");h("util/web");return h("util/base")});
KISSY.add("util/array",["./base"],function(l,h){var e=Array.prototype,k=e.indexOf,c=e.lastIndexOf,i=e.filter,d=e.every,g=e.some,f=h("./base"),a=e.map;f.mix(f,{indexOf:k?function(b,a,j){return void 0===j?k.call(a,b):k.call(a,b,j)}:function(b,a,j){for(var j=j||0,d=a.length;j<d;++j)if(a[j]===b)return j;return-1},lastIndexOf:c?function(b,a,j){return void 0===j?c.call(a,b):c.call(a,b,j)}:function(b,a,j){for(void 0===j&&(j=a.length-1);0<=j&&a[j]!==b;j--);return j},unique:function(b,a){var j=b.slice();a&&
j.reverse();for(var d=0,g,c;d<j.length;){for(c=j[d];(g=f.lastIndexOf(c,j))!==d;)j.splice(g,1);d+=1}a&&j.reverse();return j},inArray:function(b,a){return-1<f.indexOf(b,a)},filter:i?function(b,a,j){return i.call(b,a,j||this)}:function(b,a,j){var d=[];f.each(b,function(b,g,c){a.call(j||this,b,g,c)&&d.push(b)});return d},map:a?function(b,d,j){return a.call(b,d,j||this)}:function(b,a,d){for(var g=b.length,c=Array(g),f=0;f<g;f++){var e="string"===typeof b?b.charAt(f):b[f];if(e||f in b)c[f]=a.call(d||this,
e,f,b)}return c},reduce:function(b,a,d){var g=b.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===g&&2===arguments.length)throw new TypeError("arguments invalid");var c=0,f;if(3<=arguments.length)f=d;else{do{if(c in b){f=b[c++];break}c+=1;if(c>=g)throw new TypeError;}while(1)}for(;c<g;)c in b&&(f=a.call(void 0,f,b[c],c,b)),c++;return f},every:d?function(b,a,j){return d.call(b,a,j||this)}:function(b,a,d){for(var c=b&&b.length||0,g=0;g<c;g++)if(g in b&&!a.call(d,
b[g],g,b))return!1;return!0},some:g?function(b,a,d){return g.call(b,a,d||this)}:function(a,d,c){for(var g=a&&a.length||0,f=0;f<g;f++)if(f in a&&d.call(c,a[f],f,a))return!0;return!1},makeArray:function(a){if(null==a)return[];if(f.isArray(a))return a;var d=typeof a.length,c=typeof a;if("number"!==d||"string"===typeof a.nodeName||null!=a&&a==a.window||"string"===c||"function"===c&&!("item"in a&&"number"===d))return[a];for(var d=[],c=0,g=a.length;c<g;c++)d[c]=a[c];return d}})});
KISSY.add("util/base",[],function(){var l=0;return{mix:function(h,e){for(var k in e)h[k]=e[k];return h},guid:function(h){return(h||"")+l++}}});
KISSY.add("util/escape",["./base"],function(l,h){var e=h("./base"),k={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},c={},i,d,g=/[&<>"'`]/,f=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in k)c[k[a]]=a})();i=function(){var a="",b;for(b in k)a+=k[b]+"|";a=a.slice(0,-1);return i=RegExp(a,"g")}();d=function(){var a="",b;for(b in c)a+=c[b]+"|";return d=RegExp(a+"&#(\\d{1,5});","g")}();e.mix(e,{escapeHtml:function(a){if(!a&&0!==a)return"";a=""+a;return!g.test(a)?
a:(a+"").replace(i,function(a){return c[a]})},escapeRegExp:function(a){return a.replace(f,"\\$&")},unEscapeHtml:function(a){return a.replace(d,function(a,d){return k[a]||String.fromCharCode(+d)})}});e.escapeHTML=e.escapeHtml;e.unEscapeHTML=e.unEscapeHtml});
KISSY.add("util/function",["./base"],function(l,h){function e(c,e,d){function g(){}var f=[].slice,a=f.call(arguments,3),b=function(){var b=f.call(arguments);return e.apply(this instanceof g?this:d||this,c?b.concat(a):a.concat(b))};g.prototype=e.prototype;b.prototype=new g;return b}var k=h("./base");k.mix(k,{noop:function(){},bind:e(0,e,null,0),rbind:e(0,e,null,1),later:function(c,e,d,g,f){var e=e||0,a=c,b=k.makeArray(f),h;"string"===typeof c&&(a=g[c]);a||k.error("method undefine");c=function(){a.apply(g,
b)};h=d?setInterval(c,e):setTimeout(c,e);return{id:h,interval:d,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},throttle:function(c,e,d){e=e||150;if(-1===e)return function(){c.apply(d||this,arguments)};var g=k.now();return function(){var f=k.now();f-g>e&&(g=f,c.apply(d||this,arguments))}},buffer:function(c,e,d){function g(){g.stop();f=k.later(c,e,0,d||this,arguments)}e=e||150;if(-1===e)return function(){c.apply(d||this,arguments)};var f=null;g.stop=function(){f&&(f.cancel(),f=
0)};return g}})});
KISSY.add("util/object",["./base"],function(l,h){function e(){}function k(a,c,t,e,f,m){if(!c||!a)return a;var o,r,h,n;c[b]=a;m.push(c);h=d.keys(c);n=h.length;for(o=0;o<n;o++)if(r=h[o],r!==b){var i=a,s=c,v=t,u=e,l=f,w=m;if(v||!(r in i)||l){var x=i[r],p=s[r];if(x===p)x===g&&(i[r]=x);else if(u&&(p=u.call(s,r,p)),l&&p&&(d.isArray(p)||d.isPlainObject(p)))p[b]?i[r]=p[b]:(s=x&&(d.isArray(x)||d.isPlainObject(x))?x:d.isArray(p)?[]:{},i[r]=s,k(s,p,v,u,j,w));else if(p!==g&&(v||!(r in i)))i[r]=p}}return a}function c(a,
b){return"constructor"===a?g:b}function i(b,c,g){var e=b,j,m,o,h;if(!b)return e;if(b[a])return g[b[a]].destination;if("object"===typeof b){h=b.constructor;if(d.inArray(h,[Boolean,String,Number,Date,RegExp]))e=new h(b.valueOf());else if(j=d.isArray(b))e=c?d.filter(b,c):b.concat();else if(m=d.isPlainObject(b))e={};b[a]=h=d.guid("c");g[h]={destination:e,input:b}}if(j)for(b=0;b<e.length;b++)e[b]=i(e[b],c,g);else if(m)for(o in b)if(o!==a&&(!c||c.call(b,b[o],o,b)!==f))e[o]=i(b[o],c,g);return e}var d=h("./base"),
g,f=!1,a="__~ks_cloned",b="__MIX_CIRCULAR",s=l.Env.host,j=!0,n={}.toString,u=Object.create,v=!{toString:1}.propertyIsEnumerable("toString"),w="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,b){for(var d in b)a[d]=b[d]})(d,{keys:Object.keys||function(a){var b=[],d,c;for(d in a)a.hasOwnProperty(d)&&b.push(d);if(v)for(c=w.length-1;0<=c;c--)d=w[c],a.hasOwnProperty(d)&&b.push(d);return b},each:function(a,b,c){if(a){var e,f,m=0;e=a&&
a.length;f=e===g||"[object Function]"===n.call(a);c=c||null;if(f)for(f=d.keys(a);m<f.length&&!(e=f[m],!1===b.call(c,a[e],e,a));m++);else for(f=a[0];m<e&&!1!==b.call(c,f,m,a);f=a[++m]);}return a},now:Date.now||function(){return+new Date},isEmptyObject:function(a){for(var b in a)if(b!==g)return!1;return!0},stamp:function(a,b,c){var c=c||"__~ks_stamped",e=a[c];if(!e&&!b)try{e=a[c]=d.guid(c)}catch(f){e=g}return e},mix:function(a,c,e,f,h){"object"===typeof e&&(f=e.whitelist,h=e.deep,e=e.overwrite);if(f&&
"function"!==typeof f)var m=f,f=function(a,b){return d.inArray(a,m)?b:g};e===g&&(e=j);var o=[],i=0;for(k(a,c,e,f,h,o);c=o[i++];)delete c[b];return a},merge:function(a){var a=d.makeArray(arguments),b={},c,e=a.length;for(c=0;c<e;c++)d.mix(b,a[c]);return b},augment:function(a,b){var e=d.makeArray(arguments),f=e.length-2,j=1,m,h,i=e[f],n=e[f+1];e[1]=b;d.isArray(n)||(i=n,n=g,f++);"boolean"!==typeof i&&(i=g,f++);for(;j<f;j++){h=e[j];if(m=h.prototype)h=d.mix({},m,!0,c);d.mix(a.prototype,h,i,n)}return a},
extend:function(a,b,c,f){var g=b.prototype;g.constructor=b;u?b=u(g):(e.prototype=g,b=new e);b.constructor=a;a.prototype=d.mix(b,a.prototype);a.superclass=g;c&&d.mix(b,c);f&&d.mix(a,f);return a},namespace:function(){var a=d.makeArray(arguments),b=a.length,c=null,e,f,g;for(e=0;e<b;e++){g=(""+a[e]).split(".");c=s;for(f=s[g[0]]===c?1:0;f<g.length;++f)c=c[g[f]]=c[g[f]]||{}}return c},clone:function(b,c){var e={},f=i(b,c,e);d.each(e,function(b){b=b.input;if(b[a])try{delete b[a]}catch(c){b[a]=void 0}});e=
null;return f}})});
KISSY.add("util/string",["./base"],function(l,h){function e(a){var b=typeof a;return null==a||"object"!==b&&"function"!==b}function k(a,b){return b.toUpperCase()}var c=h("./base"),i=/\\?\{([^{}]+)\}/g,d=/^[\s\xa0]+|[\s\xa0]+$/g,g=String.prototype.trim,f=/-([a-z])/gi;c.mix(c,{param:function(a,b,d,f){b=b||"&";d=d||"=";void 0===f&&(f=!0);var g=[],h,i,k,l,q,t=c.urlEncode;for(h in a)if(q=a[h],h=t(h),e(q))g.push(h),void 0!==q&&g.push(d,t(q+"")),g.push(b);else if(c.isArray(q)&&q.length){i=0;for(l=q.length;i<
l;++i)k=q[i],e(k)&&(g.push(h,f?t("[]"):""),void 0!==k&&g.push(d,t(k+"")),g.push(b))}g.pop();return g.join("")},unparam:function(a,b,e){if("string"!==typeof a||!(a=c.trim(a)))return{};for(var e=e||"=",d={},f,g=c.urlDecode,a=a.split(b||"&"),h=0,i=a.length;h<i;++h){f=a[h].indexOf(e);if(-1===f)b=g(a[h]),f=void 0;else{b=g(a[h].substring(0,f));f=a[h].substring(f+1);try{f=g(f)}catch(k){}c.endsWith(b,"[]")&&(b=b.substring(0,b.length-2))}b in d?c.isArray(d[b])?d[b].push(f):d[b]=[d[b],f]:d[b]=f}return d},startsWith:function(a,
b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},trim:g?function(a){return null==a?"":g.call(a)}:function(a){return null==a?"":(a+"").replace(d,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},camelCase:function(a){return a.replace(f,k)},substitute:function(a,b,c){return"string"!==typeof a||!b?a:a.replace(c||i,function(a,c){return"\\"===a.charAt(0)?a.slice(1):
void 0===b[c]?"":b[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",["./base"],function(l,h){var e=h("./base"),k={},c=Object.prototype,i=c.toString;e.mix(e,{type:function(c){return null==c?""+c:k[i.call(c)]||"object"},isPlainObject:function(d){if(!d||"object"!==e.type(d)||d.nodeType||d.window==d)return!1;var a,b;try{if((b=d.constructor)&&!c.hasOwnProperty.call(d,"constructor")&&!c.hasOwnProperty.call(b.prototype,"isPrototypeOf"))return!1}catch(g){return!1}for(a in d);return void 0===a||c.hasOwnProperty.call(d,a)}});for(var d="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
g=0;g<d.length;g++)(function(c,a){k["[object "+c+"]"]=a=c.toLowerCase();e["is"+c]=function(b){return e.type(b)===a}})(d[g],g);e.isArray=Array.isArray||e.isArray});
KISSY.add("util/json",["./base"],function(l,h){var e=h("./base"),k=/^[\],:{}\s]*$/,c=/(?:^|:|,)(?:\s*\[)+/g,i=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,d=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;e.parseJson=function(g){return null===g?g:"string"===typeof g&&(g=e.trim(g))&&k.test(g.replace(i,"@").replace(d,"]").replace(c,""))?(new Function("return "+g))():e.error("Invalid Json: "+g)}});
KISSY.add("util/web",["./base"],function(l,h){function e(){if(!f){i&&i.setTimeout&&y(i,z,e);f=1;for(var b=0;b<a.length;b++)try{a[b](l)}catch(c){setTimeout(function(){throw c;},0)}}}function k(){if(!d||d.readyState===q)e();else if(t(i,z,e),n){var a=function(){y(d,v,a);e()};t(d,v,a)}else{var c=function(){d.readyState===q&&(y(d,w,c),e())};t(d,w,c);var f,h=g&&g.doScroll;try{f=null===i.frameElement}catch(j){f=!1}if(h&&f){var k=function(){try{h("left"),e()}catch(a){setTimeout(k,b)}};k()}}}var c=h("./base"),
i=l.Env.host,d=i.document||{},g=d.documentElement,f=0,a=[],b=40,s=/^#?([\w-]+)$/,j=/\S/,n=d.addEventListener,u=d.attachEvent||n,v="DOMContentLoaded",w="readystatechange",z="load",q="complete",t=n?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},y=n?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};c.mix(c,{isWindow:function(a){return null!=a&&a==a.window},parseXml:function(a){if(a.documentElement)return a;var b;try{i.DOMParser?
b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(d){b=void 0}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&c.error("Invalid XML: "+a);return b},globalEval:function(a){a&&j.test(a)&&(i.execScript?i.execScript(a):i.eval.call(i,a))},ready:function(b){if(f)try{b(l)}catch(c){setTimeout(function(){throw c;},0)}else a.push(b);return this},available:function(a,e){var a=(a+"").match(s)[1],f=1,g=c.later(function(){if(500<
++f)g.cancel();else{var b=d.getElementById(a);b&&(e(b),g.cancel())}},b,!0)}});c.parserXML=c.parseXml;u&&k();try{d.execCommand("BackgroundImageCache",!1,!0)}catch(A){}});
