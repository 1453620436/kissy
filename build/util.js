/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 15 20:29
*/
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/json,util/web,util/base".split(","),function(p,i){i("util/array");i("util/escape");i("util/function");i("util/object");i("util/string");i("util/type");i("util/json");i("util/web");return i("util/base")});
KISSY.add("util/array",["./base"],function(p,i){var c=Array.prototype,m=c.indexOf,b=c.lastIndexOf,l=c.filter,k=c.every,h=c.some,e=i("./base"),a=c.map;e.mix(e,{indexOf:m?function(g,a,d){return void 0===d?m.call(a,g):m.call(a,g,d)}:function(g,a,d){for(var d=d||0,j=a.length;d<j;++d)if(a[d]===g)return d;return-1},lastIndexOf:b?function(a,f,d){return void 0===d?b.call(f,a):b.call(f,a,d)}:function(a,f,d){for(void 0===d&&(d=f.length-1);0<=d&&f[d]!==a;d--);return d},unique:function(a,f){var d=a.slice();f&&
d.reverse();for(var j=0,c,b;j<d.length;){for(b=d[j];(c=e.lastIndexOf(b,d))!==j;)d.splice(c,1);j+=1}f&&d.reverse();return d},inArray:function(a,f){return-1<e.indexOf(a,f)},filter:l?function(a,f,d){return l.call(a,f,d||this)}:function(a,f,d){var j=[];e.each(a,function(a,g,c){f.call(d||this,a,g,c)&&j.push(a)});return j},map:a?function(g,f,d){return a.call(g,f,d||this)}:function(a,f,d){for(var j=a.length,c=Array(j),b=0;b<j;b++){var e="string"===typeof a?a.charAt(b):a[b];if(e||b in a)c[b]=f.call(d||this,
e,b,a)}return c},reduce:function(a,f,d){var j=a.length;if("function"!==typeof f)throw new TypeError("callback is not function!");if(0===j&&2===arguments.length)throw new TypeError("arguments invalid");var b=0,c;if(3<=arguments.length)c=d;else{do{if(b in a){c=a[b++];break}b+=1;if(b>=j)throw new TypeError;}while(1)}for(;b<j;)b in a&&(c=f.call(void 0,c,a[b],b,a)),b++;return c},every:k?function(a,b,d){return k.call(a,b,d||this)}:function(a,b,d){for(var c=a&&a.length||0,e=0;e<c;e++)if(e in a&&!b.call(d,
a[e],e,a))return!1;return!0},some:h?function(a,b,d){return h.call(a,b,d||this)}:function(a,b,d){for(var c=a&&a.length||0,e=0;e<c;e++)if(e in a&&b.call(d,a[e],e,a))return!0;return!1},makeArray:function(a){if(null==a)return[];if(e.isArray(a))return a;var b=typeof a.length,d=typeof a;if("number"!==b||"string"===typeof a.nodeName||null!=a&&a==a.window||"string"===d||"function"===d&&!("item"in a&&"number"===b))return[a];for(var b=[],d=0,c=a.length;d<c;d++)b[d]=a[d];return b}})});
KISSY.add("util/base",[],function(){var p=0;return{mix:function(i,c){for(var m in c)i[m]=c[m];return i},guid:function(i){return(i||"")+p++}}});
KISSY.add("util/escape",["./base"],function(p,i){var c=i("./base"),m={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},b={},l,k,h=/[&<>"'`]/,e=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in m)b[m[a]]=a})();l=function(){var a="",b;for(b in m)a+=m[b]+"|";a=a.slice(0,-1);return l=RegExp(a,"g")}();k=function(){var a="",c;for(c in b)a+=b[c]+"|";return k=RegExp(a+"&#(\\d{1,5});","g")}();c.mix(c,{escapeHtml:function(a){if(!a&&0!==a)return"";a=""+a;return!h.test(a)?
a:(a+"").replace(l,function(a){return b[a]})},escapeRegExp:function(a){return a.replace(e,"\\$&")},unEscapeHtml:function(a){return a.replace(k,function(a,b){return m[a]||String.fromCharCode(+b)})}});c.escapeHTML=c.escapeHtml;c.unEscapeHTML=c.unEscapeHtml});
KISSY.add("util/function",["./base"],function(p,i){function c(b,c,k){function h(){}var e=[].slice,a=e.call(arguments,3),g=function(){var g=e.call(arguments);return c.apply(this instanceof h?this:k||this,b?g.concat(a):a.concat(g))};h.prototype=c.prototype;g.prototype=new h;return g}var m=i("./base");m.mix(m,{noop:function(){},bind:c(0,c,null,0),rbind:c(0,c,null,1),later:function(b,c,k,h,e){var c=c||0,a=b,g=m.makeArray(e),f;"string"===typeof b&&(a=h[b]);a||m.error("method undefine");b=function(){a.apply(h,
g)};f=k?setInterval(b,c):setTimeout(b,c);return{id:f,interval:k,cancel:function(){this.interval?clearInterval(f):clearTimeout(f)}}},throttle:function(b,c,k){c=c||150;if(-1===c)return function(){b.apply(k||this,arguments)};var h=m.now();return function(){var e=m.now();e-h>c&&(h=e,b.apply(k||this,arguments))}},buffer:function(b,c,k){function h(){h.stop();e=m.later(b,c,0,k||this,arguments)}c=c||150;if(-1===c)return function(){b.apply(k||this,arguments)};var e=null;h.stop=function(){e&&(e.cancel(),e=
0)};return h}})});
KISSY.add("util/object",["./base"],function(p,i){function c(a,c){return null!==a&&void 0!==a&&void 0!==a[c]}function m(a,c,b){delete a[q];delete c[q];return b}function b(o,b){if(o[q]===b&&b[q]===o)return!0;o[q]=b;b[q]=o;for(var d in b)if(!c(o,d)&&c(b,d))return m(o,b,!1);for(d in o)if(!c(b,d)&&c(o,d))return m(o,b,!1);for(d in b)if(d!==q&&!a.equals(o[d],b[d]))return m(o,b,!1);return a.isArray(o)&&a.isArray(b)&&o.length!==b.length?m(o,b,!1):m(o,b,!0)}function l(){}function k(o,b,c,n,v,e){if(!b||!o)return o;
var j,f,h,m;b[g]=o;e.push(b);h=a.keys(b);m=h.length;for(j=0;j<m;j++)if(f=h[j],f!==g){var i=o,l=b,q=c,p=n,u=v,t=e;if(q||!(f in i)||u){var r=i[f],s=l[f];if(r===s)r===d&&(i[f]=r);else if(p&&(s=p.call(l,f,s)),u&&s&&(a.isArray(s)||a.isPlainObject(s)))s[g]?i[f]=s[g]:(l=r&&(a.isArray(r)||a.isPlainObject(r))?r:a.isArray(s)?[]:{},i[f]=l,k(l,s,q,p,!0,t));else if(s!==d&&(q||!(f in i)))i[f]=s}}return o}function h(a,b){return"constructor"===a?d:b}function e(b,c,d){var n=b,v,g,f,h;if(!b)return n;if(b[j])return d[b[j]].destination;
if("object"===typeof b){h=b.constructor;if(a.inArray(h,[Boolean,String,Number,Date,RegExp]))n=new h(b.valueOf());else if(v=a.isArray(b))n=c?a.filter(b,c):b.concat();else if(g=a.isPlainObject(b))n={};b[j]=h=a.guid("c");d[h]={destination:n,input:b}}if(v)for(b=0;b<n.length;b++)n[b]=e(n[b],c,d);else if(g)for(f in b)if(f!==j&&(!c||!1!==c.call(b,b[f],f,b)))n[f]=e(b[f],c,d);return n}var a=i("./base"),g="__MIX_CIRCULAR",f=p.Env.host,d,j="__~ks_cloned",u={}.toString,q="__~ks_compared",r=Object.create,w=!{toString:1}.propertyIsEnumerable("toString"),
t="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,b){for(var c in b)a[c]=b[c]})(a,{equals:function(a,c){return a===c?!0:a===d||null===a||c===d||null===c?null==a&&null==c:a instanceof Date&&c instanceof Date?a.getTime()===c.getTime():"string"===typeof a&&"string"===typeof c||"number"===typeof a&&"number"===typeof c?a===c:"object"===typeof a&&"object"===typeof c?b(a,c):a===c},keys:Object.keys||function(a){var b=[],c,d;for(c in a)a.hasOwnProperty(c)&&
b.push(c);if(w)for(d=t.length-1;0<=d;d--)c=t[d],a.hasOwnProperty(c)&&b.push(c);return b},each:function(b,c,e){if(b){var n,g,f=0;n=b&&b.length;g=n===d||"[object Function]"===u.call(b);e=e||null;if(g)for(g=a.keys(b);f<g.length&&!(n=g[f],!1===c.call(e,b[n],n,b));f++);else for(g=b[0];f<n&&!1!==c.call(e,g,f,b);g=b[++f]);}return b},now:Date.now||function(){return+new Date},isEmptyObject:function(a){for(var b in a)if(b!==d)return!1;return!0},stamp:function(b,c,g){var g=g||"__~ks_stamped",n=b[g];if(!n&&!c)try{n=
b[g]=a.guid(g)}catch(f){n=d}return n},mix:function(b,c,f,n,e){"object"===typeof f&&(n=f.whitelist,e=f.deep,f=f.overwrite);if(n&&"function"!==typeof n)var j=n,n=function(b,c){return a.inArray(b,j)?c:d};f===d&&(f=!0);var h=[],i=0;for(k(b,c,f,n,e,h);c=h[i++];)delete c[g];return b},merge:function(b){var b=a.makeArray(arguments),c={},d,n=b.length;for(d=0;d<n;d++)a.mix(c,b[d]);return c},augment:function(b,c){var f=a.makeArray(arguments),n=f.length-2,g=1,e,j,i=f[n],k=f[n+1];f[1]=c;a.isArray(k)||(i=k,k=d,
n++);"boolean"!==typeof i&&(i=d,n++);for(;g<n;g++){j=f[g];if(e=j.prototype)j=a.mix({},e,!0,h);a.mix(b.prototype,j,i,k)}return b},extend:function(b,c,d,f){var g=c.prototype;g.constructor=c;r?c=r(g):(l.prototype=g,c=new l);c.constructor=b;b.prototype=a.mix(c,b.prototype);b.superclass=g;d&&a.mix(c,d);f&&a.mix(b,f);return b},namespace:function(){var b=a.makeArray(arguments),c=b.length,d=null,g,e,j;for(g=0;g<c;g++){j=(""+b[g]).split(".");d=f;for(e=f[j[0]]===d?1:0;e<j.length;++e)d=d[j[e]]=d[j[e]]||{}}return d},
clone:function(b,c){var d={},g=e(b,c,d);a.each(d,function(a){a=a.input;if(a[j])try{delete a[j]}catch(b){a[j]=void 0}});d=null;return g}})});
KISSY.add("util/string",["./base"],function(p,i){function c(a){var b=typeof a;return null==a||"object"!==b&&"function"!==b}function m(a,b){return b.toUpperCase()}var b=i("./base"),l=/\\?\{([^{}]+)\}/g,k=/^[\s\xa0]+|[\s\xa0]+$/g,h=String.prototype.trim,e=/-([a-z])/gi;b.mix(b,{param:function(a,g,f,d){g=g||"&";f=f||"=";void 0===d&&(d=!0);var e=[],h,i,k,m,l,o=b.urlEncode;for(h in a)if(l=a[h],h=o(h),c(l))e.push(h),void 0!==l&&e.push(f,o(l+"")),e.push(g);else if(b.isArray(l)&&l.length){i=0;for(m=l.length;i<
m;++i)k=l[i],c(k)&&(e.push(h,d?o("[]"):""),void 0!==k&&e.push(f,o(k+"")),e.push(g))}e.pop();return e.join("")},unparam:function(a,c,e){if("string"!==typeof a||!(a=b.trim(a)))return{};for(var e=e||"=",d={},j,h=b.urlDecode,a=a.split(c||"&"),i=0,k=a.length;i<k;++i){j=a[i].indexOf(e);if(-1===j)c=h(a[i]),j=void 0;else{c=h(a[i].substring(0,j));j=a[i].substring(j+1);try{j=h(j)}catch(l){}b.endsWith(c,"[]")&&(c=c.substring(0,c.length-2))}c in d?b.isArray(d[c])?d[c].push(j):d[c]=[d[c],j]:d[c]=j}return d},startsWith:function(a,
b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},trim:h?function(a){return null==a?"":h.call(a)}:function(a){return null==a?"":(a+"").replace(k,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},camelCase:function(a){return a.replace(e,m)},substitute:function(a,b,c){return"string"!==typeof a||!b?a:a.replace(c||l,function(a,c){return"\\"===a.charAt(0)?a.slice(1):
void 0===b[c]?"":b[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",["./base"],function(p,i){var c=i("./base"),m={},b=Object.prototype,l=b.toString;c.mix(c,{type:function(b){return null==b?""+b:m[l.call(b)]||"object"},isPlainObject:function(e){if(!e||"object"!==c.type(e)||e.nodeType||e.window==e)return!1;var a,g;try{if((g=e.constructor)&&!b.hasOwnProperty.call(e,"constructor")&&!b.hasOwnProperty.call(g.prototype,"isPrototypeOf"))return!1}catch(f){return!1}for(a in e);return void 0===a||b.hasOwnProperty.call(e,a)}});for(var k="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
h=0;h<k.length;h++)(function(b,a){m["[object "+b+"]"]=a=b.toLowerCase();c["is"+b]=function(b){return c.type(b)===a}})(k[h],h);c.isArray=Array.isArray||c.isArray});
KISSY.add("util/json",["./base"],function(p,i){var c=i("./base"),m=/^[\],:{}\s]*$/,b=/(?:^|:|,)(?:\s*\[)+/g,l=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,k=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;c.parseJson=function(h){return null===h?h:"string"===typeof h&&(h=c.trim(h))&&m.test(h.replace(l,"@").replace(k,"]").replace(b,""))?(new Function("return "+h))():c.error("Invalid Json: "+h)}});
KISSY.add("util/web",["./base"],function(p,i){function c(){if(!e){l&&l.setTimeout&&x(l,w,c);e=1;for(var b=0;b<a.length;b++)try{a[b](p)}catch(d){setTimeout(function(){throw d;},0)}}}function m(){if(!k||k.readyState===t)c();else if(o(l,w,c),j){var a=function(){x(k,q,a);c()};o(k,q,a)}else{var b=function(){k.readyState===t&&(x(k,r,b),c())};o(k,r,b);var d,e=h&&h.doScroll;try{d=null===l.frameElement}catch(f){d=!1}if(e&&d){var i=function(){try{e("left"),c()}catch(a){setTimeout(i,g)}};i()}}}var b=i("./base"),
l=p.Env.host,k=l.document||{},h=k.documentElement,e=0,a=[],g=40,f=/^#?([\w-]+)$/,d=/\S/,j=k.addEventListener,u=k.attachEvent||j,q="DOMContentLoaded",r="readystatechange",w="load",t="complete",o=j?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},x=j?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};b.mix(b,{isWindow:function(a){return null!=a&&a==a.window},parseXml:function(a){if(a.documentElement)return a;var c;try{l.DOMParser?
c=(new DOMParser).parseFromString(a,"text/xml"):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a))}catch(d){c=void 0}(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)&&b.error("Invalid XML: "+a);return c},globalEval:function(a){a&&d.test(a)&&(l.execScript?l.execScript(a):l.eval.call(l,a))},ready:function(b){if(e)try{b(p)}catch(c){setTimeout(function(){throw c;},0)}else a.push(b);return this},available:function(a,c){var a=(a+"").match(f)[1],d=1,e=b.later(function(){if(500<
++d)e.cancel();else{var b=k.getElementById(a);b&&(c(b),e.cancel())}},g,!0)}});b.parserXML=b.parseXml;u&&m();try{k.execCommand("BackgroundImageCache",!1,!0)}catch(y){}});
