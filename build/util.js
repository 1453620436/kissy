/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Apr 15 17:57
*/
KISSY.add("util/array",function(d){var e=Array.prototype,j=e.indexOf,f=e.lastIndexOf,g=e.filter,c=e.every,h=e.some,a=e.map;d.mix(d,{indexOf:j?function(b,a,d){return void 0===d?j.call(a,b):j.call(a,b,d)}:function(b,a,d){for(var d=d||0,c=a.length;d<c;++d)if(a[d]===b)return d;return-1},lastIndexOf:f?function(b,a,d){return void 0===d?f.call(a,b):f.call(a,b,d)}:function(b,a,d){for(void 0===d&&(d=a.length-1);0<=d&&a[d]!==b;d--);return d},unique:function(b,a){var c=b.slice();a&&c.reverse();for(var i=0,k,
m;i<c.length;){for(m=c[i];(k=d.lastIndexOf(m,c))!==i;)c.splice(k,1);i+=1}a&&c.reverse();return c},inArray:function(b,a){return-1<d.indexOf(b,a)},filter:g?function(b,a,d){return g.call(b,a,d||this)}:function(b,a,c){var i=[];d.each(b,function(b,d,q){a.call(c||this,b,d,q)&&i.push(b)});return i},map:a?function(b,d,c){return a.call(b,d,c||this)}:function(b,a,d){for(var c=b.length,k=Array(c),m=0;m<c;m++){var q="string"===typeof b?b.charAt(m):b[m];if(q||m in b)k[m]=a.call(d||this,q,m,b)}return k},reduce:function(b,
a,d){var c=b.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===c&&2===arguments.length)throw new TypeError("arguments invalid");var k=0,m;if(3<=arguments.length)m=d;else{do{if(k in b){m=b[k++];break}k+=1;if(k>=c)throw new TypeError;}while(1)}for(;k<c;)k in b&&(m=a.call(void 0,m,b[k],k,b)),k++;return m},every:c?function(b,a,d){return c.call(b,a,d||this)}:function(b,a,d){for(var c=b&&b.length||0,k=0;k<c;k++)if(k in b&&!a.call(d,b[k],k,b))return!1;return!0},some:h?
function(b,a,d){return h.call(b,a,d||this)}:function(b,a,d){for(var c=b&&b.length||0,k=0;k<c;k++)if(k in b&&a.call(d,b[k],k,b))return!0;return!1},makeArray:function(b){if(null==b)return[];if(d.isArray(b))return b;var a=typeof b.length,c=typeof b;if("number"!==a||"string"===typeof b.nodeName||null!=b&&b==b.window||"string"===c||"function"===c&&!("item"in b&&"number"===a))return[b];for(var a=[],c=0,h=b.length;c<h;c++)a[c]=b[c];return a}})});
KISSY.add("util/escape",function(d){var e={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},j={},f,g,c=/[&<>"'`]/,h=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in e)j[e[a]]=a})();f=function(){var a="",b;for(b in e)a+=e[b]+"|";a=a.slice(0,-1);return f=RegExp(a,"g")}();g=function(){var a="",b;for(b in j)a+=j[b]+"|";return g=RegExp(a+"&#(\\d{1,5});","g")}();d.mix(d,{escapeHtml:function(a){if(!a&&0!==a)return"";a=""+a;return!c.test(a)?a:(a+"").replace(f,function(a){return j[a]})},
escapeRegExp:function(a){return a.replace(h,"\\$&")},unEscapeHtml:function(a){return a.replace(g,function(a,d){return e[a]||String.fromCharCode(+d)})}});d.escapeHTML=d.escapeHtml;d.unEscapeHTML=d.unEscapeHtml});
KISSY.add("util/function",function(d){function e(d,f,g){function c(){}var h=[].slice,a=h.call(arguments,3),b=function(){var b=h.call(arguments);return f.apply(this instanceof c?this:g||this,d?b.concat(a):a.concat(b))};c.prototype=f.prototype;b.prototype=new c;return b}d.mix(d,{noop:function(){},bind:e(0,e,null,0),rbind:e(0,e,null,1),later:function(e,f,g,c,h){var f=f||0,a=e,b=d.makeArray(h),l;"string"===typeof e&&(a=c[e]);e=function(){a.apply(c,b)};l=g?setInterval(e,f):setTimeout(e,f);return{id:l,
interval:g,cancel:function(){this.interval?clearInterval(l):clearTimeout(l)}}},throttle:function(e,f,g){f=f||150;if(-1===f)return function(){e.apply(g||this,arguments)};var c=d.now();return function(){var h=d.now();h-c>f&&(c=h,e.apply(g||this,arguments))}},buffer:function(e,f,g){function c(){c.stop();h=d.later(e,f,0,g||this,arguments)}f=f||150;if(-1===f)return function(){e.apply(g||this,arguments)};var h=null;c.stop=function(){h&&(h.cancel(),h=0)};return c}})});
KISSY.add("util/object",function(d){function e(){}function j(b,m,q,h,e,f){if(!m||!b)return b;var i,l,n,A;m[c]=b;f.push(m);n=d.keys(m);A=n.length;for(i=0;i<A;i++)if(l=n[i],l!==c){var s=b,w=m,y=q,z=h,B=e,C=f;if(y||!(l in s)||B){var t=s[l],o=w[l];if(t===o)t===g&&(s[l]=t);else if(z&&(o=z.call(w,l,o)),B&&o&&(d.isArray(o)||d.isPlainObject(o)))o[c]?s[l]=o[c]:(w=t&&(d.isArray(t)||d.isPlainObject(t))?t:d.isArray(o)?[]:{},s[l]=w,j(w,o,y,z,a,C));else if(o!==g&&(y||!(l in s)))s[l]=o}}return b}function f(a,b){return"constructor"===
a?g:b}var g,c="__MIX_CIRCULAR",h=d.Env.host,a=!0,b={}.toString,l=Object.create,n=!{toString:1}.propertyIsEnumerable("toString"),i="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,b){for(var d in b)a[d]=b[d]})(d,{keys:Object.keys||function(a){var b=[],d,c;for(d in a)a.hasOwnProperty(d)&&b.push(d);if(n)for(c=i.length-1;0<=c;c--)d=i[c],a.hasOwnProperty(d)&&b.push(d);return b},each:function(a,c,h){if(a){var e,f,i=0;e=a&&a.length;f=
e===g||"[object Function]"===b.call(a);h=h||null;if(f)for(f=d.keys(a);i<f.length&&!(e=f[i],!1===c.call(h,a[e],e,a));i++);else for(f=a[0];i<e&&!1!==c.call(h,f,i,a);f=a[++i]);}return a},now:Date.now||function(){return+new Date},isArray:function(a){return"[object Array]"===b.call(a)},isEmptyObject:function(a){for(var b in a)if(b!==g)return!1;return!0},stamp:function(a,b,c){var c=c||"__~ks_stamped",h=a[c];if(!h&&!b)try{h=a[c]=d.guid(c)}catch(e){h=g}return h},mix:function(b,h,e,f,i){"object"===typeof e&&
(f=e.whitelist,i=e.deep,e=e.overwrite);if(f&&"function"!==typeof f)var l=f,f=function(a,b){return d.inArray(a,l)?b:g};e===g&&(e=a);var n=[],v=0;for(j(b,h,e,f,i,n);h=n[v++];)delete h[c];return b},merge:function(a){var a=d.makeArray(arguments),b={},c,h=a.length;for(c=0;c<h;c++)d.mix(b,a[c]);return b},augment:function(a,b){var c=d.makeArray(arguments),h=c.length-2,e=1,i,l,n=c[h],j=c[h+1];c[1]=b;d.isArray(j)||(n=j,j=g,h++);"boolean"!==typeof n&&(n=g,h++);for(;e<h;e++){l=c[e];if(i=l.prototype)l=d.mix({},
i,!0,f);d.mix(a.prototype,l,n,j)}return a},extend:function(a,b,c,h){var f=b.prototype;f.constructor=b;l?b=l(f):(e.prototype=f,b=new e);b.constructor=a;a.prototype=d.mix(b,a.prototype);a.superclass=f;c&&d.mix(b,c);h&&d.mix(a,h);return a},namespace:function(){var b=d.makeArray(arguments),c=b.length,e=null,f,i,g,l=b[c-1]===a&&c--;for(f=0;f<c;f++){g=(""+b[f]).split(".");e=l?h:this;for(i=h[g[0]]===e?1:0;i<g.length;++i)e=e[g[i]]=e[g[i]]||{}}return e}})});
KISSY.add("util/string",function(d){function e(a){var b=typeof a;return null==a||"object"!==b&&"function"!==b}function j(a,b){return b.toUpperCase()}var f=/\\?\{([^{}]+)\}/g,g=/-([a-z])/ig,c=/^[\s\xa0]+|[\s\xa0]+$/g,h=String.prototype.trim;d.mix(d,{param:function(a,b,c,h){b=b||"&";c=c||"=";void 0===h&&(h=!0);var f=[],g,m,j,u,p,r=d.urlEncode;for(g in a)if(p=a[g],g=r(g),e(p))f.push(g),void 0!==p&&f.push(c,r(p+"")),f.push(b);else if(d.isArray(p)&&p.length){m=0;for(u=p.length;m<u;++m)j=p[m],e(j)&&(f.push(g,
h?r("[]"):""),void 0!==j&&f.push(c,r(j+"")),f.push(b))}f.pop();return f.join("")},unparam:function(a,b,c){if("string"!==typeof a||!(a=d.trim(a)))return{};for(var c=c||"=",h={},e,f=d.urlDecode,a=a.split(b||"&"),g=0,j=a.length;g<j;++g){e=a[g].indexOf(c);if(-1===e)b=f(a[g]),e=void 0;else{b=f(a[g].substring(0,e));e=a[g].substring(e+1);try{e=f(e)}catch(u){}d.endsWith(b,"[]")&&(b=b.substring(0,b.length-2))}b in h?d.isArray(h[b])?h[b].push(e):h[b]=[h[b],e]:h[b]=e}return h},startsWith:function(a,b){return 0===
a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},trim:h?function(a){return null==a?"":h.call(a)}:function(a){return null==a?"":(a+"").replace(c,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g," "))},camelCase:function(a){return a.replace(g,j)},substitute:function(a,b,c){return"string"!==typeof a||!b?a:a.replace(c||f,function(a,c){return"\\"===a.charAt(0)?a.slice(1):void 0===
b[c]?"":b[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",function(d){var e={},j=Object.prototype,f=j.toString;d.mix(d,{type:function(c){return null==c?""+c:e[f.call(c)]||"object"},isPlainObject:function(c){if(!c||"object"!==d.type(c)||c.nodeType||c.window==c)return!1;var a,b;try{if((b=c.constructor)&&!j.hasOwnProperty.call(c,"constructor")&&!j.hasOwnProperty.call(b.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(a in c);return void 0===a||j.hasOwnProperty.call(c,a)}});for(var g="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
c=0;c<g.length;c++)(function(c,a){e["[object "+c+"]"]=a=c.toLowerCase();d["is"+c]=function(b){return d.type(b)===a}})(g[c],c);d.isArray=Array.isArray||d.isArray});
KISSY.add("util/web",function(d){function e(){if(!a){f&&f.setTimeout&&v(f,p,e);a=1;for(var c=0;c<b.length;c++)try{b[c](d)}catch(h){setTimeout(function(){throw h;},0)}}}function j(){if(!g||g.readyState===r)e();else if(x(f,p,e),k){var a=function(){v(g,q,a);e()};x(g,q,a)}else{var b=function(){g.readyState===r&&(v(g,u,b),e())};x(g,u,b);var d,h=c&&c.doScroll;try{d=null===f.frameElement}catch(i){d=!1}if(h&&d){var j=function(){try{h("left"),e()}catch(a){setTimeout(j,l)}};j()}}}var f=d.Env.host,g=f.document||
{},c=g.documentElement,h=f.location,a=0,b=[],l=40,n=/^#?([\w-]+)$/,i=/\S/,k=g.addEventListener,m=g.attachEvent||k,q="DOMContentLoaded",u="readystatechange",p="load",r="complete",x=k?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},v=k?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};d.mix(d,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{f.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=void 0}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&i.test(a)&&(f.execScript?f.execScript(a):f.eval.call(f,a))},ready:function(c){if(a)try{c(d)}catch(e){setTimeout(function(){throw e;},0)}else b.push(c);return this},available:function(a,b){var a=(a+"").match(n)[1],c=1,e=d.later(function(){if(500<++c)e.cancel();else{var d=g.getElementById(a);d&&(b(d),e.cancel())}},
l,!0)}});if(h&&-1!==(h.search||"").indexOf("ks-debug"))d.Config.debug=!0;m&&j();try{g.execCommand("BackgroundImageCache",!1,!0)}catch(D){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(d,e){function j(c,e,a){var b=c,l,n,i,k;if(!c)return b;if(c[g])return a[c[g]].destination;if(typeof c==="object"){k=c.constructor;if(d.inArray(k,[Boolean,String,Number,Date,RegExp]))b=new k(c.valueOf());else if(l=d.isArray(c))b=e?d.filter(c,e):c.concat();else if(n=d.isPlainObject(c))b={};c[g]=k=d.guid("c");a[k]={destination:b,input:c}}if(l)for(c=0;c<b.length;c++)b[c]=j(b[c],e,a);else if(n)for(i in c)if(i!==
g&&(!e||e.call(c,c[i],i,c)!==f))b[i]=j(c[i],e,a);return b}var f=false,g="__~ks_cloned";d.mix=function(c,d){for(var a in d)c[a]=d[a];return c};e("util/array");e("util/escape");e("util/function");e("util/object");e("util/string");e("util/type");e("util/web");d.mix(d,{clone:function(c,e){var a={},b=j(c,e,a);d.each(a,function(a){a=a.input;if(a[g])try{delete a[g]}catch(b){a[g]=void 0}});a=null;return b}});return d});
