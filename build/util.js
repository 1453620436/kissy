/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jun 13 11:54
*/
KISSY.add("util","./util/array,./util/escape,./util/function,./util/object,./util/string,./util/type,./util/json,./util/web,./util/base".split(","),function(l,j,c,h){j("./util/array");j("./util/escape");j("./util/function");j("./util/object");j("./util/string");j("./util/type");j("./util/json");j("./util/web");h.exports=j("./util/base")});
KISSY.add("util/array",["./base"],function(l,j){var c=Array.prototype,h=c.indexOf,f=c.lastIndexOf,g=c.filter,e=c.every,d=c.some,a=j("./base"),b=c.map;a.mix(a,{indexOf:h?function(i,b,a){return void 0===a?h.call(b,i):h.call(b,i,a)}:function(i,b,a){for(var a=a||0,d=b.length;a<d;++a)if(b[a]===i)return a;return-1},lastIndexOf:f?function(i,b,a){return void 0===a?f.call(b,i):f.call(b,i,a)}:function(i,b,a){for(void 0===a&&(a=b.length-1);0<=a&&b[a]!==i;a--);return a},unique:function(i,b){var d=i.slice();b&&
d.reverse();for(var c=0,f,e;c<d.length;){for(e=d[c];(f=a.lastIndexOf(e,d))!==c;)d.splice(f,1);c+=1}b&&d.reverse();return d},inArray:function(b,d){return-1<a.indexOf(b,d)},filter:g?function(b,a,d){return g.call(b,a,d||this)}:function(b,d,c){var f=[];a.each(b,function(b,a,i){d.call(c||this,b,a,i)&&f.push(b)});return f},map:b?function(a,d,c){return b.call(a,d,c||this)}:function(b,a,d){for(var c=b.length,f=Array(c),e=0;e<c;e++){var g="string"===typeof b?b.charAt(e):b[e];if(g||e in b)f[e]=a.call(d||this,
g,e,b)}return f},reduce:function(b,a,d){var c=b.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===c&&2===arguments.length)throw new TypeError("arguments invalid");var e=0,f;if(3<=arguments.length)f=d;else{do{if(e in b){f=b[e++];break}e+=1;if(e>=c)throw new TypeError;}while(1)}for(;e<c;)e in b&&(f=a.call(void 0,f,b[e],e,b)),e++;return f},every:e?function(b,a,d){return e.call(b,a,d||this)}:function(b,a,d){for(var e=b&&b.length||0,c=0;c<e;c++)if(c in b&&!a.call(d,
b[c],c,b))return!1;return!0},some:d?function(b,a,c){return d.call(b,a,c||this)}:function(b,a,d){for(var c=b&&b.length||0,e=0;e<c;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1},makeArray:function(b){if(null==b)return[];if(a.isArray(b))return b;var d=typeof b.length,c=typeof b;if("number"!==d||"string"===typeof b.nodeName||null!=b&&b==b.window||"string"===c||"function"===c&&!("item"in b&&"number"===d))return[b];for(var d=[],c=0,e=b.length;c<e;c++)d[c]=b[c];return d}})});
KISSY.add("util/base",[],function(l,j,c,h){var f=0;h.exports={mix:function(c,e){for(var d in e)c[d]=e[d];return c},guid:function(c){return(c||"")+f++}}});
KISSY.add("util/escape",["./base"],function(l,j){var c=j("./base"),h={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},f={},g,e,d=/[&<>"'`]/,a=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var b in h)f[h[b]]=b})();g=function(){var b="",a;for(a in h)b+=h[a]+"|";b=b.slice(0,-1);return g=RegExp(b,"g")}();e=function(){var b="",a;for(a in f)b+=f[a]+"|";return e=RegExp(b+"&#(\\d{1,5});","g")}();c.mix(c,{escapeHtml:function(b){if(!b&&0!==b)return"";b=""+b;return!d.test(b)?
b:(b+"").replace(g,function(b){return f[b]})},escapeRegExp:function(b){return b.replace(a,"\\$&")},unEscapeHtml:function(b){return b.replace(e,function(b,a){return h[b]||String.fromCharCode(+a)})}});c.escapeHTML=c.escapeHtml;c.unEscapeHTML=c.unEscapeHtml});
KISSY.add("util/function",["./base"],function(l,j){function c(c,g,e){function d(){}var a=[].slice,b=a.call(arguments,3),i=function(){var i=a.call(arguments);return g.apply(this instanceof d?this:e||this,c?i.concat(b):b.concat(i))};d.prototype=g.prototype;i.prototype=new d;return i}var h=j("./base");h.mix(h,{noop:function(){},bind:c(0,c,null,0),rbind:c(0,c,null,1),later:function(c,g,e,d,a){var g=g||0,b=c,i=h.makeArray(a),j;"string"===typeof c&&(b=d[c]);b||h.error("method undefine");c=function(){b.apply(d,
i)};j=e?setInterval(c,g):setTimeout(c,g);return{id:j,interval:e,cancel:function(){this.interval?clearInterval(j):clearTimeout(j)}}},throttle:function(c,g,e){g=g||150;if(-1===g)return function(){c.apply(e||this,arguments)};var d=h.now();return function(){var a=h.now();a-d>g&&(d=a,c.apply(e||this,arguments))}},buffer:function(c,g,e){function d(){d.stop();a=h.later(c,g,0,e||this,arguments)}g=g||150;if(-1===g)return function(){c.apply(e||this,arguments)};var a=null;d.stop=function(){a&&(a.cancel(),a=
0)};return d}})});
KISSY.add("util/object",["./base","logger-manager"],function(l,j){function c(b,a){return null!==b&&void 0!==b&&void 0!==b[a]}function h(b,a,c){delete b[o];delete a[o];return c}function f(a,d){if(a[o]===d&&d[o]===a)return!0;a[o]=d;d[o]=a;for(var e in d)if(!c(a,e)&&c(d,e))return h(a,d,!1);for(e in a)if(!c(d,e)&&c(a,e))return h(a,d,!1);for(e in d)if(e!==o&&!b.equals(a[e],d[e]))return h(a,d,!1);return b.isArray(a)&&b.isArray(d)&&a.length!==d.length?h(a,d,!1):h(a,d,!0)}function g(){}function e(a,c,d,p,
k,A){if(!c||!a)return a;var f,g,h,j;c[i]=a;A.push(c);h=b.keys(c);j=h.length;for(f=0;f<j;f++)if(g=h[f],g!==i){var l=a,m=c,o=d,s=p,r=k,t=A;if(o||!(g in l)||r){var u=l[g],q=m[g];if(u===q)u===n&&(l[g]=u);else if(s&&(q=s.call(m,g,q)),r&&q&&(b.isArray(q)||b.isPlainObject(q)))q[i]?l[g]=q[i]:(m=u&&(b.isArray(u)||b.isPlainObject(u))?u:b.isArray(q)?[]:{},l[g]=m,e(m,q,o,s,!0,t));else if(q!==n&&(o||!(g in l)))l[g]=q}}return a}function d(b,a){return"constructor"===b?n:a}function a(c,d,e){var p=c,k,g,f,i;if(!c)return p;
if(c[m])return e[c[m]].destination;if("object"===typeof c){i=c.constructor;if(b.inArray(i,[Boolean,String,Number,Date,RegExp]))p=new i(c.valueOf());else if(k=b.isArray(c))p=d?b.filter(c,d):c.concat();else if(g=b.isPlainObject(c))p={};c[m]=i=b.guid("c");e[i]={destination:p,input:c}}if(k)for(c=0;c<p.length;c++)p[c]=a(p[c],d,e);else if(g)for(f in c)if(f!==m&&(!d||!1!==d.call(c,c[f],f,c)))p[f]=a(c[f],d,e);return p}var b=j("./base");j("logger-manager");var i="__MIX_CIRCULAR",s="undefined"===typeof window?
global:window,n,m="__~ks_cloned",r={}.toString,o="__~ks_compared",t=Object.create,w=!{toString:1}.propertyIsEnumerable("toString"),v="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(b,a){for(var c in a)b[c]=a[c]})(b,{equals:function(b,a){return b===a?!0:b===n||null===b||a===n||null===a?null==b&&null==a:b instanceof Date&&a instanceof Date?b.getTime()===a.getTime():"string"===typeof b&&"string"===typeof a||"number"===typeof b&&"number"===
typeof a?b===a:"object"===typeof b&&"object"===typeof a?f(b,a):b===a},keys:Object.keys||function(b){var a=[],c,d;for(c in b)b.hasOwnProperty(c)&&a.push(c);if(w)for(d=v.length-1;0<=d;d--)c=v[d],b.hasOwnProperty(c)&&a.push(c);return a},each:function(a,c,d){if(a){var e,k,f=0;e=a&&a.length;k=e===n||"[object Function]"===r.call(a);d=d||null;if(k)for(k=b.keys(a);f<k.length&&!(e=k[f],!1===c.call(d,a[e],e,a));f++);else for(k=a[0];f<e&&!1!==c.call(d,k,f,a);k=a[++f]);}return a},now:Date.now||function(){return+new Date},
isEmptyObject:function(b){for(var a in b)if(a!==n)return!1;return!0},stamp:function(a,c,d){var d=d||"__~ks_stamped",e=a[d];if(!e&&!c)try{e=a[d]=b.guid(d)}catch(k){e=n}return e},mix:function(a,c,d,f,k){"object"===typeof d&&(f=d.whitelist,k=d.deep,d=d.overwrite);if(f&&"function"!==typeof f)var g=f,f=function(a,c){return b.inArray(a,g)?c:n};d===n&&(d=!0);var h=[],j=0;for(e(a,c,d,f,k,h);c=h[j++];)delete c[i];return a},merge:function(a){var a=b.makeArray(arguments),c={},d,e=a.length;for(d=0;d<e;d++)b.mix(c,
a[d]);return c},augment:function(a,c){var e=b.makeArray(arguments),f=e.length-2,k=1,g,i,h=e[f],j=e[f+1];e[1]=c;b.isArray(j)||(h=j,j=n,f++);"boolean"!==typeof h&&(h=n,f++);for(;k<f;k++){i=e[k];if(g=i.prototype)i=b.mix({},g,!0,d);b.mix(a.prototype,i,h,j)}return a},extend:function(a,c,d,e){var f=c.prototype;f.constructor=c;t?c=t(f):(g.prototype=f,c=new g);c.constructor=a;a.prototype=b.mix(c,a.prototype);a.superclass=f;d&&b.mix(c,d);e&&b.mix(a,e);return a},namespace:function(a,b){var c,d,e;e=a.split(".");
c=b||s;for(d=0;d<e.length;++d)c=c[e[d]]=c[e[d]]||{};return c},clone:function(c,d){var e={},f=a(c,d,e);b.each(e,function(a){a=a.input;if(a[m])try{delete a[m]}catch(b){a[m]=void 0}});e=null;return f}})});
KISSY.add("util/string",["./base"],function(l,j){function c(a,b){return b.toUpperCase()}var h=j("./base"),f=/\\?\{([^{}]+)\}/g,g=/^[\s\xa0]+|[\s\xa0]+$/g,e=String.prototype.trim,d=/-([a-z])/gi;h.mix(h,{startsWith:function(a,b){return 0===a.lastIndexOf(b,0)},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},trim:e?function(a){return null==a?"":e.call(a)}:function(a){return null==a?"":(a+"").replace(g,"")},urlEncode:function(a){return encodeURIComponent(""+a)},urlDecode:function(a){return decodeURIComponent(a.replace(/\+/g,
" "))},camelCase:function(a){return a.replace(d,c)},substitute:function(a,b,c){return"string"!==typeof a||!b?a:a.replace(c||f,function(a,c){return"\\"===a.charAt(0)?a.slice(1):void 0===b[c]?"":b[c]})},ucfirst:function(a){a+="";return a.charAt(0).toUpperCase()+a.substring(1)}})});
KISSY.add("util/type",["./base"],function(l,j){var c=j("./base"),h={},f=Object.prototype,g=f.toString;c.mix(c,{type:function(a){return null==a?""+a:h[g.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==c.type(a)||a.nodeType||a.window==a)return!1;var b,d;try{if((d=a.constructor)&&!f.hasOwnProperty.call(a,"constructor")&&!f.hasOwnProperty.call(d.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(b in a);return void 0===b||f.hasOwnProperty.call(a,b)}});for(var e="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
d=0;d<e.length;d++)(function(a,b){h["[object "+a+"]"]=b=a.toLowerCase();c["is"+a]=function(a){return c.type(a)===b}})(e[d],d);c.isArray=Array.isArray||c.isArray});
KISSY.add("util/json",["./base"],function(l,j){var c=j("./base"),h=/^[\],:{}\s]*$/,f=/(?:^|:|,)(?:\s*\[)+/g,g=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,e=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;c.parseJson=function(d){return null===d?d:"string"===typeof d&&(d=c.trim(d))&&h.test(d.replace(g,"@").replace(e,"]").replace(f,""))?(new Function("return "+d))():c.error("Invalid Json: "+d)}});
KISSY.add("util/web",["./base","logger-manager"],function(l,j){function c(){if(!b){e&&e.setTimeout&&y(e,v,c);b=1;for(var a=0;a<i.length;a++)try{i[a](KISSY)}catch(d){g.log(d.stack||d,"error"),setTimeout(function(){throw d;},0)}}}function h(){if(!d||d.readyState===z)c();else if(x(e,v,c),r){var b=function(){y(d,t,b);c()};x(d,t,b)}else{var f=function(){d.readyState===z&&(y(d,w,f),c())};x(d,w,f);var g,h=a&&a.doScroll;try{g=null===e.frameElement}catch(j){g=!1}if(h&&g){var i=function(){try{h("left"),c()}catch(a){setTimeout(i,
s)}};i()}}}var f=j("./base"),g=j("logger-manager"),e="undefined"!==typeof window?window:{},d=e.document||{},a=d.documentElement,b=0,i=[],s=40,n=/^#?([\w-]+)$/,m=/\S/,r=d.addEventListener,o=d.attachEvent||r,t="DOMContentLoaded",w="readystatechange",v="load",z="complete",x=r?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},y=r?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};f.mix(f,{isWindow:function(a){return null!=a&&a==a.window},
parseXml:function(a){if(a.documentElement)return a;var b;try{e.DOMParser?b=(new DOMParser).parseFromString(a,"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=void 0}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&f.error("Invalid XML: "+a);return b},globalEval:function(a){a&&m.test(a)&&(e.execScript?e.execScript(a):e.eval.call(e,a))},ready:function(a){if(b)try{a(KISSY)}catch(c){g.log(c.stack||c,"error"),setTimeout(function(){throw c;
},0)}else i.push(a);return this},available:function(a,b){var a=(a+"").match(n)[1],c=1,e=f.later(function(){if(500<++c)e.cancel();else{var f=d.getElementById(a);f&&(b(f),e.cancel())}},s,!0)}});f.parserXML=f.parseXml;o&&h();try{d.execCommand("BackgroundImageCache",!1,!0)}catch(p){}});
