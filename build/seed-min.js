/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Apr 10 18:50
*/
var KISSY=function(c){function k(d){var c={},h;for(h in j)(function(b,a){b[a]=function(b){return m.log(b,a,d)}})(c,h);return c}var m,l=0,j={debug:10,info:20,warn:30,error:40};return m={__BUILD_TIME:"20140410184955",Env:{host:this},Config:{debug:"",fns:{}},version:"5.0.0",config:function(d,f){var h,b,a=m.Config,i=a.fns;if("string"===typeof d)h=i[d],f===c?b=h?h.call(this):a[d]:h?b=h.call(this,f):a[d]=f;else for(var g in d)f=d[g],(h=i[g])?h.call(this,f):a[g]=f;return b},log:function(){return c},getLogger:function(c){return k(c)},
error:function(){},guid:function(c){return(c||"")+l++}}}();(function(c){(c.Loader={}).Status={ERROR:-1,INIT:0,LOADING:1,LOADED:2,ATTACHING:3,ATTACHED:4}})(KISSY);
(function(c){function k(o){if("string"===typeof o)return m(o);for(var a=[],b=0,e=o.length;b<e;b++)a[b]=m(o[b]);return a}function m(o){"/"===o.charAt(o.length-1)&&(o+="index");n.endsWith(o,".js")&&(o=o.slice(0,-3));return o}function l(o){var a=o.indexOf("!");if(-1!==a){var b=o.substring(0,a),o=o.substring(a+1),a=c.require(b);a.alias&&(o=a.alias(c,o,b))}return o}function j(o){var a=0;return parseFloat(o.replace(/\./g,function(){return 0===a++?".":""}))}function d(o){var a=[],b;for(b in o)a.push(b);
return a}function f(a,b){for(var e in b)a[e]=b[e];return a}var h=c.Loader,b=c.Env,a=b.host,i=h.Status,g=i.ATTACHED,p=i.LOADED,e=i.ATTACHING,n=h.Utils={},t=a.document,r,q=(a.navigator||{}).userAgent||"";if(((r=q.match(/AppleWebKit\/([\d.]*)/))||(r=q.match(/Safari\/([\d.]*)/)))&&r[1])n.webkit=j(r[1]);var s=/http(s)?:\/\/([^/]+)(?::(\d+))?/,y=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};f(n,{mix:f,noop:function(){},startsWith:function(a,b){return 0===a.lastIndexOf(b,
0)},isEmptyObject:function(a){for(var b in a)if(void 0!==b)return!1;return!0},endsWith:function(a,b){var e=a.length-b.length;return 0<=e&&a.indexOf(b,e)===e},now:Date.now||function(){return+new Date},each:function(a,b){var e=0,i,g;if(y(a))for(g=a.length;e<g&&!1!==b(a[e],e,a);e++);else{i=d(a);for(g=i.length;e<g&&!1!==b(a[i[e]],i[e],a);e++);}},keys:d,isArray:y,normalizePath:function(a,b){if("."!==b.charAt(0))return b;var e=a.split("/"),i=b.split("/");e.pop();for(var g=0,p=i.length;g<p;g++){var c=i[g];
"."!==c&&(".."===c?e.pop():e.push(c))}return e.join("/")},isSameOriginAs:function(a,b){var e=a.match(s),i=b.match(s);return e[0]===i[0]},ie:function(){var a,b;if((a=q.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(b=a[1]||a[2]))return j(b)}(),docHead:function(){return t.getElementsByTagName("head")[0]||t.documentElement},normalDepModuleName:function(a,b){if("string"===typeof b)return n.normalizePath(a,b);var e=0,i;for(i=b.length;e<i;e++)b[e]=n.normalizePath(a,b[e]);return b},createModulesInfo:function(a){var b=
[];n.each(a,function(a,e){b[e]=n.createModuleInfo(a)});return b},createModuleInfo:function(a,e){var a=m(a),i=b.mods,g=i[a];return g?g:i[a]=g=new h.Module(f({name:a},e))},getModules:function(a){var i=[c],g,p,d,h,f=b.mods;n.each(a,function(a){if((g=f[a])&&"css"!==g.getType()){p=g.getNormalizedAlias();d=!0;for(a=0;d&&a<p.length;a++)d=(h=f[p[a]])&&h.status>=e;d?i.push(f[p[0]].exports):i.push(null)}else i.push(void 0)});return i},attachModsRecursively:function(a){var b,e=a.length;for(b=0;b<e;b++)n.attachModRecursively(a[b])},
attachModRecursively:function(a){a=b.mods[a];a.status>=e||(a.status=e,a.cjs||n.attachModsRecursively(a.getNormalizedRequires()),n.attachMod(a))},attachMod:function(a){var b=a.factory;if("function"===typeof b){var e=a.requires,b=b.apply(a,a.cjs?[c,e&&e.length?a.require:void 0,a.exports,a]:n.getModules(a.getRequiresWithAlias()));void 0!==b&&(a.exports=b)}else a.exports=b;a.status=g},getModNamesAsArray:function(a){"string"===typeof a&&(a=a.replace(/\s+/g,"").split(","));return a},normalizeModNames:function(a,
b){return n.unalias(n.normalizeModNamesWithAlias(a,b))},unalias:function(a){for(var b=[],e=0;e<a.length;e++){var i=n.createModuleInfo(a[e]);b.push.apply(b,i.getNormalizedAlias())}return b},normalizeModNamesWithAlias:function(a,b){var e=[],i,g;if(a){i=0;for(g=a.length;i<g;i++)a[i]&&e.push(l(k(a[i])))}b&&(e=n.normalDepModuleName(b,e));return e},registerModule:function(a,e,i){var a=m(a),g=b.mods,c=g[a];c&&void 0!==c.factory||(n.createModuleInfo(a),c=g[a],f(c,{name:a,status:p,factory:e}),f(c,i))},getHash:function(a){var b=
5381,e;for(e=a.length;-1<--e;)b=(b<<5)+b+a.charCodeAt(e);return b+""},getRequiresFromFn:function(a){var b=[];a.toString().replace(B,"").replace(w,function(a,e){b.push(e.match(/^\s*["']([^'"\s]+)["']\s*$/)[1])});return b}});var B=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,w=/[^.'"]\s*require\s*\(([^)]+)\)/g})(KISSY);
(function(c){function k(b,a){return a in b?b[a]:d[a]}function m(b){h(this,b)}function l(b){var a=this;a.exports={};a.status=j.Status.INIT;a.name=void 0;a.factory=void 0;a.cjs=1;h(a,b);a.waits={};a.require=function(b){return c.require(b,a.name)}}var j=c.Loader,d=c.Config,f=j.Utils,h=f.mix;m.prototype={constructor:m,reset:function(b){h(this,b)},getTag:function(){return k(this,"tag")},getName:function(){return this.name},getBase:function(){return this.base},isDebug:function(){return k(this,"debug")},
getCharset:function(){return k(this,"charset")},isCombine:function(){return k(this,"combine")},getGroup:function(){return k(this,"group")}};j.Package=m;l.prototype={kissy:1,constructor:l,resolve:function(b){return f.normalizePath(this.name,b)},add:function(b){this.waits[b.id]=b},remove:function(b){delete this.waits[b.id]},contains:function(b){return this.waits[b.id]},flush:function(){f.each(this.waits,function(b){b.flush()});this.waits={}},getType:function(){var b=this.type;b||(this.type=b=f.endsWith(this.name,
".css")?"css":"js");return b},getAlias:function(){var b=this.name,a,i=this.alias;if(i)return i;a=this.getPackage();a.alias&&(i=a.alias(b));return i=this.alias=i||[]},getNormalizedAlias:function(){if(this.normalizedAlias)return this.normalizedAlias;var b=this.getAlias();"string"===typeof b&&(b=[b]);for(var a=[],i=0,g=b.length;i<g;i++)if(b[i]){var c=f.createModuleInfo(b[i]).getNormalizedAlias();c?a.push.apply(a,c):a.push(b[i])}a.length||a.push(this.name);return this.normalizedAlias=a},getUrl:function(){this.url||
(this.url=c.Config.resolveModFn(this));return this.url},getName:function(){return this.name},getPackage:function(){if(!this.packageInfo){var b=d.packages||{},a=this.name+"/",i="",g;for(g in b)f.startsWith(a,g+"/")&&g.length>i.length&&(i=g);this.packageInfo=b[i]||d.corePackage}return this.packageInfo},getTag:function(){return this.tag||this.getPackage().getTag()},getCharset:function(){return this.charset||this.getPackage().getCharset()},getRequiresWithAlias:function(){var b=this.requiresWithAlias,
a=this.requires;if(!a||0===a.length)return a||[];b||(this.requiresWithAlias=b=f.normalizeModNamesWithAlias(a,this.name));return b},getRequiredMods:function(){return f.createModulesInfo(this.getNormalizedRequires())},getNormalizedRequires:function(){var b,a=this.normalizedRequiresStatus,i=this.status,g=this.requires;if(!g||0===g.length)return g||[];if((b=this.normalizedRequires)&&a===i)return b;this.normalizedRequiresStatus=i;return this.normalizedRequires=f.normalizeModNames(g,this.name)}};j.Module=
l})(KISSY);(function(c){function k(c){var b=0;if(j.webkit)c.sheet&&(b=1);else if(c.sheet)try{c.sheet.cssRules&&(b=1)}catch(a){"NS_ERROR_DOM_SECURITY_ERR"===a.name&&(b=1)}return b}function m(){for(var c in f){var b=f[c],a=b.node;k(a,c)&&(b.callback&&b.callback.call(a),delete f[c])}d=j.isEmptyObject(f)?0:setTimeout(m,l)}var l=30,j=c.Loader.Utils,d=0,f={};j.pollCss=function(c,b){var a;a=f[c.href]={};a.node=c;a.callback=b;d||m()};j.isCssLoaded=k})(KISSY);
(function(c){var k=c.Env.host.document,m=c.Loader.Utils,l={},j=m.webkit,d;c.getScript=function(f,h,b){function a(){var a=r.readyState;if(!a||"loaded"===a||"complete"===a)r.onreadystatechange=r.onload=null,q(0)}var i=h,g=m.endsWith(f,".css"),p,e,n,t;"object"===typeof i&&(h=i.success,p=i.error,e=i.timeout,b=i.charset,n=i.attrs);i=l[f]=l[f]||[];i.push([h,p]);if(1<i.length)return i.node;var r=k.createElement(g?"link":"script");n&&m.each(n,function(a,b){r.setAttribute(b,a)});b&&(r.charset=b);g?(r.href=
f,r.rel="stylesheet"):(r.src=f,r.async=!0);i.node=r;var q=function(a){var b;if(t){clearTimeout(t);t=void 0}m.each(l[f],function(e){(b=e[a])&&b.call(r)});delete l[f]},h="onload"in r,b=c.Config.forceCssPoll||j&&536>j;g&&b&&h&&(h=!1);h?(r.onload=a,r.onerror=function(){r.onerror=null;q(1)}):g?m.pollCss(r,function(){q(0)}):r.onreadystatechange=a;e&&(t=setTimeout(function(){q(1)},1E3*e));d||(d=m.docHead());g?d.appendChild(r):d.insertBefore(r,d.firstChild);return r}})(KISSY);
(function(c){function k(a){return function(b){var p={},e;for(e in b)p[e]={},p[e][a]=b[e];c.config("modules",p)}}function m(a,g){-1!==a.indexOf("\\")&&(a=a.replace(/\\/g,"/"));g&&"/"!==a.charAt(a.length-1)&&(a+="/");b&&(a="/"===a.charAt(0)?h.protocol+"//"+h.host+a:d.normalizePath(b,a));return a}var l=c.Loader,j=l.Package,d=l.Utils,f=c.Config,h=c.Env.host.location,b="",a=f.fns;h&&(b=h.protocol+"//"+h.host+h.pathname);f.loadModsFn=function(a,b){c.getScript(a.url,b)};f.resolveModFn=function(a){var b=
a.name,c="-min",e,n,d=a.getPackage();e=d.getBase();n=d.getName();var h="."+a.getType(),b=b.replace(/\.css$/,"");d.isDebug()&&(c="");b===n?n=e.substring(0,e.length-1)+c+h:(b=b+c+h,n&&(b=b.substring(n.length+1)),n=e+b);if(e=a.getTag())e+="."+a.getType(),n+="?t="+e;return n};a.core=function(a){var b=a.base,c=f.corePackage;b&&(a.base=m(b,!0));c||(c=f.corePackage=new j({name:""}));c.reset(a)};a.requires=k("requires");a.alias=k("alias");a.packages=function(a){var b=this.Config,c=b.packages=b.packages||
{};if(a)d.each(a,function(a,b){var i=a.name=a.name||b,g=a.base||a.path;g&&(a.base=m(g,!0));c[i]?c[i].reset(a):c[i]=new j(a)});else if(!1===a)b.packages={};else return c};a.modules=function(a){a&&d.each(a,function(a,b){var e=a.url;e&&(a.url=m(e));e=d.createModuleInfo(b,a);e.status===l.Status.INIT&&d.mix(e,a)})};a.base=function(a){var b=f.corePackage;if(!a)return b&&b.getBase();this.config("core",{base:a})}})(KISSY);
(function(c,k){function m(e,c,i){var g=e&&e.length,d=[],p=[];a(e,function(a){var e,h={timeout:i,success:function(){p.push(a);e&&r&&(b.registerModule(e.name,r.factory,r.config),r=k);--g||c(p,d)},error:function(){d.push(a);--g||c(p,d)},charset:a.charset};a.combine||(e=a.mods[0],"css"===e.getType()?e=k:n&&(q=e.name,h.attrs={"data-mod-name":e.name}));f.loadModsFn(a,h)})}function l(a){this.callback=a;this.head=this.tail=k;this.id="loader"+ ++t}function j(a,e){if(!a&&"function"===typeof e&&1<e.length){var c=
b.getRequiresFromFn(e);c.length&&(a=a||{},a.requires=c)}else a&&a.requires&&!a.cjs&&(a.cjs=0);return a}var d=c.Loader,f=c.Config,h=d.Status,b=d.Utils,a=b.each,i=b.getHash,g=h.LOADING,p=h.LOADED,e=h.ERROR,n=10>b.ie,t=0,r,q;l.add=function(a,e,c,i){if(3===i&&b.isArray(e))var g=e,e=c,c={requires:g,cjs:1};if("function"===typeof a||1===i)if(c=e,e=a,c=j(c,e),n){for(var a=document.getElementsByTagName("script"),d,i=a.length-1;0<=i;i--)if(g=a[i],"interactive"===g.readyState){d=g;break}a=d?d.getAttribute("data-mod-name"):
q;b.registerModule(a,e,c);q=null}else r={factory:e,config:c};else n?q=null:r=k,c=j(c,e),b.registerModule(a,e,c)};b.mix(l.prototype,{use:function(c){var i,g=f.timeout;i=this.getComboUrls(c);i.css&&m(i.css,function(c,i){a(c,function(e){a(e.mods,function(a){b.registerModule(a.name,b.noop);a.flush()})});a(i,function(b){a(b.mods,function(a){a.status=e;a.flush()})})},g);i.js&&m(i.js,function(){a(i.js,function(b){a(b.mods,function(a){a.factory||(a.status=e);a.flush()})})},g)},calculate:function(a,e,c,i,
d){if(!a.length)return[];var n,f,q,j,d=d||[],i=i||{};for(n=0;n<a.length;n++)f=a[n],i[f]||(q=b.createModuleInfo(f),j=q.status,j===h.ERROR?e.push(q):j>p||(j!==p&&!q.contains(this)&&(j!==g&&(q.status=g,d.push(q)),q.add(this),this.wait(q)),this.calculate(q.getNormalizedRequires(),e,c,i,d)),i[f]=1);return d},getComboMods:function(a){var e,c=a.length,d,g,n,p,h,f,q,j={},m={};for(e=0;e<c;++e)if(g=a[e],p=g.getType(),g.getUrl(),n=g.getPackage(),q=n.getBase(),f=n.getCharset(),h=n.getTag(),d=n.getGroup(),n.isCombine()&&
d){n=j[p]||(j[p]={});d=d+"-"+f;var k=n[d]||(n[d]={}),l=0;b.each(k,function(a,e){if(b.isSameOriginAs(e,q)){var c;c=e;var d=q,n=c.substring(0,c.indexOf("//")+2);c=c.substring(n.length).split(/\//);for(var d=d.substring(n.length).split(/\//),p=Math.min(c.length,d.length),f=0;f<p&&c[f]===d[f];f++);c=n+c.slice(0,f).join("/")+"/";a.push(g);h&&h!==a.tag&&(a.tag=i(a.tag+h));delete k[e];k[c]=a;l=1}});l||(d=k[q]=[g],d.charset=f,d.tag=h||"")}else n=m[p]||(m[p]={}),(d=n[q])?h&&h!==d.tag&&(d.tag=i(d.tag+h)):(d=
n[q]=[],d.charset=f,d.tag=h||""),d.push(g);return{groups:j,normals:m}},getComboUrls:function(a){function e(a,n,h){for(var f=[],q=[],j=h.tag,k=h.charset,m=j?"?t="+encodeURIComponent(j)+"."+a:"",j=m.length,l=n.length,t=n+c,r=[],y=t.length,s=function(){r.push({combine:1,url:t+f.join(i)+m,charset:k,mods:q})},x=0;x<h.length;x++){var u=h[x],z=u.getUrl();if(!u.getPackage().isCombine()||!b.startsWith(z,n))r.push({combine:0,url:z,charset:k,mods:[u]});else if(z=z.slice(l).replace(/\?.*$/,""),f.push(z),q.push(u),
f.length>d||y+f.join(i).length+j>g)f.pop(),q.pop(),s(),f=[],q=[],x--}f.length&&s();p[a].push.apply(p[a],r)}var c=f.comboPrefix,i=f.comboSep,d=f.comboMaxFileNum,g=f.comboMaxUrlLength,n=this.getComboMods(a),p={},h,q,a=n.normals,n=n.groups,j;for(h in a)for(q in p[h]=p[h]||[],a[h])e(h,q,a[h][q]);for(h in n)for(j in p[h]=p[h]||[],n[h])for(q in n[h][j])e(h,q,n[h][j][q]);return p},flush:function(){if(this.callback){for(var a=this.head,b=this.callback;a;){var e=a.node,c=e.status;if(c>=h.LOADED||c===h.ERROR)e.remove(this),
a=this.head=a.next;else return}this.callback=null;b()}},isCompleteLoading:function(){return!this.head},wait:function(a){this.head?(a={node:a},this.tail=this.tail.next=a):this.tail=this.head={node:a}}});d.ComboLoader=l})(KISSY);
(function(c){var k=c.Loader,m=c.Env.mods={},l=k.Utils,j=k.ComboLoader;l.mix(c,{add:function(c,f,h){j.add(c,f,h,arguments.length)},use:function(d,f){function h(){++g;var e=[],n=a.calculate(p,e),j=n.length;if(e.length){if(i)try{i.apply(c,e)}catch(k){setTimeout(function(){throw k;},0)}}else if(a.isCompleteLoading()){if(l.attachModsRecursively(b),f)try{f.apply(c,l.getModules(d))}catch(q){setTimeout(function(){throw q;},0)}}else if(a.callback=h,j){p=[];for(e=0;e<j;e++)p.push(n[e].name);a.use(n)}}var b,
a,i,g=0;"object"===typeof f&&(i=f.error,f=f.success);var d=l.getModNamesAsArray(d),d=l.normalizeModNamesWithAlias(d),p=b=l.unalias(d);a=new j(h);h();return c},require:function(c,f){c=l.normalizePath(f,c);if(m[c]&&m[c].status===k.Status.ATTACHED)return m[c].exports;var h=l.normalizeModNames([c],f);l.attachModsRecursively(h);return l.getModules(h)[1]}})})(KISSY);KISSY.add("i18n",{alias:function(c,k){return k+"/i18n/"+c.Config.lang}});
(function(c){function k(c){var g=c.src||"";if(!g.match(a))return 0;var c=(c=c.getAttribute("data-config"))?(new Function("return "+c))():{},p=c.comboPrefix||f,e=c.comboSep||h,n,k=g.indexOf(p);-1===k?n=g.replace(b,"$1"):(n=g.substring(0,k),"/"!==n.charAt(n.length-1)&&(n+="/"),p=g.substring(k+p.length).split(e),j.each(p,function(e){if(e.match(a))return n+=e.replace(b,"$1"),!1}));"tag"in c||(p=g.lastIndexOf("?t="),-1!==p&&(g=g.substring(p+1),c.tag=j.getHash(d+g)));c.base=c.base||n;return c}function m(){var a=
l.getElementsByTagName("script"),b,c;for(b=a.length-1;0<=b;b--)if(c=k(a[b]))return c;return null}var l=c.Env.host&&c.Env.host.document,j=c.Loader.Utils,d="20140410184955",f="??",h=",",b=/^(.*)(seed|loader)(?:-min)?\.js[^/]*/i,a=/(seed|loader)(?:-min)?\.js/i;c.config({comboPrefix:f,comboSep:h,charset:"utf-8",lang:"zh-cn"});l&&l.getElementsByTagName&&c.config(j.mix({comboMaxUrlLength:2E3,comboMaxFileNum:40},m()))})(KISSY);
KISSY.add("util/array",[],function(c,k){var m=Array.prototype,l=m.indexOf,j=m.lastIndexOf,d=m.filter,f=m.every,h=m.some,b=m.map;c.mix(c,{indexOf:l?function(a,b,c){return c===k?l.call(b,a):l.call(b,a,c)}:function(a,b,c){for(var c=c||0,d=b.length;c<d;++c)if(b[c]===a)return c;return-1},lastIndexOf:j?function(a,b,c){return c===k?j.call(b,a):j.call(b,a,c)}:function(a,b,c){for(c===k&&(c=b.length-1);0<=c&&b[c]!==a;c--);return c},unique:function(a,b){var d=a.slice();b&&d.reverse();for(var h=0,e,n;h<d.length;){for(n=
d[h];(e=c.lastIndexOf(n,d))!==h;)d.splice(e,1);h+=1}b&&d.reverse();return d},inArray:function(a,b){return-1<c.indexOf(a,b)},filter:d?function(a,b,c){return d.call(a,b,c||this)}:function(a,b,d){var h=[];c.each(a,function(a,c,f){b.call(d||this,a,c,f)&&h.push(a)});return h},map:b?function(a,c,d){return b.call(a,c,d||this)}:function(a,b,c){for(var d=a.length,e=Array(d),n=0;n<d;n++){var h="string"===typeof a?a.charAt(n):a[n];if(h||n in a)e[n]=b.call(c||this,h,n,a)}return e},reduce:function(a,b,c){var d=
a.length;if("function"!==typeof b)throw new TypeError("callback is not function!");if(0===d&&2===arguments.length)throw new TypeError("arguments invalid");var e=0,h;if(3<=arguments.length)h=c;else{do{if(e in a){h=a[e++];break}e+=1;if(e>=d)throw new TypeError;}while(1)}for(;e<d;)e in a&&(h=b.call(k,h,a[e],e,a)),e++;return h},every:f?function(a,b,c){return f.call(a,b,c||this)}:function(a,b,c){for(var d=a&&a.length||0,e=0;e<d;e++)if(e in a&&!b.call(c,a[e],e,a))return!1;return!0},some:h?function(a,b,
c){return h.call(a,b,c||this)}:function(a,b,c){for(var d=a&&a.length||0,e=0;e<d;e++)if(e in a&&b.call(c,a[e],e,a))return!0;return!1},makeArray:function(a){if(null==a)return[];if(c.isArray(a))return a;var b=typeof a.length,d=typeof a;if("number"!==b||"string"===typeof a.nodeName||null!=a&&a==a.window||"string"===d||"function"===d&&!("item"in a&&"number"===b))return[a];for(var b=[],d=0,h=a.length;d<h;d++)b[d]=a[d];return b}})});
KISSY.add("util/escape",[],function(c){var k={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},m={},l,j,d=/[&<>"'`]/,f=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var c in k)m[k[c]]=c})();l=function(){var c="",b;for(b in k)c+=k[b]+"|";c=c.slice(0,-1);return l=RegExp(c,"g")}();j=function(){var c="",b;for(b in m)c+=m[b]+"|";return j=RegExp(c+"&#(\\d{1,5});","g")}();c.mix(c,{escapeHtml:function(c){if(!c&&0!==c)return"";c=""+c;return!d.test(c)?c:(c+"").replace(l,
function(b){return m[b]})},escapeRegExp:function(c){return c.replace(f,"\\$&")},unEscapeHtml:function(c){return c.replace(j,function(b,a){return k[b]||String.fromCharCode(+a)})}});c.escapeHTML=c.escapeHtml;c.unEscapeHTML=c.unEscapeHtml});
KISSY.add("util/function",[],function(c){function k(c,k,j){function d(){}var f=[].slice,h=f.call(arguments,3),b=function(){var a=f.call(arguments);return k.apply(this instanceof d?this:j||this,c?a.concat(h):h.concat(a))};d.prototype=k.prototype;b.prototype=new d;return b}c.mix(c,{noop:function(){},bind:k(0,k,null,0),rbind:k(0,k,null,1),later:function(k,l,j,d,f){var l=l||0,h=k,b=c.makeArray(f),a;"string"===typeof k&&(h=d[k]);k=function(){h.apply(d,b)};a=j?setInterval(k,l):setTimeout(k,l);return{id:a,
interval:j,cancel:function(){this.interval?clearInterval(a):clearTimeout(a)}}},throttle:function(k,l,j){l=l||150;if(-1===l)return function(){k.apply(j||this,arguments)};var d=c.now();return function(){var f=c.now();f-d>l&&(d=f,k.apply(j||this,arguments))}},buffer:function(k,l,j){function d(){d.stop();f=c.later(k,l,0,j||this,arguments)}l=l||150;if(-1===l)return function(){k.apply(j||this,arguments)};var f=null;d.stop=function(){f&&(f.cancel(),f=0)};return d}})});
KISSY.add("util/object",[],function(c,k){function m(){}function l(a,b,n,f,i,q){if(!b||!a)return a;var j,g,m,w;b[d]=a;q.push(b);m=c.keys(b);w=m.length;for(j=0;j<w;j++)if(g=m[j],g!==d){var o=a,A=b,x=n,C=f,z=i,D=q;if(x||!(g in o)||z){var u=o[g],v=A[g];if(u===v)u===k&&(o[g]=u);else if(C&&(v=C.call(A,g,v)),z&&v&&(c.isArray(v)||c.isPlainObject(v)))v[d]?o[g]=v[d]:(A=u&&(c.isArray(u)||c.isPlainObject(u))?u:c.isArray(v)?[]:{},o[g]=A,l(A,v,x,C,h,D));else if(v!==k&&(x||!(g in o)))o[g]=v}}return a}function j(a,
b){return"constructor"===a?k:b}var d="__MIX_CIRCULAR",f=c.Env.host,h=!0,b={}.toString,a=Object.create,i=!{toString:1}.propertyIsEnumerable("toString"),g="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,b){for(var c in b)a[c]=b[c]})(c,{keys:Object.keys||function(a){var b=[],c,d;for(c in a)a.hasOwnProperty(c)&&b.push(c);if(i)for(d=g.length-1;0<=d;d--)c=g[d],a.hasOwnProperty(c)&&b.push(c);return b},each:function(a,e,d){if(a){var h,
f,i=0;h=a&&a.length;f=h===k||"[object Function]"===b.call(a);d=d||null;if(f)for(f=c.keys(a);i<f.length&&!(h=f[i],!1===e.call(d,a[h],h,a));i++);else for(f=a[0];i<h&&!1!==e.call(d,f,i,a);f=a[++i]);}return a},now:Date.now||function(){return+new Date},isArray:function(a){return"[object Array]"===b.call(a)},isEmptyObject:function(a){for(var b in a)if(b!==k)return!1;return!0},stamp:function(a,b,d){var d=d||"__~ks_stamped",h=a[d];if(!h&&!b)try{h=a[d]=c.guid(d)}catch(f){h=k}return h},mix:function(a,b,f,i,
g){"object"===typeof f&&(i=f.whitelist,g=f.deep,f=f.overwrite);if(i&&"function"!==typeof i)var q=i,i=function(a,b){return c.inArray(a,q)?b:k};f===k&&(f=h);var j=[],m=0;for(l(a,b,f,i,g,j);b=j[m++];)delete b[d];return a},merge:function(a){var a=c.makeArray(arguments),b={},d,h=a.length;for(d=0;d<h;d++)c.mix(b,a[d]);return b},augment:function(a,b){var d=c.makeArray(arguments),h=d.length-2,f=1,i,g,l=d[h],m=d[h+1];d[1]=b;c.isArray(m)||(l=m,m=k,h++);"boolean"!==typeof l&&(l=k,h++);for(;f<h;f++){g=d[f];if(i=
g.prototype)g=c.mix({},i,!0,j);c.mix(a.prototype,g,l,m)}return a},extend:function(b,d,h,f){var i=d.prototype;i.constructor=d;a?d=a(i):(m.prototype=i,d=new m);d.constructor=b;b.prototype=c.mix(d,b.prototype);b.superclass=i;h&&c.mix(d,h);f&&c.mix(b,f);return b},namespace:function(){var a=c.makeArray(arguments),b=a.length,d=null,i,g,j,k=a[b-1]===h&&b--;for(i=0;i<b;i++){j=(""+a[i]).split(".");d=k?f:this;for(g=f[j[0]]===d?1:0;g<j.length;++g)d=d[j[g]]=d[j[g]]||{}}return d}})});
KISSY.add("util/string",[],function(c,k){function m(b){var a=typeof b;return null==b||"object"!==a&&"function"!==a}function l(b,a){return a.toUpperCase()}var j=/\\?\{([^{}]+)\}/g,d=/-([a-z])/ig,f=/^[\s\xa0]+|[\s\xa0]+$/g,h=String.prototype.trim;c.mix(c,{param:function(b,a,d,h){a=a||"&";d=d||"=";h===k&&(h=!0);var f=[],e,j,l,r,q,s=c.urlEncode;for(e in b)if(q=b[e],e=s(e),m(q))f.push(e),q!==k&&f.push(d,s(q+"")),f.push(a);else if(c.isArray(q)&&q.length){j=0;for(r=q.length;j<r;++j)l=q[j],m(l)&&(f.push(e,
h?s("[]"):""),l!==k&&f.push(d,s(l+"")),f.push(a))}f.pop();return f.join("")},unparam:function(b,a,d){if("string"!==typeof b||!(b=c.trim(b)))return{};for(var d=d||"=",h={},f,e=c.urlDecode,b=b.split(a||"&"),j=0,l=b.length;j<l;++j){f=b[j].indexOf(d);if(-1===f)a=e(b[j]),f=k;else{a=e(b[j].substring(0,f));f=b[j].substring(f+1);try{f=e(f)}catch(m){}c.endsWith(a,"[]")&&(a=a.substring(0,a.length-2))}a in h?c.isArray(h[a])?h[a].push(f):h[a]=[h[a],f]:h[a]=f}return h},startsWith:function(b,a){return 0===b.lastIndexOf(a,
0)},endsWith:function(b,a){var c=b.length-a.length;return 0<=c&&b.indexOf(a,c)===c},trim:h?function(b){return null==b?"":h.call(b)}:function(b){return null==b?"":(b+"").replace(f,"")},urlEncode:function(b){return encodeURIComponent(""+b)},urlDecode:function(b){return decodeURIComponent(b.replace(/\+/g," "))},camelCase:function(b){return b.replace(d,l)},substitute:function(b,a,c){return"string"!==typeof b||!a?b:b.replace(c||j,function(b,c){return"\\"===b.charAt(0)?b.slice(1):a[c]===k?"":a[c]})},ucfirst:function(b){b+=
"";return b.charAt(0).toUpperCase()+b.substring(1)}})});
KISSY.add("util/type",[],function(c,k){var m={},l=Object.prototype,j=l.toString;c.mix(c,{type:function(c){return null==c?""+c:m[j.call(c)]||"object"},isPlainObject:function(d){if(!d||"object"!==c.type(d)||d.nodeType||d.window==d)return!1;var b,a;try{if((a=d.constructor)&&!l.hasOwnProperty.call(d,"constructor")&&!l.hasOwnProperty.call(a.prototype,"isPrototypeOf"))return!1}catch(f){return!1}for(b in d);return b===k||l.hasOwnProperty.call(d,b)}});for(var d="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
f=0;f<d.length;f++)(function(d,b){m["[object "+d+"]"]=b=d.toLowerCase();c["is"+d]=function(a){return c.type(a)===b}})(d[f],f);c.isArray=Array.isArray||c.isArray});
KISSY.add("util/web",[],function(c,k){function m(){if(!b){j&&j.setTimeout&&B(j,q,m);b=1;for(var d=0;d<a.length;d++)try{a[d](c)}catch(e){setTimeout(function(){throw e;},0)}}}function l(){if(!d||d.readyState===s)m();else if(y(j,q,m),e){var a=function(){B(d,t,a);m()};y(d,t,a)}else{var b=function(){d.readyState===s&&(B(d,r,b),m())};y(d,r,b);var c,h=f&&f.doScroll;try{c=null===j.frameElement}catch(g){c=!1}if(h&&c){var k=function(){try{h("left"),m()}catch(a){setTimeout(k,i)}};k()}}}var j=c.Env.host,d=j.document||
{},f=d.documentElement,h=j.location,b=0,a=[],i=40,g=/^#?([\w-]+)$/,p=/\S/,e=d.addEventListener,n=d.attachEvent||e,t="DOMContentLoaded",r="readystatechange",q="load",s="complete",y=e?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},B=e?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};c.mix(c,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{j.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=k}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&p.test(a)&&(j.execScript?j.execScript(a):j.eval.call(j,a))},ready:function(d){if(b)try{d(c)}catch(e){setTimeout(function(){throw e;},0)}else a.push(d);return this},available:function(a,b){var a=(a+"").match(g)[1],e=1,f=c.later(function(){if(500<++e)f.cancel();else{var c=d.getElementById(a);c&&(b(c),f.cancel())}},
i,!0)}});if(h&&-1!==(h.search||"").indexOf("ks-debug"))c.Config.debug=!0;n&&l();try{d.execCommand("BackgroundImageCache",!1,!0)}catch(w){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(c,k){function m(d,f,h){var b=d,a,i,g,k;if(!d)return b;if(d[j])return h[d[j]].destination;if(typeof d==="object"){k=d.constructor;if(c.inArray(k,[Boolean,String,Number,Date,RegExp]))b=new k(d.valueOf());else if(a=c.isArray(d))b=f?c.filter(d,f):d.concat();else if(i=c.isPlainObject(d))b={};d[j]=k=c.guid("c");h[k]={destination:b,input:d}}if(a)for(d=0;d<b.length;d++)b[d]=m(b[d],f,h);else if(i)for(g in d)if(g!==
j&&(!f||f.call(d,d[g],g,d)!==l))b[g]=m(d[g],f,h);return b}var l=false,j="__~ks_cloned";c.mix=function(c,f){for(var h in f)c[h]=f[h];return c};k("util/array");k("util/escape");k("util/function");k("util/object");k("util/string");k("util/type");k("util/web");c.mix(c,{clone:function(d,f){var h={},b=m(d,f,h);c.each(h,function(a){a=a.input;if(a[j])try{delete a[j]}catch(b){a[j]=void 0}});h=null;return b}});return c});
KISSY.add("ua",[],function(c,k,m,l,j){function d(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 0===b++?".":""}))}function f(a,b){var c;b.trident=0.1;if((c=a.match(/Trident\/([\d.]*)/))&&c[1])b.trident=d(c[1]);b.core="trident"}function h(a){var b,c;return(b=a.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(c=b[1]||b[2])?d(c):0}function b(b){var c,i="",k="",g,l=[6,9],m,p=a&&a.createElement("div"),w=[],o={webkit:j,trident:j,gecko:j,presto:j,chrome:j,safari:j,firefox:j,ie:j,
ieMode:j,opera:j,mobile:j,core:j,shell:j,phantomjs:j,os:j,ipad:j,iphone:j,ipod:j,ios:j,android:j,nodejs:j};p&&p.getElementsByTagName&&(p.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",""),w=p.getElementsByTagName("s"));if(0<w.length){f(b,o);g=l[0];for(l=l[1];g<=l;g++)if(p.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",g),0<w.length){o[k="ie"]=g;break}if(!o.ie&&(m=h(b)))o[k="ie"]=m}else if(((g=b.match(/AppleWebKit\/([\d.]*)/))||(g=b.match(/Safari\/([\d.]*)/)))&&
g[1]){o[i="webkit"]=d(g[1]);(g=b.match(/OPR\/(\d+\.\d+)/))&&g[1]?o[k="opera"]=d(g[1]):(g=b.match(/Chrome\/([\d.]*)/))&&g[1]?o[k="chrome"]=d(g[1]):(g=b.match(/\/([\d.]*) Safari/))&&g[1]?o[k="safari"]=d(g[1]):o.safari=o.webkit;if(/ Mobile\//.test(b)&&b.match(/iPad|iPod|iPhone/)){o.mobile="apple";if((g=b.match(/OS ([^\s]*)/))&&g[1])o.ios=d(g[1].replace("_","."));c="ios";if((g=b.match(/iPad|iPod|iPhone/))&&g[0])o[g[0].toLowerCase()]=o.ios}else if(/ Android/i.test(b)){if(/Mobile/.test(b)&&(c=o.mobile=
"android"),(g=b.match(/Android ([^\s]*);/))&&g[1])o.android=d(g[1])}else if(g=b.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))o.mobile=g[0].toLowerCase();if((g=b.match(/PhantomJS\/([^\s]*)/))&&g[1])o.phantomjs=d(g[1])}else if((g=b.match(/Presto\/([\d.]*)/))&&g[1]){if(o[i="presto"]=d(g[1]),(g=b.match(/Opera\/([\d.]*)/))&&g[1]){o[k="opera"]=d(g[1]);if((g=b.match(/Opera\/.* Version\/([\d.]*)/))&&g[1])o[k]=d(g[1]);if((g=b.match(/Opera Mini[^;]*/))&&g)o.mobile=g[0].toLowerCase();else if((g=b.match(/Opera Mobi[^;]*/))&&
g)o.mobile=g[0]}}else if(m=h(b))o[k="ie"]=m,f(b,o);else if(g=b.match(/Gecko/)){o[i="gecko"]=0.1;if((g=b.match(/rv:([\d.]*)/))&&g[1])o[i]=d(g[1]),/Mobile|Tablet/.test(b)&&(o.mobile="firefox");if((g=b.match(/Firefox\/([\d.]*)/))&&g[1])o[k="firefox"]=d(g[1])}c||(/windows|win32/i.test(b)?c="windows":/macintosh|mac_powerpc/i.test(b)?c="macintosh":/linux/i.test(b)?c="linux":/rhino/i.test(b)&&(c="rhino"));o.os=c;o.core=o.core||i;o.shell=k;o.ieMode=o.ie&&a.documentMode||o.ie;return o}var k=c.Env.host,a=k.document,
k=k.navigator,c=c.UA=b(k&&k.userAgent||"");if("object"===typeof process){var i,g;if((i=process.versions)&&(g=i.node))c.os=process.platform,c.nodejs=d(g)}c.getDescriptorFromUserAgent=b;i="webkit,trident,gecko,presto,chrome,safari,firefox,ie,opera".split(",");g=a&&a.documentElement;k="";if(g){for(m=0;m<i.length;m++){var l=i[m],p=c[l];p&&(k+=" ks-"+l+(parseInt(p,10)+""),k+=" ks-"+l)}k&&(g.className=(g.className+k).replace(/^[\s\xa0]+|[\s\xa0]+$/g,""))}return c});
KISSY.add("feature",["util","ua"],function(c,k){function m(a){-1!==a.indexOf("-")&&(a=c.camelCase(a));if(a in q)return q[a];if(!e||a in e)q[a]={propertyName:a,propertyNamePrefix:""};else{for(var b=a.charAt(0).toUpperCase()+a.slice(1),d,g=0;g<h;g++){var i=f[g];d=i+b;d in e&&(q[a]={propertyName:d,propertyNamePrefix:i})}q[a]=q[a]||null}return q[a]}k("util");var l=c.Env.host,j=c.Config,d=k("ua"),f=["Webkit","Moz","O","ms"],h=f.length,b=l.document||{},a,i,g,p=b&&b.documentElement,e,n=!0,t=!1,r="ontouchstart"in
b&&!d.phantomjs,q={},s=d.ieMode;p&&(p.querySelector&&8!==s&&(t=!0),e=p.style,n="classList"in p,d=l.navigator||{},a="msPointerEnabled"in d,i="pointerEnabled"in d);c.Feature={isMsPointerSupported:function(){return a},isPointerSupported:function(){return i},isTouchEventSupported:function(){return r},isTouchGestureSupported:function(){return r||i||a},isDeviceMotionSupported:function(){return!!l.DeviceMotionEvent},isHashChangeSupported:function(){return"onhashchange"in l&&(!s||s>7)},isInputEventSupported:function(){return!j.simulateInputEvent&&
"oninput"in l&&(!s||s>9)},isTransform3dSupported:function(){if(g!==void 0)return g;if(!p||!m("transform"))g=false;else{var a=b.createElement("p"),c=m("transform").name;p.insertBefore(a,p.firstChild);a.style[c]="translate3d(1px,1px,1px)";var d=l.getComputedStyle(a),c=d.getPropertyValue(c)||d[c];p.removeChild(a);g=c!==void 0&&c.length>0&&c!=="none"}return g},isClassListSupported:function(){return n},isQuerySelectorSupported:function(){return!j.simulateCss3Selector&&t},getCssVendorInfo:function(a){return m(a)}};
return c.Feature});KISSY.use("ua, util");
(function(c){var k=c.UA,m=c.Env.host,l=(k.nodejs&&"object"===typeof global?global:m).JSON;9>k.ieMode&&(l=null);if(l)c.add("json",function(){return c.JSON=l}),c.parseJson=function(b){return l.parse(b)};else{var j=/^[\],:{}\s]*$/,d=/(?:^|:|,)(?:\s*\[)+/g,f=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,h=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;c.parseJson=function(b){return null===b?b:"string"===typeof b&&(b=c.trim(b))&&j.test(b.replace(f,"@").replace(h,"]").replace(d,""))?(new Function("return "+
b))():c.error("Invalid Json: "+b)}}})(KISSY);KISSY.config({modules:{ajax:{alias:"io"}}});KISSY.config({packages:{gallery:{base:"https"===location.protocol?"https://s.tbcdn.cn/s/kissy/gallery":"http://a.tbcdn.cn/s/kissy/gallery"}}});KISSY.use("feature");
(function(c){function k(b,a){var d;"string"===typeof b?(d={},d[b]=a):d=b;c.config("alias",d)}c.config("requires",{"anim/base":["dom","promise"],"anim/timer":["anim/base"],"anim/transition":["anim/base"],attribute:["event/custom"],base:["attribute"],button:["component/control"],color:["attribute"],combobox:["menu","io"],"combobox/multi-word":["combobox"],"component/container":["component/control"],"component/control":"node,event/gesture/base,event/gesture/tap,component/manager,base,xtemplate/runtime".split(","),
"component/extension/align":["node"],"component/extension/content-box":["component/extension/content-xtpl"],"component/extension/delegate-children":["component/manager","event/gesture/base","event/gesture/tap"],"component/extension/shim":["ua"],"component/plugin/drag":["dd"],"component/plugin/resize":["resizable"],"date/format":["date/gregorian"],"date/gregorian":["i18n!date"],"date/picker":["i18n!date/picker","component/control","date/format","date/picker-xtpl"],"date/popup-picker":["date/picker",
"component/extension/shim","component/extension/align"],dd:["node","base","event/gesture/base","event/gesture/drag"],"dd/plugin/constrain":["node","base"],"dd/plugin/proxy":["dd"],"dd/plugin/scroll":["dd"],dom:["ua"],"dom/base":["ua"],"dom/class-list":["dom/base"],"dom/ie":["dom/base"],"dom/selector":["dom/basic"],editor:["html-parser","component/control"],"event/base":["util"],"event/custom":["event/base"],"event/dom/base":["event/base","dom"],"event/dom/focusin":["event/dom/base"],"event/dom/hashchange":["event/dom/base"],
"event/dom/ie":["event/dom/base"],"event/dom/input":["event/dom/base"],"event/gesture/base":["event/dom/base","event/gesture/util"],"event/gesture/drag":["event/gesture/util","event/dom/base"],"event/gesture/shake":["event/dom/base"],feature:["ua"],"filter-menu":["menu"],io:["dom","event/custom","promise","uri","event/dom"],menu:["component/container","component/extension/delegate-children","component/extension/content-box","component/extension/align","component/extension/shim"],menubutton:["button",
"menu"],"navigation-view":["component/container","component/extension/content-box"],node:["dom","event/dom","anim"],overlay:["component/container","component/extension/shim","component/extension/align","component/extension/content-box"],path:["util"],resizable:["dd"],"resizable/plugin/proxy":["node","base"],router:["event/dom","uri","event/custom"],"scroll-view/base":["anim/timer","component/container","component/extension/content-box"],"scroll-view/plugin/pull-to-refresh":["base"],"scroll-view/plugin/scrollbar":["component/control",
"event/gesture/drag"],"scroll-view/touch":["scroll-view/base","event/gesture/drag"],separator:["component/control"],"split-button":["menubutton"],stylesheet:["dom"],swf:["dom","json","attribute"],tabs:["toolbar","button"],toolbar:["component/container","component/extension/delegate-children"],tree:["component/container","component/extension/content-xtpl","","component/extension/delegate-children"],ua:["util"],uri:["path"],xtemplate:["xtemplate/compiler"],"xtemplate/compiler":["xtemplate/runtime"],
"xtemplate/runtime":["util"]});var m=c.Feature,l=c.UA,j=window,d=m.isTouchGestureSupported(),f=c.add,h={};k("anim",m.getCssVendorInfo("transition")?"anim/transition":"anim/timer");k({"dom/basic":["dom/base",9>l.ieMode?"dom/ie":"",m.isClassListSupported()?"":"dom/class-list"],dom:["dom/basic",m.isQuerySelectorSupported()?"":"dom/selector"]});k("event/dom",["event/dom/base",m.isHashChangeSupported()?"":"event/dom/hashchange",9>l.ieMode?"event/dom/ie":"",m.isInputEventSupported()?"":"event/dom/input",
l.ie?"":"event/dom/focusin"]);d||f("event/gesture/edge-drag",h);d||f("event/gesture/pinch",h);d||f("event/gesture/rotate",h);j.DeviceMotionEvent||f("event/gesture/shake",h);d||f("event/gesture/swipe",h);k("scroll-view",m.isTouchGestureSupported()?"scroll-view/touch":"scroll-view/base")})(KISSY);
