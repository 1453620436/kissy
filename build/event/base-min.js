/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 27 21:57
*/
KISSY.add("event/base/utils",["util"],function(f,g){function d(b){if(0>b.indexOf("."))return[b,""];var a=b.match(/([^.]+)?(\..+)?$/),b=[a[1]];(a=a[2])?(a=a.split(".").sort(),b.push(a.join("."))):b.push("");return b}var a,c;g("util");return{splitAndRun:a=function(b,a){f.isArray(b)?f.each(b,a):(b=f.trim(b),-1===b.indexOf(" ")?a(b):f.each(b.split(/\s+/),a))},normalizeParam:function(b,a,c){var e=a||{},e="function"===typeof a?{fn:a,context:c}:f.merge(e),a=d(b),b=a[0];e.groups=a[1];e.type=b;return e},batchForType:function(b,
c){var d=f.makeArray(arguments),e=d[2+c];e&&"object"===typeof e?f.each(e,function(a,f){var e=[].concat(d);e.splice(0,2);e[c]=f;e[c+1]=a;b.apply(null,e)}):a(e,function(a){var e=[].concat(d);e.splice(0,2);e[c]=a;b.apply(null,e)})},fillGroupsForEvent:function(a,f){var g=d(a),e=g[1];e&&(e=c(e),f._ksGroups=e);f.type=g[0]},getGroupsRe:c=function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}});
KISSY.add("event/base/object",[],function(f,g){function d(){this.timeStamp=f.now();this.currentTarget=this.target=g}var a=function(){return!1},c=function(){return!0};d.prototype={constructor:d,isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){this.isDefaultPrevented=c},stopPropagation:function(){this.isPropagationStopped=c},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=c;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():
this.stopPropagation();this.preventDefault()}};return d});
KISSY.add("event/base/observer",[],function(f,g){function d(a){f.mix(this,a)}d.prototype={constructor:d,equals:function(a){var c=this;return!!f.reduce(c.keys,function(b,d){return b&&c[d]===a[d]},1)},simpleNotify:function(a,c){var b;b=this.fn.call(this.context||c.currentTarget,a,this.data);this.once&&c.removeObserver(this);return b},notifyInternal:function(a,c){var b=this.simpleNotify(a,c);!1===b&&a.halt();return b},notify:function(a,c){var b=a._ksGroups;return b&&(!this.groups||!this.groups.match(b))?
g:this.notifyInternal(a,c)}};return d});
KISSY.add("event/base/observable",[],function(f){function g(d){this.currentTarget=null;f.mix(this,d);this.reset()}g.prototype={constructor:g,hasObserver:function(){return!!this.observers.length},reset:function(){this.observers=[]},removeObserver:function(d){var a,c=this.observers,b=c.length;for(a=0;a<b;a++)if(c[a]===d){c.splice(a,1);break}this.checkMemory()},checkMemory:function(){},findObserver:function(d){var a=this.observers,c;for(c=a.length-1;0<=c;--c)if(d.equals(a[c]))return c;return-1}};return g});
KISSY.add("event/base",["./base/utils","./base/object","./base/observer","./base/observable"],function(f,g){var d=g("./base/utils"),a=g("./base/object"),c=g("./base/observer"),b=g("./base/observable");return{Utils:d,Object:a,Observer:c,Observable:b}});
