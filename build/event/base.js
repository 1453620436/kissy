/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: May 26 21:38
*/
KISSY.add("event/base",["./base/utils","./base/object","./base/observer","./base/observable"],function(i,f){var c=f("./base/utils"),g=f("./base/object"),d=f("./base/observer"),b=f("./base/observable");return{Utils:c,Object:g,Observer:d,Observable:b}});
KISSY.add("event/base/utils",["util","util"],function(i,f){function c(a){if(0>a.indexOf("."))return[a,""];var e=a.match(/([^.]+)?(\..+)?$/),a=[e[1]];(e=e[2])?(e=e.split(".").sort(),a.push(e.join("."))):a.push("");return a}var g,d,b=f("util");f("util");return{splitAndRun:g=function(a,e){b.isArray(a)?b.each(a,e):(a=b.trim(a),-1===a.indexOf(" ")?e(a):b.each(a.split(/\s+/),e))},normalizeParam:function(a,e,d){var h=e||{},h="function"===typeof e?{fn:e,context:d}:b.merge(h),e=c(a),a=e[0];h.groups=e[1];h.type=
a;return h},batchForType:function(a,e){var d=b.makeArray(arguments),c=d[2+e];c&&b.isObject(c)?b.each(c,function(b,c){var f=[].concat(d);f.splice(0,2);f[e]=c;f[e+1]=b;a.apply(null,f)}):g(c,function(b){var c=[].concat(d);c.splice(0,2);c[e]=b;a.apply(null,c)})},fillGroupsForEvent:function(a,b){var f=c(a),g=f[1];g&&(g=d(g),b._ksGroups=g);b.type=f[0]},getGroupsRe:d=function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}});
KISSY.add("event/base/object",["util"],function(i,f){function c(){this.timeStamp=a.now();this.currentTarget=this.target=b}var g=function(){return!1},d=function(){return!0},b,a=f("util");c.prototype={isEventObject:1,constructor:c,isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){this.isDefaultPrevented=d},stopPropagation:function(){this.isPropagationStopped=d},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d;this.stopPropagation()},
halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}};return c});
KISSY.add("event/base/observer",["util"],function(i,f){function c(d){g.mix(this,d)}var g=f("util");c.prototype={constructor:c,equals:function(d){var b=this;return!!g.reduce(b.keys,function(a,c){return a&&b[c]===d[c]},1)},simpleNotify:function(d,b){var a;a=this.fn.call(this.context||b.currentTarget,d,this.data);this.once&&b.removeObserver(this);return a},notifyInternal:function(d,b){var a=this.simpleNotify(d,b);!1===a&&d.halt();return a},notify:function(d,b){var a=d._ksGroups;return a&&(!this.groups||
!this.groups.match(a))?void 0:this.notifyInternal(d,b)}};return c});
KISSY.add("event/base/observable",["util"],function(i,f){function c(d){this.currentTarget=null;g.mix(this,d);this.reset()}var g=f("util");c.prototype={constructor:c,hasObserver:function(){return!!this.observers.length},reset:function(){this.observers=[]},removeObserver:function(d){var b,a=this.observers,c=a.length;for(b=0;b<c;b++)if(a[b]===d){a.splice(b,1);break}this.checkMemory()},checkMemory:function(){},findObserver:function(c){var b=this.observers,a;for(a=b.length-1;0<=a;--a)if(c.equals(b[a]))return a;
return-1}};return c});
