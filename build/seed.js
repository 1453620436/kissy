/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Apr 15 17:58
*/
var KISSY=function(d){function h(d){var e={},b;for(b in k)(function(a,b){a[b]=function(a){return j.log(a,b,d)}})(e,b);return e}var j,l=0,k={debug:10,info:20,warn:30,error:40};return j={__BUILD_TIME:"20140415175730",Env:{host:this},Config:{debug:"",packages:{},fns:{}},version:"5.0.0",config:function(f,e){var b,a,g=j.Config,c=g.fns;if("string"===typeof f)b=c[f],e===d?a=b?b.call(this):g[f]:b?a=b.call(this,e):g[f]=e;else for(var o in f)e=f[o],(b=c[o])?b.call(this,e):g[o]=e;return a},log:function(){return d},
getLogger:function(d){return h(d)},error:function(){},guid:function(d){return(d||"")+l++}}}();(function(d){(d.Loader={}).Status={ERROR:-1,INIT:0,LOADING:1,LOADED:2,ATTACHING:3,ATTACHED:4}})(KISSY);
(function(d){function h(a){if("string"===typeof a)return j(a);for(var b=[],c=0,g=a.length;c<g;c++)b[c]=j(a[c]);return b}function j(a){"/"===a.charAt(a.length-1)&&(a+="index");p.endsWith(a,".js")&&(a=a.slice(0,-3));return a}function l(a){var b=a.indexOf("!");if(-1!==b){var c=a.substring(0,b),a=a.substring(b+1),b=d.require(c);b.alias&&(a=b.alias(d,a,c))}return a}function k(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 0===b++?".":""}))}function f(a){var b=[],c;for(c in a)b.push(c);
return b}function e(a,b){for(var c in b)a[c]=b[c];return a}var b=d.Loader,a=d.Env,g=a.host,c=b.Status,o=c.ATTACHED,n=c.LOADED,i=c.ATTACHING,p=b.Utils={},s=g.document,q,m=(g.navigator||{}).userAgent||"";if(((q=m.match(/AppleWebKit\/([\d.]*)/))||(q=m.match(/Safari\/([\d.]*)/)))&&q[1])p.webkit=k(q[1]);var t=/http(s)?:\/\/([^/]+)(?::(\d+))?/,x=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};e(p,{mix:e,noop:function(){},startsWith:function(a,b){return 0===a.lastIndexOf(b,
0)},isEmptyObject:function(a){for(var b in a)if(void 0!==b)return!1;return!0},endsWith:function(a,b){var c=a.length-b.length;return 0<=c&&a.indexOf(b,c)===c},now:Date.now||function(){return+new Date},each:function(a,b){var c=0,g,i;if(x(a))for(i=a.length;c<i&&!1!==b(a[c],c,a);c++);else{g=f(a);for(i=g.length;c<i&&!1!==b(a[g[c]],g[c],a);c++);}},keys:f,isArray:x,normalizePath:function(a,b){if("."!==b.charAt(0))return b;var c=a.split("/"),g=b.split("/");c.pop();for(var i=0,n=g.length;i<n;i++){var d=g[i];
"."!==d&&(".."===d?c.pop():c.push(d))}return c.join("/")},isSameOriginAs:function(a,b){var c=a.match(t),g=b.match(t);return c[0]===g[0]},ie:function(){var a,b;if((a=m.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(b=a[1]||a[2]))return k(b)}(),docHead:function(){return s.getElementsByTagName("head")[0]||s.documentElement},normalDepModuleName:function(a,b){if("string"===typeof b)return p.normalizePath(a,b);var c=0,g;for(g=b.length;c<g;c++)b[c]=p.normalizePath(a,b[c]);return b},getOrCreateModulesInfo:function(a){var b=
[];p.each(a,function(a,c){b[c]=p.getOrCreateModuleInfo(a)});return b},getOrCreateModuleInfo:function(c,g){var c=j(c),i=a.mods,n=i[c];return n?n:i[c]=n=new b.Module(e({name:c},g))},getModules:function(b){var c=[d],g,n,e,f,o=a.mods;p.each(b,function(a){if((g=o[a])&&"css"!==g.getType()){n=g.getNormalizedAlias();e=!0;for(a=0;e&&a<n.length;a++)e=(f=o[n[a]])&&f.status>=i;e?c.push(o[n[0]].exports):c.push(null)}else c.push(void 0)});return c},attachModsRecursively:function(a){var c,b=a.length;for(c=0;c<b;c++)p.attachModRecursively(a[c])},
attachModRecursively:function(c){c=a.mods[c];c.status>=i||(c.status=i,c.cjs||p.attachModsRecursively(c.getNormalizedRequires()),p.attachMod(c))},attachMod:function(a){var c=a.factory;if("function"===typeof c){var b=a.requires,c=c.apply(a,a.cjs?[d,b&&b.length?a.require:void 0,a.exports,a]:p.getModules(a.getRequiresWithAlias()));void 0!==c&&(a.exports=c)}else a.exports=c;a.status=o},getModNamesAsArray:function(a){"string"===typeof a&&(a=a.replace(/\s+/g,"").split(","));return a},normalizeModNames:function(a,
c){return p.unalias(p.normalizeModNamesWithAlias(a,c))},unalias:function(a){for(var c=[],b=0;b<a.length;b++){var g=p.getOrCreateModuleInfo(a[b]);c.push.apply(c,g.getNormalizedAlias())}return c},normalizeModNamesWithAlias:function(a,c){var b=[],g,i;if(a){g=0;for(i=a.length;g<i;g++)a[g]&&b.push(l(h(a[g])))}c&&(b=p.normalDepModuleName(c,b));return b},registerModule:function(c,b,g){var c=j(c),i=a.mods,d=i[c];d&&void 0!==d.factory||(p.getOrCreateModuleInfo(c),d=i[c],e(d,{name:c,status:n,factory:b}),e(d,
g))},getHash:function(a){var c=5381,b;for(b=a.length;-1<--b;)c=(c<<5)+c+a.charCodeAt(b);return c+""},getRequiresFromFn:function(a){var c=[];a.toString().replace(A,"").replace(z,function(a,b){c.push(b.match(/^\s*["']([^'"\s]+)["']\s*$/)[1])});return c}});var A=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,z=/[^.'"]\s*require\s*\(([^)]+)\)/g})(KISSY);
(function(d){function h(a,b){return b in a?a[b]:f[b]}function j(a){this.filter="";b(this,a)}function l(a){var g=this;g.exports={};g.status=k.Status.INIT;g.name=void 0;g.factory=void 0;g.cjs=1;b(g,a);g.waits={};g.require=function(a){return d.require(a,g.name)}}var k=d.Loader,f=d.Config,e=k.Utils,b=e.mix;j.prototype={constructor:j,reset:function(a){b(this,a)},getTag:function(){return h(this,"tag")},getName:function(){return this.name},getBase:function(){return this.base},getCharset:function(){return h(this,
"charset")},isCombine:function(){return h(this,"combine")},getGroup:function(){return h(this,"group")}};k.Package=j;l.prototype={kissy:1,constructor:l,resolve:function(a){return e.normalizePath(this.name,a)},add:function(a){this.waits[a.id]=a},remove:function(a){delete this.waits[a.id]},contains:function(a){return this.waits[a.id]},flush:function(){e.each(this.waits,function(a){a.flush()});this.waits={}},getType:function(){var a=this.type;a||(this.type=a=e.endsWith(this.name,".css")?"css":"js");return a},
getAlias:function(){var a=this.name,b,c=this.alias;if(c)return c;b=this.getPackage();b.alias&&(c=b.alias(a));return c=this.alias=c||[]},getNormalizedAlias:function(){if(this.normalizedAlias)return this.normalizedAlias;var a=this.getAlias();"string"===typeof a&&(a=[a]);for(var b=[],c=0,d=a.length;c<d;c++)if(a[c]){var n=e.getOrCreateModuleInfo(a[c]).getNormalizedAlias();n?b.push.apply(b,n):b.push(a[c])}b.length||b.push(this.name);return this.normalizedAlias=b},getUrl:function(){this.url||(this.url=
d.Config.resolveModFn(this));return this.url},getName:function(){return this.name},getPackage:function(){if(!this.packageInfo){var a=f.packages,b=this.name+"/",c="",d;for(d in a)e.startsWith(b,d+"/")&&d.length>c.length&&(c=d);this.packageInfo=a[c]||a.core}return this.packageInfo},getTag:function(){return this.tag||this.getPackage().getTag()},getCharset:function(){return this.charset||this.getPackage().getCharset()},getRequiresWithAlias:function(){var a=this.requiresWithAlias,b=this.requires;if(!b||
0===b.length)return b||[];a||(this.requiresWithAlias=a=e.normalizeModNamesWithAlias(b,this.name));return a},getRequiredMods:function(){return e.getOrCreateModulesInfo(this.getNormalizedRequires())},getNormalizedRequires:function(){var a,b=this.normalizedRequiresStatus,c=this.status,d=this.requires;if(!d||0===d.length)return d||[];if((a=this.normalizedRequires)&&b===c)return a;this.normalizedRequiresStatus=c;return this.normalizedRequires=e.normalizeModNames(d,this.name)}};k.Module=l})(KISSY);
(function(d){function h(b){var a=0;if(k.webkit)b.sheet&&(a=1);else if(b.sheet)try{b.sheet.cssRules&&(a=1)}catch(d){"NS_ERROR_DOM_SECURITY_ERR"===d.name&&(a=1)}return a}function j(){for(var b in e){var a=e[b],d=a.node;h(d,b)&&(a.callback&&a.callback.call(d),delete e[b])}f=k.isEmptyObject(e)?0:setTimeout(j,l)}var l=30,k=d.Loader.Utils,f=0,e={};k.pollCss=function(b,a){var d;d=e[b.href]={};d.node=b;d.callback=a;f||j()};k.isCssLoaded=h})(KISSY);
(function(d){var h=d.Env.host.document,j=d.Loader.Utils,l={},k=j.webkit,f;d.getScript=function(e,b,a){function g(){var a=q.readyState;if(!a||"loaded"===a||"complete"===a)q.onreadystatechange=q.onload=null,m(0)}var c=b,o=j.endsWith(e,".css"),n,i,p,s;"object"===typeof c&&(b=c.success,n=c.error,i=c.timeout,a=c.charset,p=c.attrs);c=l[e]=l[e]||[];c.push([b,n]);if(1<c.length)return c.node;var q=h.createElement(o?"link":"script");p&&j.each(p,function(a,b){q.setAttribute(b,a)});a&&(q.charset=a);o?(q.href=
e,q.rel="stylesheet"):(q.src=e,q.async=!0);c.node=q;var m=function(a){var b;if(s){clearTimeout(s);s=void 0}j.each(l[e],function(c){(b=c[a])&&b.call(q)});delete l[e]},b="onload"in q,a=d.Config.forceCssPoll||k&&536>k;o&&a&&b&&(b=!1);b?(q.onload=g,q.onerror=function(){q.onerror=null;m(1)}):o?j.pollCss(q,function(){m(0)}):q.onreadystatechange=g;i&&(s=setTimeout(function(){m(1)},1E3*i));f||(f=j.docHead());o?f.appendChild(q):f.insertBefore(q,f.firstChild);return q}})(KISSY);
(function(d){function h(a){return function(b){var n={},i;for(i in b)n[i]={},n[i][a]=b[i];d.config("modules",n)}}function j(c,d){-1!==c.indexOf("\\")&&(c=c.replace(/\\/g,"/"));d&&"/"!==c.charAt(c.length-1)&&(c+="/");a&&(c="/"===c.charAt(0)?b.protocol+"//"+b.host+c:f.normalizePath(a,c));return c}var l=d.Loader,k=l.Package,f=l.Utils,e=d.Config,b=d.Env.host.location,a="",g=e.fns;b&&(a=b.protocol+"//"+b.host+b.pathname);e.loadModsFn=function(a,b){d.getScript(a.url,b)};e.resolveModFn=function(a){var b=
a.name,d,i,g;d=a.getPackage();i=d.getBase();var e=d.getName();g="."+a.getType();b=b.replace(/\.css$/,"");(d=d.filter)&&(d="-"+d);b===e?i=i.substring(0,i.length-1)+d+g:(g=b+d+g,f.startsWith(b,e+"/")&&(g=g.substring(e.length+1)),i+=g);if(b=a.getTag())b+="."+a.getType(),i+="?t="+b;return i};g.requires=h("requires");g.alias=h("alias");g.packages=function(a){var b=this.Config,d=b.packages;if(a)f.each(a,function(a,b){var c=a.name=a.name||b,g=a.base||a.path;g&&(a.base=j(g,!0));d[c]?d[c].reset(a):d[c]=new k(a)});
else if(!1===a)b.packages={core:d.core};else return d};g.modules=function(a){a&&f.each(a,function(a,b){var c=a.url;c&&(a.url=j(c));c=f.getOrCreateModuleInfo(b,a);c.status===l.Status.INIT&&f.mix(c,a)})};g.base=function(a){var b=e.packages.core;if(!a)return b&&b.getBase();this.config("packages",{core:{base:a}})}})(KISSY);
(function(d,h){function j(b,c,d){var i=b&&b.length,n=[],f=[];g(b,function(b){var g,o={timeout:d,success:function(){f.push(b);g&&q&&(a.registerModule(g.name,q.factory,q.config),q=h);--i||c(f,n)},error:function(){n.push(b);--i||c(f,n)},charset:b.charset};b.combine||(g=b.mods[0],"css"===g.getType()?g=h:p&&(m=g.name,o.attrs={"data-mod-name":g.name}));e.loadModsFn(b,o)})}function l(a){this.callback=a;this.head=this.tail=h;this.id="loader"+ ++s}function k(b,c){if(!b&&"function"===typeof c&&1<c.length){var d=
a.getRequiresFromFn(c);d.length&&(b=b||{},b.requires=d)}else b&&b.requires&&!b.cjs&&(b.cjs=0);return b}var f=d.Loader,e=d.Config,b=f.Status,a=f.Utils,g=a.each,c=a.getHash,o=b.LOADING,n=b.LOADED,i=b.ERROR,p=10>a.ie,s=0,q,m;l.add=function(b,c,d,g){if(3===g&&a.isArray(c))var i=c,c=d,d={requires:i,cjs:1};if("function"===typeof b||1===g)if(d=c,c=b,d=k(d,c),p){for(var b=document.getElementsByTagName("script"),e,g=b.length-1;0<=g;g--)if(i=b[g],"interactive"===i.readyState){e=i;break}b=e?e.getAttribute("data-mod-name"):
m;a.registerModule(b,c,d);m=null}else q={factory:c,config:d};else p?m=null:q=h,d=k(d,c),a.registerModule(b,c,d)};a.mix(l.prototype,{use:function(b){var c,d=e.timeout;c=this.getComboUrls(b);c.css&&j(c.css,function(b,c){g(b,function(b){g(b.mods,function(b){a.registerModule(b.name,a.noop);b.flush()})});g(c,function(a){g(a.mods,function(a){a.status=i;a.flush()})})},d);c.js&&j(c.js,function(){g(c.js,function(a){g(a.mods,function(a){a.factory||(a.status=i);a.flush()})})},d)},calculate:function(c,d,g,i,
e){if(!c.length)return[];var f,p,m,j,e=e||[],i=i||{};for(f=0;f<c.length;f++)p=c[f],i[p]||(m=a.getOrCreateModuleInfo(p),j=m.status,j===b.ERROR?d.push(m):j>n||(j!==n&&!m.contains(this)&&(j!==o&&(m.status=o,e.push(m)),m.add(this),this.wait(m)),this.calculate(m.getNormalizedRequires(),d,g,i,e)),i[p]=1);return e},getComboMods:function(b){var d,g=b.length,i,e,n,f,p,m,o,j={},h={};for(d=0;d<g;++d)if(e=b[d],f=e.getType(),e.getUrl(),n=e.getPackage(),o=n.getBase(),m=n.getCharset(),p=n.getTag(),i=n.getGroup(),
n.isCombine()&&i){n=j[f]||(j[f]={});i=i+"-"+m;var k=n[i]||(n[i]={}),l=0;a.each(k,function(b,d){if(a.isSameOriginAs(d,o)){var i;i=d;var g=o,n=i.substring(0,i.indexOf("//")+2);i=i.substring(n.length).split(/\//);for(var g=g.substring(n.length).split(/\//),f=Math.min(i.length,g.length),m=0;m<f&&i[m]===g[m];m++);i=n+i.slice(0,m).join("/")+"/";b.push(e);p&&p!==b.tag&&(b.tag=c(b.tag+p));delete k[d];k[i]=b;l=1}});l||(i=k[o]=[e],i.charset=m,i.tag=p||"")}else n=h[f]||(h[f]={}),(i=n[o])?p&&p!==i.tag&&(i.tag=
c(i.tag+p)):(i=n[o]=[],i.charset=m,i.tag=p||""),i.push(e);return{groups:j,normals:h}},getComboUrls:function(b){function c(b,e,f){for(var m=[],o=[],j=f.tag,h=f.charset,k=j?"?t="+encodeURIComponent(j)+"."+b:"",j=k.length,l=e.length,q=e+d,s=[],x=q.length,t=function(){s.push({combine:1,url:q+m.join(i)+k,charset:h,mods:o})},w=0;w<f.length;w++){var u=f[w],y=u.getUrl();if(!u.getPackage().isCombine()||!a.startsWith(y,e))s.push({combine:0,url:y,charset:h,mods:[u]});else if(y=y.slice(l).replace(/\?.*$/,""),
m.push(y),o.push(u),m.length>g||x+m.join(i).length+j>n)m.pop(),o.pop(),t(),m=[],o=[],w--}m.length&&t();p[b].push.apply(p[b],s)}var d=e.comboPrefix,i=e.comboSep,g=e.comboMaxFileNum,n=e.comboMaxUrlLength,f=this.getComboMods(b),p={},m,o,b=f.normals,f=f.groups,j;for(m in b)for(o in p[m]=p[m]||[],b[m])c(m,o,b[m][o]);for(m in f)for(j in p[m]=p[m]||[],f[m])for(o in f[m][j])c(m,o,f[m][j][o]);return p},flush:function(){if(this.callback){for(var a=this.head,c=this.callback;a;){var d=a.node,i=d.status;if(i>=
b.LOADED||i===b.ERROR)d.remove(this),a=this.head=a.next;else return}this.callback=null;c()}},isCompleteLoading:function(){return!this.head},wait:function(a){this.head?(a={node:a},this.tail=this.tail.next=a):this.tail=this.head={node:a}}});f.ComboLoader=l})(KISSY);
(function(d){var h=d.Loader,j=h.Utils,l=h.ComboLoader,k=d.Env.mods={};j.mix(d,{getModule:function(d){return j.getOrCreateModuleInfo(d)},getPackage:function(f){return d.Config.packages[f]},add:function(d,e,b){l.add(d,e,b,arguments.length)},use:function(f,e){function b(){++o;var i=[],p=g.calculate(n,i),h=p.length;if(i.length){if(c)try{c.apply(d,i)}catch(k){setTimeout(function(){throw k;},0)}}else if(g.isCompleteLoading()){if(j.attachModsRecursively(a),e)try{e.apply(d,j.getModules(f))}catch(m){setTimeout(function(){throw m;
},0)}}else if(g.callback=b,h){n=[];for(i=0;i<h;i++)n.push(p[i].name);g.use(p)}}var a,g,c,o=0;"object"===typeof e&&(c=e.error,e=e.success);var f=j.getModNamesAsArray(f),f=j.normalizeModNamesWithAlias(f),n=a=j.unalias(f);g=new l(b);b();return d},require:function(d,e){d=j.normalizePath(e,d);if(k[d]&&k[d].status===h.Status.ATTACHED)return k[d].exports;var b=j.normalizeModNames([d],e);j.attachModsRecursively(b);return j.getModules(b)[1]}})})(KISSY);
KISSY.add("i18n",{alias:function(d,h){return h+"/i18n/"+d.Config.lang}});
(function(d){function h(c){var d=c.src||"";if(!d.match(g))return 0;var c=(c=c.getAttribute("data-config"))?(new Function("return "+c))():{},n=c.comboPrefix||e,i=c.comboSep||b,p,j=d.indexOf(n);-1===j?p=d.replace(a,"$1"):(p=d.substring(0,j),"/"!==p.charAt(p.length-1)&&(p+="/"),n=d.substring(j+n.length).split(i),k.each(n,function(b){if(b.match(g))return p+=b.replace(a,"$1"),!1}));"tag"in c||(n=d.lastIndexOf("?t="),-1!==n&&(d=d.substring(n+1),c.tag=k.getHash(f+d)));c.base=c.base||p;return c}function j(){var a=
l.getElementsByTagName("script"),b,d;for(b=a.length-1;0<=b;b--)if(d=h(a[b]))return d;return null}var l=d.Env.host&&d.Env.host.document,k=d.Loader.Utils,f="20140415175730",e="??",b=",",a=/^(.*)(seed|loader)(?:-debug)?\.js[^/]*/i,g=/(seed|loader)(?:-debug)?\.js/i;d.config({comboPrefix:e,comboSep:b,charset:"utf-8",lang:"zh-cn"});d.config("packages",{core:{filter:""}});l&&l.getElementsByTagName&&d.config(k.mix({comboMaxUrlLength:2E3,comboMaxFileNum:40},j()))})(KISSY);
KISSY.add("util/array",function(d){var h=Array.prototype,j=h.indexOf,l=h.lastIndexOf,k=h.filter,f=h.every,e=h.some,b=h.map;d.mix(d,{indexOf:j?function(a,b,c){return void 0===c?j.call(b,a):j.call(b,a,c)}:function(a,b,c){for(var c=c||0,d=b.length;c<d;++c)if(b[c]===a)return c;return-1},lastIndexOf:l?function(a,b,c){return void 0===c?l.call(b,a):l.call(b,a,c)}:function(a,b,c){for(void 0===c&&(c=b.length-1);0<=c&&b[c]!==a;c--);return c},unique:function(a,b){var c=a.slice();b&&c.reverse();for(var e=0,n,
i;e<c.length;){for(i=c[e];(n=d.lastIndexOf(i,c))!==e;)c.splice(n,1);e+=1}b&&c.reverse();return c},inArray:function(a,b){return-1<d.indexOf(a,b)},filter:k?function(a,b,c){return k.call(a,b,c||this)}:function(a,b,c){var e=[];d.each(a,function(a,d,f){b.call(c||this,a,d,f)&&e.push(a)});return e},map:b?function(a,d,c){return b.call(a,d,c||this)}:function(a,b,c){for(var d=a.length,e=Array(d),i=0;i<d;i++){var f="string"===typeof a?a.charAt(i):a[i];if(f||i in a)e[i]=b.call(c||this,f,i,a)}return e},reduce:function(a,
b,c){var d=a.length;if("function"!==typeof b)throw new TypeError("callback is not function!");if(0===d&&2===arguments.length)throw new TypeError("arguments invalid");var e=0,i;if(3<=arguments.length)i=c;else{do{if(e in a){i=a[e++];break}e+=1;if(e>=d)throw new TypeError;}while(1)}for(;e<d;)e in a&&(i=b.call(void 0,i,a[e],e,a)),e++;return i},every:f?function(a,b,c){return f.call(a,b,c||this)}:function(a,b,c){for(var d=a&&a.length||0,e=0;e<d;e++)if(e in a&&!b.call(c,a[e],e,a))return!1;return!0},some:e?
function(a,b,c){return e.call(a,b,c||this)}:function(a,b,c){for(var d=a&&a.length||0,e=0;e<d;e++)if(e in a&&b.call(c,a[e],e,a))return!0;return!1},makeArray:function(a){if(null==a)return[];if(d.isArray(a))return a;var b=typeof a.length,c=typeof a;if("number"!==b||"string"===typeof a.nodeName||null!=a&&a==a.window||"string"===c||"function"===c&&!("item"in a&&"number"===b))return[a];for(var b=[],c=0,e=a.length;c<e;c++)b[c]=a[c];return b}})});
KISSY.add("util/escape",function(d){var h={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},j={},l,k,f=/[&<>"'`]/,e=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var b in h)j[h[b]]=b})();l=function(){var b="",a;for(a in h)b+=h[a]+"|";b=b.slice(0,-1);return l=RegExp(b,"g")}();k=function(){var b="",a;for(a in j)b+=j[a]+"|";return k=RegExp(b+"&#(\\d{1,5});","g")}();d.mix(d,{escapeHtml:function(b){if(!b&&0!==b)return"";b=""+b;return!f.test(b)?b:(b+"").replace(l,function(a){return j[a]})},
escapeRegExp:function(b){return b.replace(e,"\\$&")},unEscapeHtml:function(b){return b.replace(k,function(a,b){return h[a]||String.fromCharCode(+b)})}});d.escapeHTML=d.escapeHtml;d.unEscapeHTML=d.unEscapeHtml});
KISSY.add("util/function",function(d){function h(d,h,k){function f(){}var e=[].slice,b=e.call(arguments,3),a=function(){var a=e.call(arguments);return h.apply(this instanceof f?this:k||this,d?a.concat(b):b.concat(a))};f.prototype=h.prototype;a.prototype=new f;return a}d.mix(d,{noop:function(){},bind:h(0,h,null,0),rbind:h(0,h,null,1),later:function(j,h,k,f,e){var h=h||0,b=j,a=d.makeArray(e),g;"string"===typeof j&&(b=f[j]);j=function(){b.apply(f,a)};g=k?setInterval(j,h):setTimeout(j,h);return{id:g,
interval:k,cancel:function(){this.interval?clearInterval(g):clearTimeout(g)}}},throttle:function(j,h,k){h=h||150;if(-1===h)return function(){j.apply(k||this,arguments)};var f=d.now();return function(){var e=d.now();e-f>h&&(f=e,j.apply(k||this,arguments))}},buffer:function(h,l,k){function f(){f.stop();e=d.later(h,l,0,k||this,arguments)}l=l||150;if(-1===l)return function(){h.apply(k||this,arguments)};var e=null;f.stop=function(){e&&(e.cancel(),e=0)};return f}})});
KISSY.add("util/object",function(d){function h(){}function j(a,c,e,g,h,m){if(!c||!a)return a;var o,l,A,z;c[f]=a;m.push(c);A=d.keys(c);z=A.length;for(o=0;o<z;o++)if(l=A[o],l!==f){var r=a,B=c,w=e,C=g,y=h,D=m;if(w||!(l in r)||y){var u=r[l],v=B[l];if(u===v)u===k&&(r[l]=u);else if(C&&(v=C.call(B,l,v)),y&&v&&(d.isArray(v)||d.isPlainObject(v)))v[f]?r[l]=v[f]:(B=u&&(d.isArray(u)||d.isPlainObject(u))?u:d.isArray(v)?[]:{},r[l]=B,j(B,v,w,C,b,D));else if(v!==k&&(w||!(l in r)))r[l]=v}}return a}function l(a,b){return"constructor"===
a?k:b}var k,f="__MIX_CIRCULAR",e=d.Env.host,b=!0,a={}.toString,g=Object.create,c=!{toString:1}.propertyIsEnumerable("toString"),o="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toString,toLocaleString,valueOf".split(",");(function(a,b){for(var c in b)a[c]=b[c]})(d,{keys:Object.keys||function(a){var b=[],d,e;for(d in a)a.hasOwnProperty(d)&&b.push(d);if(c)for(e=o.length-1;0<=e;e--)d=o[e],a.hasOwnProperty(d)&&b.push(d);return b},each:function(b,c,e){if(b){var f,g,m=0;f=b&&b.length;g=
f===k||"[object Function]"===a.call(b);e=e||null;if(g)for(g=d.keys(b);m<g.length&&!(f=g[m],!1===c.call(e,b[f],f,b));m++);else for(g=b[0];m<f&&!1!==c.call(e,g,m,b);g=b[++m]);}return b},now:Date.now||function(){return+new Date},isArray:function(b){return"[object Array]"===a.call(b)},isEmptyObject:function(a){for(var b in a)if(b!==k)return!1;return!0},stamp:function(a,b,c){var c=c||"__~ks_stamped",e=a[c];if(!e&&!b)try{e=a[c]=d.guid(c)}catch(f){e=k}return e},mix:function(a,c,e,g,h){"object"===typeof e&&
(g=e.whitelist,h=e.deep,e=e.overwrite);if(g&&"function"!==typeof g)var m=g,g=function(a,b){return d.inArray(a,m)?b:k};e===k&&(e=b);var l=[],o=0;for(j(a,c,e,g,h,l);c=l[o++];)delete c[f];return a},merge:function(a){var a=d.makeArray(arguments),b={},c,e=a.length;for(c=0;c<e;c++)d.mix(b,a[c]);return b},augment:function(a,b){var c=d.makeArray(arguments),e=c.length-2,f=1,g,h,j=c[e],o=c[e+1];c[1]=b;d.isArray(o)||(j=o,o=k,e++);"boolean"!==typeof j&&(j=k,e++);for(;f<e;f++){h=c[f];if(g=h.prototype)h=d.mix({},
g,!0,l);d.mix(a.prototype,h,j,o)}return a},extend:function(a,b,c,e){var f=b.prototype;f.constructor=b;g?b=g(f):(h.prototype=f,b=new h);b.constructor=a;a.prototype=d.mix(b,a.prototype);a.superclass=f;c&&d.mix(b,c);e&&d.mix(a,e);return a},namespace:function(){var a=d.makeArray(arguments),c=a.length,f=null,g,h,m,j=a[c-1]===b&&c--;for(g=0;g<c;g++){m=(""+a[g]).split(".");f=j?e:this;for(h=e[m[0]]===f?1:0;h<m.length;++h)f=f[m[h]]=f[m[h]]||{}}return f}})});
KISSY.add("util/string",function(d){function h(b){var a=typeof b;return null==b||"object"!==a&&"function"!==a}function j(b,a){return a.toUpperCase()}var l=/\\?\{([^{}]+)\}/g,k=/-([a-z])/ig,f=/^[\s\xa0]+|[\s\xa0]+$/g,e=String.prototype.trim;d.mix(d,{param:function(b,a,e,c){a=a||"&";e=e||"=";void 0===c&&(c=!0);var f=[],j,i,k,l,q,m=d.urlEncode;for(j in b)if(q=b[j],j=m(j),h(q))f.push(j),void 0!==q&&f.push(e,m(q+"")),f.push(a);else if(d.isArray(q)&&q.length){i=0;for(l=q.length;i<l;++i)k=q[i],h(k)&&(f.push(j,
c?m("[]"):""),void 0!==k&&f.push(e,m(k+"")),f.push(a))}f.pop();return f.join("")},unparam:function(b,a,e){if("string"!==typeof b||!(b=d.trim(b)))return{};for(var e=e||"=",c={},f,h=d.urlDecode,b=b.split(a||"&"),i=0,j=b.length;i<j;++i){f=b[i].indexOf(e);if(-1===f)a=h(b[i]),f=void 0;else{a=h(b[i].substring(0,f));f=b[i].substring(f+1);try{f=h(f)}catch(k){}d.endsWith(a,"[]")&&(a=a.substring(0,a.length-2))}a in c?d.isArray(c[a])?c[a].push(f):c[a]=[c[a],f]:c[a]=f}return c},startsWith:function(b,a){return 0===
b.lastIndexOf(a,0)},endsWith:function(b,a){var d=b.length-a.length;return 0<=d&&b.indexOf(a,d)===d},trim:e?function(b){return null==b?"":e.call(b)}:function(b){return null==b?"":(b+"").replace(f,"")},urlEncode:function(b){return encodeURIComponent(""+b)},urlDecode:function(b){return decodeURIComponent(b.replace(/\+/g," "))},camelCase:function(b){return b.replace(k,j)},substitute:function(b,a,d){return"string"!==typeof b||!a?b:b.replace(d||l,function(b,d){return"\\"===b.charAt(0)?b.slice(1):void 0===
a[d]?"":a[d]})},ucfirst:function(b){b+="";return b.charAt(0).toUpperCase()+b.substring(1)}})});
KISSY.add("util/type",function(d){var h={},j=Object.prototype,l=j.toString;d.mix(d,{type:function(d){return null==d?""+d:h[l.call(d)]||"object"},isPlainObject:function(e){if(!e||"object"!==d.type(e)||e.nodeType||e.window==e)return!1;var b,a;try{if((a=e.constructor)&&!j.hasOwnProperty.call(e,"constructor")&&!j.hasOwnProperty.call(a.prototype,"isPrototypeOf"))return!1}catch(f){return!1}for(b in e);return void 0===b||j.hasOwnProperty.call(e,b)}});for(var k="Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),
f=0;f<k.length;f++)(function(e,b){h["[object "+e+"]"]=b=e.toLowerCase();d["is"+e]=function(a){return d.type(a)===b}})(k[f],f);d.isArray=Array.isArray||d.isArray});
KISSY.add("util/web",function(d){function h(){if(!b){l&&l.setTimeout&&x(l,q,h);b=1;for(var c=0;c<a.length;c++)try{a[c](d)}catch(e){setTimeout(function(){throw e;},0)}}}function j(){if(!k||k.readyState===m)h();else if(t(l,q,h),n){var a=function(){x(k,p,a);h()};t(k,p,a)}else{var b=function(){k.readyState===m&&(x(k,s,b),h())};t(k,s,b);var c,d=f&&f.doScroll;try{c=null===l.frameElement}catch(e){c=!1}if(d&&c){var i=function(){try{d("left"),h()}catch(a){setTimeout(i,g)}};i()}}}var l=d.Env.host,k=l.document||
{},f=k.documentElement,e=l.location,b=0,a=[],g=40,c=/^#?([\w-]+)$/,o=/\S/,n=k.addEventListener,i=k.attachEvent||n,p="DOMContentLoaded",s="readystatechange",q="load",m="complete",t=n?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},x=n?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};d.mix(d,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{l.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=void 0}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&o.test(a)&&(l.execScript?l.execScript(a):l.eval.call(l,a))},ready:function(c){if(b)try{c(d)}catch(e){setTimeout(function(){throw e;},0)}else a.push(c);return this},available:function(a,b){var a=(a+"").match(c)[1],e=1,f=d.later(function(){if(500<++e)f.cancel();else{var c=k.getElementById(a);c&&(b(c),f.cancel())}},
g,!0)}});if(e&&-1!==(e.search||"").indexOf("ks-debug"))d.Config.debug=!0;i&&j();try{k.execCommand("BackgroundImageCache",!1,!0)}catch(A){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(d,h){function j(f,e,b){var a=f,g,c,h,n;if(!f)return a;if(f[k])return b[f[k]].destination;if(typeof f==="object"){n=f.constructor;if(d.inArray(n,[Boolean,String,Number,Date,RegExp]))a=new n(f.valueOf());else if(g=d.isArray(f))a=e?d.filter(f,e):f.concat();else if(c=d.isPlainObject(f))a={};f[k]=n=d.guid("c");b[n]={destination:a,input:f}}if(g)for(f=0;f<a.length;f++)a[f]=j(a[f],e,b);else if(c)for(h in f)if(h!==
k&&(!e||e.call(f,f[h],h,f)!==l))a[h]=j(f[h],e,b);return a}var l=false,k="__~ks_cloned";d.mix=function(d,e){for(var b in e)d[b]=e[b];return d};h("util/array");h("util/escape");h("util/function");h("util/object");h("util/string");h("util/type");h("util/web");d.mix(d,{clone:function(f,e){var b={},a=j(f,e,b);d.each(b,function(a){a=a.input;if(a[k])try{delete a[k]}catch(b){a[k]=void 0}});b=null;return a}});return d});
KISSY.add("ua",function(d){function h(a){var b=0;return parseFloat(a.replace(/\./g,function(){return 0===b++?".":""}))}function j(a,b){var c;b.trident=0.1;if((c=a.match(/Trident\/([\d.]*)/))&&c[1])b.trident=h(c[1]);b.core="trident"}function l(a){var b,c;return(b=a.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(c=b[1]||b[2])?h(c):0}function k(a){var c,d="",f="",g,k=[6,9],n,o=b&&b.createElement("div"),z=[],r={webkit:e,trident:e,gecko:e,presto:e,chrome:e,safari:e,firefox:e,ie:e,ieMode:e,opera:e,
mobile:e,core:e,shell:e,phantomjs:e,os:e,ipad:e,iphone:e,ipod:e,ios:e,android:e,nodejs:e};o&&o.getElementsByTagName&&(o.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",""),z=o.getElementsByTagName("s"));if(0<z.length){j(a,r);g=k[0];for(k=k[1];g<=k;g++)if(o.innerHTML="<\!--[if IE {{version}}]><s></s><![endif]--\>".replace("{{version}}",g),0<z.length){r[f="ie"]=g;break}if(!r.ie&&(n=l(a)))r[f="ie"]=n}else if(((g=a.match(/AppleWebKit\/([\d.]*)/))||(g=a.match(/Safari\/([\d.]*)/)))&&
g[1]){r[d="webkit"]=h(g[1]);(g=a.match(/OPR\/(\d+\.\d+)/))&&g[1]?r[f="opera"]=h(g[1]):(g=a.match(/Chrome\/([\d.]*)/))&&g[1]?r[f="chrome"]=h(g[1]):(g=a.match(/\/([\d.]*) Safari/))&&g[1]?r[f="safari"]=h(g[1]):r.safari=r.webkit;if(/ Mobile\//.test(a)&&a.match(/iPad|iPod|iPhone/)){r.mobile="apple";if((g=a.match(/OS ([^\s]*)/))&&g[1])r.ios=h(g[1].replace("_","."));c="ios";if((g=a.match(/iPad|iPod|iPhone/))&&g[0])r[g[0].toLowerCase()]=r.ios}else if(/ Android/i.test(a)){if(/Mobile/.test(a)&&(c=r.mobile=
"android"),(g=a.match(/Android ([^\s]*);/))&&g[1])r.android=h(g[1])}else if(g=a.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))r.mobile=g[0].toLowerCase();if((g=a.match(/PhantomJS\/([^\s]*)/))&&g[1])r.phantomjs=h(g[1])}else if((g=a.match(/Presto\/([\d.]*)/))&&g[1]){if(r[d="presto"]=h(g[1]),(g=a.match(/Opera\/([\d.]*)/))&&g[1]){r[f="opera"]=h(g[1]);if((g=a.match(/Opera\/.* Version\/([\d.]*)/))&&g[1])r[f]=h(g[1]);if((g=a.match(/Opera Mini[^;]*/))&&g)r.mobile=g[0].toLowerCase();else if((g=a.match(/Opera Mobi[^;]*/))&&
g)r.mobile=g[0]}}else if(n=l(a))r[f="ie"]=n,j(a,r);else if(g=a.match(/Gecko/)){r[d="gecko"]=0.1;if((g=a.match(/rv:([\d.]*)/))&&g[1])r[d]=h(g[1]),/Mobile|Tablet/.test(a)&&(r.mobile="firefox");if((g=a.match(/Firefox\/([\d.]*)/))&&g[1])r[f="firefox"]=h(g[1])}c||(/windows|win32/i.test(a)?c="windows":/macintosh|mac_powerpc/i.test(a)?c="macintosh":/linux/i.test(a)?c="linux":/rhino/i.test(a)&&(c="rhino"));r.os=c;r.core=r.core||d;r.shell=f;r.ieMode=r.ie&&b.documentMode||r.ie;return r}var f=d.Env.host,e,b=
f.document,f=f.navigator,d=d.UA=k(f&&f.userAgent||"");if("object"===typeof process){var a,g;if((a=process.versions)&&(g=a.node))d.os=process.platform,d.nodejs=h(g)}d.getDescriptorFromUserAgent=k;a="webkit,trident,gecko,presto,chrome,safari,firefox,ie,opera".split(",");g=b&&b.documentElement;f="";if(g){for(var c=0;c<a.length;c++){var o=a[c],n=d[o];n&&(f+=" ks-"+o+(parseInt(n,10)+""),f+=" ks-"+o)}f&&(g.className=(g.className+f).replace(/^[\s\xa0]+|[\s\xa0]+$/g,""))}return d});
KISSY.add("feature",["util","ua"],function(d,h){function j(a){-1!==a.indexOf("-")&&(a=d.camelCase(a));if(a in m)return m[a];if(!i||a in i)m[a]={propertyName:a,propertyNamePrefix:""};else{for(var c=a.charAt(0).toUpperCase()+a.slice(1),f,g=0;g<b;g++){var h=e[g];f=h+c;f in i&&(m[a]={propertyName:f,propertyNamePrefix:h})}m[a]=m[a]||null}return m[a]}h("util");var l=d.Env.host,k=d.Config,f=h("ua"),e=["Webkit","Moz","O","ms"],b=e.length,a=l.document||{},g,c,o,n=a&&a.documentElement,i,p=!0,s=!1,q="ontouchstart"in
a&&!f.phantomjs,m={},t=f.ieMode;n&&(n.querySelector&&8!==t&&(s=!0),i=n.style,p="classList"in n,f=l.navigator||{},g="msPointerEnabled"in f,c="pointerEnabled"in f);d.Feature={isMsPointerSupported:function(){return g},isPointerSupported:function(){return c},isTouchEventSupported:function(){return q},isTouchGestureSupported:function(){return q||c||g},isDeviceMotionSupported:function(){return!!l.DeviceMotionEvent},isHashChangeSupported:function(){return"onhashchange"in l&&(!t||t>7)},isInputEventSupported:function(){return!k.simulateInputEvent&&
"oninput"in l&&(!t||t>9)},isTransform3dSupported:function(){if(o!==void 0)return o;if(!n||!j("transform"))o=false;else{var b=a.createElement("p"),c=j("transform").name;n.insertBefore(b,n.firstChild);b.style[c]="translate3d(1px,1px,1px)";var d=l.getComputedStyle(b),c=d.getPropertyValue(c)||d[c];n.removeChild(b);o=c!==void 0&&c.length>0&&c!=="none"}return o},isClassListSupported:function(){return p},isQuerySelectorSupported:function(){return!k.simulateCss3Selector&&s},getCssVendorInfo:function(a){return j(a)}};
return d.Feature});KISSY.use("ua, util");
(function(d){var h=d.UA,j=d.Env.host,l=(h.nodejs&&"object"===typeof global?global:j).JSON;9>h.ieMode&&(l=null);if(l)d.add("json",function(){return d.JSON=l}),d.parseJson=function(a){return l.parse(a)};else{var k=/^[\],:{}\s]*$/,f=/(?:^|:|,)(?:\s*\[)+/g,e=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,b=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g;d.parseJson=function(a){return null===a?a:"string"===typeof a&&(a=d.trim(a))&&k.test(a.replace(e,"@").replace(b,"]").replace(f,""))?(new Function("return "+
a))():d.error("Invalid Json: "+a)}}})(KISSY);KISSY.config({modules:{ajax:{alias:"io"}}});KISSY.config({packages:{gallery:{base:"https"===location.protocol?"https://s.tbcdn.cn/s/kissy/gallery":"http://a.tbcdn.cn/s/kissy/gallery"}}});KISSY.use("feature");
(function(d){function h(a,b){var c;"string"===typeof a?(c={},c[a]=b):c=a;d.config("alias",c)}d.config("requires",{"anim/base":["dom","promise"],"anim/timer":["anim/base"],"anim/transition":["anim/base"],attribute:["event/custom"],base:["attribute"],button:["component/control"],color:["attribute"],combobox:["menu","io"],"combobox/multi-word":["combobox"],"component/container":["component/control"],"component/control":"node,event/gesture/base,event/gesture/tap,component/manager,base,xtemplate/runtime".split(","),
"component/extension/align":["node","ua"],"component/extension/content-box":["component/extension/content-xtpl"],"component/extension/delegate-children":["component/manager","event/gesture/base","event/gesture/tap"],"component/extension/shim":["ua"],"component/plugin/drag":["dd"],"component/plugin/resize":["resizable"],"date/format":["date/gregorian"],"date/gregorian":["i18n!date"],"date/picker":["i18n!date/picker","component/control","date/format","date/picker-xtpl"],"date/popup-picker":["date/picker",
"component/extension/shim","component/extension/align"],dd:["node","base","event/gesture/base","event/gesture/drag"],"dd/plugin/constrain":["node","base"],"dd/plugin/proxy":["dd"],"dd/plugin/scroll":["dd"],"dom/base":["ua"],"dom/class-list":["dom/base"],"dom/ie":["dom/base"],"dom/selector":["dom/basic"],editor:["html-parser","component/control"],"event/base":["util"],"event/custom":["event/base"],"event/dom/base":["event/base","dom","ua"],"event/dom/focusin":["event/dom/base"],"event/dom/hashchange":["event/dom/base"],
"event/dom/ie":["event/dom/base"],"event/dom/input":["event/dom/base"],"event/gesture/base":["event/gesture/util"],"event/gesture/drag":["event/gesture/util"],"event/gesture/edge-drag":["event/gesture/util"],"event/gesture/pinch":["event/gesture/util"],"event/gesture/rotate":["event/gesture/util"],"event/gesture/shake":["event/dom/base"],"event/gesture/swipe":["event/gesture/util"],"event/gesture/tap":["event/gesture/util"],"event/gesture/util":["event/dom/base"],feature:["util","ua"],"filter-menu":["menu"],
io:"dom,event/custom,promise,uri,ua,event/dom".split(","),menu:["component/container","component/extension/delegate-children","component/extension/content-box","component/extension/align","component/extension/shim"],menubutton:["button","menu"],"navigation-view":["component/container","component/extension/content-box"],"navigation-view/bar":["button"],node:["dom","event/dom","anim"],overlay:["component/container","component/extension/shim","component/extension/align","component/extension/content-box"],
path:["util"],resizable:["dd"],"resizable/plugin/proxy":["node","base"],router:["event/dom","uri","event/custom"],"scroll-view/base":["anim/timer","component/container","component/extension/content-box"],"scroll-view/plugin/pull-to-refresh":["base"],"scroll-view/plugin/scrollbar":["component/control","event/gesture/drag"],"scroll-view/touch":["scroll-view/base","event/gesture/drag"],separator:["component/control"],"split-button":["menubutton"],stylesheet:["dom"],swf:["dom","json","attribute"],tabs:["toolbar",
"button"],toolbar:["component/container","component/extension/delegate-children"],tree:["component/container","component/extension/content-box","component/extension/delegate-children"],uri:["path"],xtemplate:["xtemplate/compiler"],"xtemplate/compiler":["xtemplate/runtime"],"xtemplate/runtime":["util"]});var j=d.Feature,l=d.UA,k=window,f=j.isTouchGestureSupported(),e=d.add,b={};h("anim",j.getCssVendorInfo("transition")?"anim/transition":"anim/timer");h({"dom/basic":["dom/base",9>l.ieMode?"dom/ie":
"",j.isClassListSupported()?"":"dom/class-list"],dom:["dom/basic",j.isQuerySelectorSupported()?"":"dom/selector"]});h("event/dom",["event/dom/base",j.isHashChangeSupported()?"":"event/dom/hashchange",9>l.ieMode?"event/dom/ie":"",j.isInputEventSupported()?"":"event/dom/input",l.ie?"":"event/dom/focusin"]);f||e("event/gesture/edge-drag",b);f||e("event/gesture/pinch",b);f||e("event/gesture/rotate",b);k.DeviceMotionEvent||e("event/gesture/shake",b);f||e("event/gesture/swipe",b);h("scroll-view",j.isTouchGestureSupported()?
"scroll-view/touch":"scroll-view/base")})(KISSY);
