/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 13 18:03
*/
KISSY.add("util/array",[],function(b,g){var i=Array.prototype,h=i.indexOf,d=i.lastIndexOf,a=i.filter,j=i.every,f=i.some,k=i.map;b.mix(b,{indexOf:h?function(e,a,c){return c===g?h.call(a,e):h.call(a,e,c)}:function(e,a,c){for(var c=c||0,b=a.length;c<b;++c)if(a[c]===e)return c;return-1},lastIndexOf:d?function(e,a,c){return c===g?d.call(a,e):d.call(a,e,c)}:function(e,a,c){for(c===g&&(c=a.length-1);0<=c&&a[c]!==e;c--);return c},unique:function(e,a){var c=e.slice();a&&c.reverse();for(var f=0,s,d;f<c.length;){for(d=
c[f];(s=b.lastIndexOf(d,c))!==f;)c.splice(s,1);f+=1}a&&c.reverse();return c},inArray:function(e,a){return-1<b.indexOf(e,a)},filter:a?function(e,b,c){return a.call(e,b,c||this)}:function(e,a,c){var f=[];b.each(e,function(e,b,d){a.call(c||this,e,b,d)&&f.push(e)});return f},map:k?function(e,a,c){return k.call(e,a,c||this)}:function(e,a,c){for(var b=e.length,f=Array(b),d=0;d<b;d++){var h="string"===typeof e?e.charAt(d):e[d];if(h||d in e)f[d]=a.call(c||this,h,d,e)}return f},reduce:function(e,a,c){var b=
e.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===b&&2===arguments.length)throw new TypeError("arguments invalid");var f=0,d;if(3<=arguments.length)d=c;else{do{if(f in e){d=e[f++];break}f+=1;if(f>=b)throw new TypeError;}while(1)}for(;f<b;)f in e&&(d=a.call(g,d,e[f],f,e)),f++;return d},every:j?function(e,a,c){return j.call(e,a,c||this)}:function(e,a,c){for(var b=e&&e.length||0,f=0;f<b;f++)if(f in e&&!a.call(c,e[f],f,e))return!1;return!0},some:f?function(e,a,
c){return f.call(e,a,c||this)}:function(e,a,c){for(var b=e&&e.length||0,f=0;f<b;f++)if(f in e&&a.call(c,e[f],f,e))return!0;return!1},makeArray:function(e){if(null==e)return[];if(b.isArray(e))return e;var a=typeof e.length,c=typeof e;if("number"!==a||"string"===typeof e.nodeName||null!=e&&e==e.window||"string"===c||"function"===c&&!("item"in e&&"number"===a))return[e];for(var a=[],c=0,f=e.length;c<f;c++)a[c]=e[c];return a}})});
KISSY.add("util/escape",[],function(b){var g={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},i={},h,d,a=/[&<>"'`]/,j=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in g)i[g[a]]=a})();h=function(){var a="";b.each(g,function(b){a+=b+"|"});a=a.slice(0,-1);return h=RegExp(a,"g")}();d=function(){var a="";b.each(i,function(b){a+=b+"|"});a+="&#(\\d{1,5});";return d=RegExp(a,"g")}();b.mix(b,{escapeHtml:function(b){if(!b&&0!==b)return"";b=""+b;return!a.test(b)?
b:(b+"").replace(h,function(a){return i[a]})},escapeRegExp:function(a){return a.replace(j,"\\$&")},unEscapeHtml:function(a){return a.replace(d,function(a,e){return g[a]||String.fromCharCode(+e)})}});b.escapeHTML=b.escapeHtml;b.unEscapeHTML=b.unEscapeHtml});
KISSY.add("util/function",[],function(b){function g(b,h,d){function a(){}var j=[].slice,f=j.call(arguments,3),g=function(){var e=j.call(arguments);return h.apply(this instanceof a?this:d||this,b?e.concat(f):f.concat(e))};a.prototype=h.prototype;g.prototype=new a;return g}b.mix(b,{noop:function(){},bind:g(0,g,null,0),rbind:g(0,g,null,1),later:function(i,h,d,a,j){var h=h||0,f=i,g=b.makeArray(j),e;"string"===typeof i&&(f=a[i]);i=function(){f.apply(a,g)};e=d?setInterval(i,h):setTimeout(i,h);return{id:e,
interval:d,cancel:function(){this.interval?clearInterval(e):clearTimeout(e)}}},throttle:function(g,h,d){h=h||150;if(-1===h)return function(){g.apply(d||this,arguments)};var a=b.now();return function(){var j=b.now();j-a>h&&(a=j,g.apply(d||this,arguments))}},buffer:function(g,h,d){function a(){a.stop();j=b.later(g,h,0,d||this,arguments)}h=h||150;if(-1===h)return function(){g.apply(d||this,arguments)};var j=null;a.stop=function(){j&&(j.cancel(),j=0)};return a}})});
KISSY.add("util/object",[],function(b,g){function i(){}function h(e,d,c,j,i,k){if(!d||!e)return e;var p,l,n,v;d[a]=e;k.push(d);n=b.keys(d);v=n.length;for(p=0;p<v;p++)if(l=n[p],l!==a){var o=e,q=d,w=c,x=j,y=i,A=k;if(w||!(l in o)||y){var t=o[l],m=q[l];if(t===m)t===g&&(o[l]=t);else if(x&&(m=x.call(q,l,m)),y&&m&&(b.isArray(m)||b.isPlainObject(m)))m[a]?o[l]=m[a]:(q=t&&(b.isArray(t)||b.isPlainObject(t))?t:b.isArray(m)?[]:{},o[l]=q,h(q,m,w,x,f,A));else if(m!==g&&(w||!(l in o)))o[l]=m}}return e}function d(a,
b){return"constructor"===a?g:b}var a="__MIX_CIRCULAR",j=b.Env.host,f=!0,k=Object.create;(function(a,b){for(var c in b)a[c]=b[c]})(b,{stamp:function(a,d,c){var c=c||"__~ks_stamped",f=a[c];if(!f&&!d)try{f=a[c]=b.guid(c)}catch(h){f=g}return f},mix:function(e,d,c,j,i){"object"===typeof c&&(j=c.whitelist,i=c.deep,c=c.overwrite);if(j&&"function"!==typeof j)var k=j,j=function(a,e){return b.inArray(a,k)?e:g};c===g&&(c=f);var p=[],l=0;for(h(e,d,c,j,i,p);d=p[l++];)delete d[a];return e},merge:function(a){var a=
b.makeArray(arguments),d={},c,f=a.length;for(c=0;c<f;c++)b.mix(d,a[c]);return d},augment:function(a,f){var c=b.makeArray(arguments),j=c.length-2,h=1,i,k,l=c[j],n=c[j+1];c[1]=f;b.isArray(n)||(l=n,n=g,j++);"boolean"!==typeof l&&(l=g,j++);for(;h<j;h++){k=c[h];if(i=k.prototype)k=b.mix({},i,!0,d);b.mix(a.prototype,k,l,n)}return a},extend:function(a,d,c,f){var j=d.prototype;j.constructor=d;k?d=k(j):(i.prototype=j,d=new i);d.constructor=a;a.prototype=b.mix(d,a.prototype);a.superclass=j;c&&b.mix(d,c);f&&
b.mix(a,f);return a},namespace:function(){var a=b.makeArray(arguments),d=a.length,c=null,h,g,i,k=a[d-1]===f&&d--;for(h=0;h<d;h++){i=(""+a[h]).split(".");c=k?j:this;for(g=j[i[0]]===c?1:0;g<i.length;++g)c=c[i[g]]=c[i[g]]||{}}return c}})});
KISSY.add("util/string",[],function(b,g){var i=/\\?\{([^{}]+)\}/g;b.mix(b,{substitute:function(b,d,a){return"string"!==typeof b||!d?b:b.replace(a||i,function(a,b){return"\\"===a.charAt(0)?a.slice(1):d[b]===g?"":d[b]})},ucfirst:function(b){b+="";return b.charAt(0).toUpperCase()+b.substring(1)}})});
KISSY.add("util/type",[],function(b,g){var i={},h=Object.prototype,d=h.toString;b.mix(b,{type:function(a){return null==a?""+a:i[d.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==b.type(a)||a.nodeType||a.window==a)return!1;var d,f;try{if((f=a.constructor)&&!h.hasOwnProperty.call(a,"constructor")&&!h.hasOwnProperty.call(f.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(d in a);return d===g||h.hasOwnProperty.call(a,d)}});b.each(["Object","Date","RegExp","Array"],function(a,
d){i["[object "+a+"]"]=d=a.toLowerCase();b["is"+a]=function(a){return b.type(a)===d}});b.isArray=Array.isArray||b.isArray});
KISSY.add("util/web",[],function(b,g){function i(){if(!k){d&&d.setTimeout&&q(d,n,i);k=1;for(var a=0;a<e.length;a++)try{e[a](b)}catch(c){setTimeout(function(){throw c;},0)}}}function h(){if(!a||a.readyState===v)i();else if(o(d,n,i),s){var b=function(){q(a,p,b);i()};o(a,p,b)}else{var c=function(){a.readyState===v&&(q(a,l,c),i())};o(a,l,c);var e,f=j&&j.doScroll;try{e=null===d.frameElement}catch(g){e=!1}if(f&&e){var h=function(){try{f("left"),i()}catch(a){setTimeout(h,u)}};h()}}}var d=b.Env.host,a=d.document||
{},j=a.documentElement,f=d.location,k=0,e=[],u=40,c=/^#?([\w-]+)$/,r=/\S/,s=a.addEventListener,z=a.attachEvent||s,p="DOMContentLoaded",l="readystatechange",n="load",v="complete",o=s?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},q=s?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};b.mix(b,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{d.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=g}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&r.test(a)&&(d.execScript?d.execScript(a):d.eval.call(d,a))},ready:function(a){if(k)try{a(b)}catch(c){setTimeout(function(){throw c;},0)}else e.push(a);return this},available:function(e,d){var e=(e+"").match(c)[1],f=1,g=b.later(function(){if(500<++f)g.cancel();else{var b=a.getElementById(e);b&&(d(b),g.cancel())}},
u,!0)}});if(f&&-1!==(f.search||"").indexOf("ks-debug"))b.Config.debug=!0;z&&h();try{a.execCommand("BackgroundImageCache",!1,!0)}catch(w){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(b,g){function i(a,g,f){var k=a,e,u,c,r;if(!a)return k;if(a[d])return f[a[d]].destination;if(typeof a==="object"){r=a.constructor;if(b.inArray(r,[Boolean,String,Number,Date,RegExp]))k=new r(a.valueOf());else if(e=b.isArray(a))k=g?b.filter(a,g):a.concat();else if(u=b.isPlainObject(a))k={};a[d]=r=b.guid("c");f[r]={destination:k,input:a}}if(e)for(a=0;a<k.length;a++)k[a]=i(k[a],g,f);else if(u)for(c in a)if(c!==
d&&(!g||g.call(a,a[c],c,a)!==h))k[c]=i(a[c],g,f);return k}var h=false,d="__~ks_cloned";g("util/array");g("util/escape");g("util/function");g("util/object");g("util/string");g("util/type");g("util/web");b.mix(b,{clone:function(a,g){var f={},h=i(a,g,f);b.each(f,function(a){a=a.input;if(a[d])try{delete a[d]}catch(b){a[d]=void 0}});f=null;return h}});return b});
