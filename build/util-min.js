/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Feb 28 13:22
*/
KISSY.add("util/array",[],function(c,h){var g=Array.prototype,f=g.indexOf,i=g.lastIndexOf,a=g.filter,j=g.every,k=g.some,d=g.map;c.mix(c,{indexOf:f?function(b,l,e){return e===h?f.call(l,b):f.call(l,b,e)}:function(b,l,e){for(var e=e||0,d=l.length;e<d;++e)if(l[e]===b)return e;return-1},lastIndexOf:i?function(b,l,e){return e===h?i.call(l,b):i.call(l,b,e)}:function(b,l,e){for(e===h&&(e=l.length-1);0<=e&&l[e]!==b;e--);return e},unique:function(b,l){var e=b.slice();l&&e.reverse();for(var d=0,m,a;d<e.length;){for(a=
e[d];(m=c.lastIndexOf(a,e))!==d;)e.splice(m,1);d+=1}l&&e.reverse();return e},inArray:function(b,l){return-1<c.indexOf(b,l)},filter:a?function(b,l,e){return a.call(b,l,e||this)}:function(b,l,e){var d=[];c.each(b,function(b,c,a){l.call(e||this,b,c,a)&&d.push(b)});return d},map:d?function(b,l,e){return d.call(b,l,e||this)}:function(b,l,e){for(var d=b.length,c=Array(d),a=0;a<d;a++){var k="string"===typeof b?b.charAt(a):b[a];if(k||a in b)c[a]=l.call(e||this,k,a,b)}return c},reduce:function(b,l,e){var d=
b.length;if("function"!==typeof l)throw new TypeError("callback is not function!");if(0===d&&2===arguments.length)throw new TypeError("arguments invalid");var c=0,a;if(3<=arguments.length)a=e;else{do{if(c in b){a=b[c++];break}c+=1;if(c>=d)throw new TypeError;}while(1)}for(;c<d;)c in b&&(a=l.call(h,a,b[c],c,b)),c++;return a},every:j?function(b,d,e){return j.call(b,d,e||this)}:function(b,d,e){for(var c=b&&b.length||0,a=0;a<c;a++)if(a in b&&!d.call(e,b[a],a,b))return!1;return!0},some:k?function(b,d,
e){return k.call(b,d,e||this)}:function(b,d,e){for(var c=b&&b.length||0,a=0;a<c;a++)if(a in b&&d.call(e,b[a],a,b))return!0;return!1},makeArray:function(b){if(null==b)return[];if(c.isArray(b))return b;var d=typeof b.length,e=typeof b;if("number"!==d||"string"===typeof b.nodeName||null!=b&&b==b.window||"string"===e||"function"===e&&!("item"in b&&"number"===d))return[b];for(var d=[],e=0,a=b.length;e<a;e++)d[e]=b[e];return d}})});
KISSY.add("util/escape",[],function(c){var h={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},g={},f,i,a=/[&<>"'`]/,j=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var c in h)g[h[c]]=c})();f=function(){var a="";c.each(h,function(d){a+=d+"|"});a=a.slice(0,-1);return f=RegExp(a,"g")}();i=function(){var a="";c.each(g,function(d){a+=d+"|"});a+="&#(\\d{1,5});";return i=RegExp(a,"g")}();c.mix(c,{fromUnicode:function(a){return a.replace(/\\u([a-f\d]{4})/ig,function(a,
b){return String.fromCharCode(parseInt(b,16))})},escapeHtml:function(c){if(!c&&0!==c)return"";c=""+c;return!a.test(c)?c:(c+"").replace(f,function(a){return g[a]})},escapeRegExp:function(a){return a.replace(j,"\\$&")},unEscapeHtml:function(a){return a.replace(i,function(a,b){return h[a]||String.fromCharCode(+b)})}});c.escapeHTML=c.escapeHtml;c.unEscapeHTML=c.unEscapeHtml});
KISSY.add("util/function",[],function(c){function h(c,f,i){function a(){}var j=[].slice,h=j.call(arguments,3),d=function(){var b=j.call(arguments);return f.apply(this instanceof a?this:i||this,c?b.concat(h):h.concat(b))};a.prototype=f.prototype;d.prototype=new a;return d}c.mix(c,{noop:function(){},bind:h(0,h,null,0),rbind:h(0,h,null,1),later:function(g,f,i,a,h){var f=f||0,k=g,d=c.makeArray(h),b;"string"===typeof g&&(k=a[g]);g=function(){k.apply(a,d)};b=i?setInterval(g,f):setTimeout(g,f);return{id:b,
interval:i,cancel:function(){this.interval?clearInterval(b):clearTimeout(b)}}},throttle:function(h,f,i){f=f||150;if(-1===f)return function(){h.apply(i||this,arguments)};var a=c.now();return function(){var j=c.now();j-a>f&&(a=j,h.apply(i||this,arguments))}},buffer:function(h,f,i){function a(){a.stop();j=c.later(h,f,0,i||this,arguments)}f=f||150;if(-1===f)return function(){h.apply(i||this,arguments)};var j=null;a.stop=function(){j&&(j.cancel(),j=0)};return a}})});
KISSY.add("util/object",[],function(c,h){function g(){}function f(b,d,e,w,m,i){if(!d||!b)return b;var j,g,o,t;d[a]=b;i.push(d);o=c.keys(d);t=o.length;for(j=0;j<t;j++)if(g=o[j],g!==a){var p=b,q=d,v=e,x=w,y=m,A=i;if(v||!(g in p)||y){var s=p[g],n=q[g];if(s===n)s===h&&(p[g]=s);else if(x&&(n=x.call(q,g,n)),y&&n&&(c.isArray(n)||c.isPlainObject(n)))n[a]?p[g]=n[a]:(q=s&&(c.isArray(s)||c.isPlainObject(s))?s:c.isArray(n)?[]:{},p[g]=q,f(q,n,v,x,k,A));else if(n!==h&&(v||!(g in p)))p[g]=n}}return b}function i(b,
a){return"constructor"===b?h:a}var a="__MIX_CIRCULAR",j=c.Env.host,k=!0,d=Object.create;(function(b,a){for(var e in a)b[e]=a[e]})(c,{stamp:function(b,a,e){var e=e||"__~ks_stamped",d=b[e];if(!d&&!a)try{d=b[e]=c.guid(e)}catch(m){d=h}return d},mix:function(b,d,e,g,m){"object"===typeof e&&(g=e.whitelist,m=e.deep,e=e.overwrite);if(g&&"function"!==typeof g)var i=g,g=function(b,a){return c.inArray(b,i)?a:h};e===h&&(e=k);var j=[],u=0;for(f(b,d,e,g,m,j);d=j[u++];)delete d[a];return b},merge:function(b){var b=
c.makeArray(arguments),a={},d,g=b.length;for(d=0;d<g;d++)c.mix(a,b[d]);return a},augment:function(b,a){var d=c.makeArray(arguments),g=d.length-2,m=1,j,f,k=d[g],o=d[g+1];d[1]=a;c.isArray(o)||(k=o,o=h,g++);"boolean"!==typeof k&&(k=h,g++);for(;m<g;m++){f=d[m];if(j=f.prototype)f=c.mix({},j,!0,i);c.mix(b.prototype,f,k,o)}return b},extend:function(b,a,e,f){var m=a.prototype;m.constructor=a;d?a=d(m):(g.prototype=m,a=new g);a.constructor=b;b.prototype=c.mix(a,b.prototype);b.superclass=m;e&&c.mix(a,e);f&&
c.mix(b,f);return b},namespace:function(){var b=c.makeArray(arguments),a=b.length,d=null,g,f,h,i=b[a-1]===k&&a--;for(g=0;g<a;g++){h=(""+b[g]).split(".");d=i?j:this;for(f=j[h[0]]===d?1:0;f<h.length;++f)d=d[h[f]]=d[h[f]]||{}}return d}})});
KISSY.add("util/string",[],function(c,h){var g=/\\?\{([^{}]+)\}/g;c.mix(c,{substitute:function(c,i,a){return"string"!==typeof c||!i?c:c.replace(a||g,function(a,c){return"\\"===a.charAt(0)?a.slice(1):i[c]===h?"":i[c]})},ucfirst:function(c){c+="";return c.charAt(0).toUpperCase()+c.substring(1)}})});
KISSY.add("util/type",[],function(c,h){var g={},f=Object.prototype,i=f.toString;c.mix(c,{type:function(a){return null==a?""+a:g[i.call(a)]||"object"},isNull:function(a){return null===a},isUndefined:function(a){return a===h},isPlainObject:function(a){if(!a||"object"!==c.type(a)||a.nodeType||a.window==a)return!1;var g,i;try{if((i=a.constructor)&&!f.hasOwnProperty.call(a,"constructor")&&!f.hasOwnProperty.call(i.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(g in a);return g===h||f.hasOwnProperty.call(a,
g)}});c.each("Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),function(a,h){g["[object "+a+"]"]=h=a.toLowerCase();c["is"+a]=function(a){return c.type(a)===h}});c.isArray=Array.isArray||c.isArray});
KISSY.add("util/web",[],function(c,h){function g(){if(!d){i&&i.setTimeout&&q(i,o,g);d=1;for(var a=0;a<b.length;a++)try{b[a](c)}catch(e){setTimeout(function(){throw e;},0)}}}function f(){if(!a||a.readyState===t)g();else if(p(i,o,g),m){var b=function(){q(a,r,b);g()};p(a,r,b)}else{var d=function(){a.readyState===t&&(q(a,u,d),g())};p(a,u,d);var c,e=j&&j.doScroll;try{c=null===i.frameElement}catch(h){c=!1}if(e&&c){var f=function(){try{e("left"),g()}catch(b){setTimeout(f,l)}};f()}}}var i=c.Env.host,a=i.document||
{},j=a.documentElement,k=i.location,d=0,b=[],l=40,e=/^#?([\w-]+)$/,w=/\S/,m=a.addEventListener,z=a.attachEvent||m,r="DOMContentLoaded",u="readystatechange",o="load",t="complete",p=m?function(b,a,d){b.addEventListener(a,d,!1)}:function(b,a,d){b.attachEvent("on"+a,d)},q=m?function(b,a,d){b.removeEventListener(a,d,!1)}:function(b,a,d){b.detachEvent("on"+a,d)};c.mix(c,{isWindow:function(b){return null!=b&&b==b.window},parseXML:function(b){if(b.documentElement)return b;var a;try{i.DOMParser?a=(new DOMParser).parseFromString(b,
"text/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async=!1,a.loadXML(b))}catch(d){a=h}!a||!a.documentElement||a.getElementsByTagName("parsererror");return a},globalEval:function(b){b&&w.test(b)&&(i.execScript?i.execScript(b):i.eval.call(i,b))},ready:function(a){if(d)try{a(c)}catch(e){setTimeout(function(){throw e;},0)}else b.push(a);return this},available:function(b,d){var b=(b+"").match(e)[1],g=1,h=c.later(function(){if(500<++g)h.cancel();else{var c=a.getElementById(b);c&&(d(c),h.cancel())}},
l,!0)}});if(k&&-1!==(k.search||"").indexOf("ks-debug"))c.Config.debug=!0;z&&f();try{a.execCommand("BackgroundImageCache",!1,!0)}catch(v){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(c,h){function g(d,b,h){var e=d,f,i,k,r;if(!d)return e;if(d[j])return h[d[j]].destination;if(typeof d==="object"){r=d.constructor;if(c.inArray(r,[Boolean,String,Number,Date,RegExp]))e=new r(d.valueOf());else if(f=c.isArray(d))e=b?c.filter(d,b):d.concat();else if(i=c.isPlainObject(d))e={};d[j]=r=c.guid("c");h[r]={destination:e,input:d}}if(f)for(d=0;d<e.length;d++)e[d]=g(e[d],b,h);else if(i)for(k in d)if(k!==
j&&(!b||b.call(d,d[k],k,d)!==a))e[k]=g(d[k],b,h);return e}function f(a,b,g,e){if(a[k]===b&&b[k]===a)return i;a[k]=b;b[k]=a;var h=function(a,b){return a!==null&&a!==void 0&&a[b]!==void 0},f;for(f in b)!h(a,f)&&h(b,f)&&g.push("expected has key "+f+'", but missing from actual.');for(f in a)!h(b,f)&&h(a,f)&&g.push('expected missing key "'+f+'", but present in actual.');for(f in b)f!==k&&(c.equals(a[f],b[f],g,e)||e.push('"'+f+'" was "'+(b[f]?b[f].toString():b[f])+'" in expected, but was "'+(a[f]?a[f].toString():
a[f])+'" in actual.'));c.isArray(a)&&c.isArray(b)&&a.length!==b.length&&e.push("arrays were not the same length");delete a[k];delete b[k];return g.length===0&&e.length===0}var i=true,a=false,j="__~ks_cloned",k="__~ks_compared";h("util/array");h("util/escape");h("util/function");h("util/object");h("util/string");h("util/type");h("util/web");c.mix(c,{equals:function(a,b,c,e){c=c||[];e=e||[];return a===b?i:a===void 0||a===null||b===void 0||b===null?a==null&&b==null:a instanceof Date&&b instanceof Date?
a.getTime()===b.getTime():typeof a==="string"&&typeof b==="string"||typeof a==="number"&&typeof b==="number"?a===b:typeof a==="object"&&typeof b==="object"?f(a,b,c,e):a===b},clone:function(a,b){var f={},e=g(a,b,f);c.each(f,function(a){a=a.input;if(a[j])try{delete a[j]}catch(b){a[j]=void 0}});f=null;return e}});return c});
