/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Feb 13 19:32
*/
KISSY.add("util/array",[],function(c,k){var f=Array.prototype,g=f.indexOf,h=f.lastIndexOf,e=f.filter,j=f.every,l=f.some,b=f.map;c.mix(c,{indexOf:g?function(a,i){return g.call(i,a)}:function(a,i){for(var d=0,c=i.length;d<c;++d)if(i[d]===a)return d;return-1},lastIndexOf:h?function(a,i){return h.call(i,a)}:function(a,i){for(var d=i.length-1;0<=d&&i[d]!==a;d--);return d},unique:function(a,i){var d=a.slice();i&&d.reverse();for(var b=0,m,e;b<d.length;){for(e=d[b];(m=c.lastIndexOf(e,d))!==b;)d.splice(m,
1);b+=1}i&&d.reverse();return d},inArray:function(a,i){return-1<c.indexOf(a,i)},filter:e?function(a,i,d){return e.call(a,i,d||this)}:function(a,i,d){var b=[];c.each(a,function(a,c,e){i.call(d||this,a,c,e)&&b.push(a)});return b},map:b?function(a,i,d){return b.call(a,i,d||this)}:function(a,i,d){for(var c=a.length,b=Array(c),e=0;e<c;e++){var g="string"===typeof a?a.charAt(e):a[e];if(g||e in a)b[e]=i.call(d||this,g,e,a)}return b},reduce:function(a,i,d){var c=a.length;if("function"!==typeof i)throw new TypeError("callback is not function!");
if(0===c&&2===arguments.length)throw new TypeError("arguments invalid");var b=0,e;if(3<=arguments.length)e=d;else{do{if(b in a){e=a[b++];break}b+=1;if(b>=c)throw new TypeError;}while(1)}for(;b<c;)b in a&&(e=i.call(k,e,a[b],b,a)),b++;return e},every:j?function(a,i,d){return j.call(a,i,d||this)}:function(a,i,d){for(var b=a&&a.length||0,c=0;c<b;c++)if(c in a&&!i.call(d,a[c],c,a))return!1;return!0},some:l?function(a,i,d){return l.call(a,i,d||this)}:function(a,i,d){for(var b=a&&a.length||0,c=0;c<b;c++)if(c in
a&&i.call(d,a[c],c,a))return!0;return!1},makeArray:function(a){if(null==a)return[];if(c.isArray(a))return a;var i=typeof a.length,d=typeof a;if("number"!==i||"string"===typeof a.nodeName||null!=a&&a==a.window||"string"===d||"function"===d&&!("item"in a&&"number"===i))return[a];for(var i=[],d=0,b=a.length;d<b;d++)i[d]=a[d];return i}})});
KISSY.add("util/escape",[],function(c){function k(){if(j)return j;var a=g;c.each(h,function(i){a+=i+"|"});a=a.slice(0,-1);return j=RegExp(a,"g")}function f(){if(l)return l;var a=g;c.each(e,function(i){a+=i+"|"});a+="&#(\\d{1,5});";return l=RegExp(a,"g")}var g="",h={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},e={},j,l,b=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in h)e[h[a]]=a})();c.mix(c,{fromUnicode:function(a){return a.replace(/\\u([a-f\d]{4})/ig,
function(a,d){return String.fromCharCode(parseInt(d,16))})},escapeHtml:function(a){return(a+"").replace(k(),function(a){return e[a]})},escapeRegExp:function(a){return a.replace(b,"\\$&")},unEscapeHtml:function(a){return a.replace(f(),function(a,d){return h[a]||String.fromCharCode(+d)})}});c.escapeHTML=c.escapeHtml;c.unEscapeHTML=c.unEscapeHtml});
KISSY.add("util/function",[],function(c){function k(c,g,h){function e(){}var j=[].slice,l=j.call(arguments,3),b=function(){var a=j.call(arguments);return g.apply(this instanceof e?this:h||this,c?a.concat(l):l.concat(a))};e.prototype=g.prototype;b.prototype=new e;return b}c.mix(c,{noop:function(){},bind:k(0,k,null,0),rbind:k(0,k,null,1),later:function(f,g,h,e,j){var g=g||0,l=f,b=c.makeArray(j),a;"string"===typeof f&&(l=e[f]);f=function(){l.apply(e,b)};a=h?setInterval(f,g):setTimeout(f,g);return{id:a,
interval:h,cancel:function(){this.interval?clearInterval(a):clearTimeout(a)}}},throttle:function(f,g,h){g=g||150;if(-1===g)return function(){f.apply(h||this,arguments)};var e=c.now();return function(){var j=c.now();j-e>g&&(e=j,f.apply(h||this,arguments))}},buffer:function(f,g,h){function e(){e.stop();j=c.later(f,g,0,h||this,arguments)}g=g||150;if(-1===g)return function(){f.apply(h||this,arguments)};var j=null;e.stop=function(){j&&(j.cancel(),j=0)};return e}})});
KISSY.add("util/object",[],function(c,k){function f(){}function g(a,b,d,v,m,j){if(!b||!a)return a;var h,f,o,s;b[e]=a;j.push(b);o=c.keys(b);s=o.length;for(h=0;h<s;h++)if(f=o[h],f!==e){var p=a,q=b,u=d,w=v,y=m,A=j;if(u||!(f in p)||y){var r=p[f],n=q[f];if(r===n)r===k&&(p[f]=r);else if(w&&(n=w.call(q,f,n)),y&&n&&(c.isArray(n)||c.isPlainObject(n)))n[e]?p[f]=n[e]:(q=r&&(c.isArray(r)||c.isPlainObject(r))?r:c.isArray(n)?[]:{},p[f]=q,g(q,n,u,w,l,A));else if(n!==k&&(u||!(f in p)))p[f]=n}}return a}function h(a,
b){return"constructor"===a?k:b}var e="__MIX_CIRCULAR",j=c.Env.host,l=!0,b=Object.create;(function(a,b){for(var d in b)a[d]=b[d]})(c,{stamp:function(a,b,d){var d=d||"__~ks_stamped",e=a[d];if(!e&&!b)try{e=a[d]=c.guid(d)}catch(f){e=k}return e},mix:function(a,b,d,f,m){"object"===typeof d&&(f=d.whitelist,m=d.deep,d=d.overwrite);if(f&&"function"!==typeof f)var h=f,f=function(a,b){return c.inArray(a,h)?b:k};d===k&&(d=l);var j=[],t=0;for(g(a,b,d,f,m,j);b=j[t++];)delete b[e];return a},merge:function(a){var a=
c.makeArray(arguments),b={},d,e=a.length;for(d=0;d<e;d++)c.mix(b,a[d]);return b},augment:function(a,b){var d=c.makeArray(arguments),e=d.length-2,f=1,j,g,l=d[e],o=d[e+1];d[1]=b;c.isArray(o)||(l=o,o=k,e++);"boolean"!==typeof l&&(l=k,e++);for(;f<e;f++){g=d[f];if(j=g.prototype)g=c.mix({},j,!0,h);c.mix(a.prototype,g,l,o)}return a},extend:function(a,e,d,g){var j=e.prototype;j.constructor=e;b?e=b(j):(f.prototype=j,e=new f);e.constructor=a;a.prototype=c.mix(e,a.prototype);a.superclass=j;d&&c.mix(e,d);g&&
c.mix(a,g);return a},namespace:function(){var a=c.makeArray(arguments),b=a.length,d=null,e,f,g,h=a[b-1]===l&&b--;for(e=0;e<b;e++){g=(""+a[e]).split(".");d=h?j:this;for(f=j[g[0]]===d?1:0;f<g.length;++f)d=d[g[f]]=d[g[f]]||{}}return d}})});
KISSY.add("util/string",[],function(c,k){var f=/\\?\{([^{}]+)\}/g;c.mix(c,{substitute:function(c,h,e){return"string"!==typeof c||!h?c:c.replace(e||f,function(e,c){return"\\"===e.charAt(0)?e.slice(1):h[c]===k?"":h[c]})},ucfirst:function(c){c+="";return c.charAt(0).toUpperCase()+c.substring(1)}})});
KISSY.add("util/type",[],function(c,k){var f={},g=Object.prototype,h=g.toString;c.mix(c,{type:function(c){return null==c?""+c:f[h.call(c)]||"object"},isNull:function(c){return null===c},isUndefined:function(c){return c===k},isPlainObject:function(e){if(!e||"object"!==c.type(e)||e.nodeType||e.window==e)return!1;var f,h;try{if((h=e.constructor)&&!g.hasOwnProperty.call(e,"constructor")&&!g.hasOwnProperty.call(h.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(f in e);return f===k||g.hasOwnProperty.call(e,
f)}});c.each("Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),function(e,h){f["[object "+e+"]"]=h=e.toLowerCase();c["is"+e]=function(e){return c.type(e)===h}});c.isArray=Array.isArray||c.isArray});
KISSY.add("util/web",[],function(c,k){function f(){if(!b){h&&h.setTimeout&&q(h,o,f);b=1;for(var d=0;d<a.length;d++)try{a[d](c)}catch(e){setTimeout(function(){throw e;},0)}}}function g(){if(!e||e.readyState===s)f();else if(p(h,o,f),m){var a=function(){q(e,x,a);f()};p(e,x,a)}else{var b=function(){e.readyState===s&&(q(e,t,b),f())};p(e,t,b);var c,d=j&&j.doScroll;try{c=null===h.frameElement}catch(g){c=!1}if(d&&c){var k=function(){try{d("left"),f()}catch(a){setTimeout(k,i)}};k()}}}var h=c.Env.host,e=h.document||
{},j=e.documentElement,l=h.location,b=0,a=[],i=40,d=/^#?([\w-]+)$/,v=/\S/,m=e.addEventListener,z=e.attachEvent||m,x="DOMContentLoaded",t="readystatechange",o="load",s="complete",p=m?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},q=m?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};c.mix(c,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{h.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=k}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&v.test(a)&&(h.execScript?h.execScript(a):h.eval.call(h,a))},ready:function(d){if(b)try{d(c)}catch(e){setTimeout(function(){throw e;},0)}else a.push(d);return this},available:function(a,b){var a=(a+"").match(d)[1],f=1,h=c.later(function(){if(500<++f)h.cancel();else{var c=e.getElementById(a);c&&(b(c),h.cancel())}},
i,!0)}});if(l&&-1!==(l.search||"").indexOf("ks-debug"))c.Config.debug=!0;z&&g();try{e.execCommand("BackgroundImageCache",!1,!0)}catch(u){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(c,k){function f(b,a,i){var d=b,h,g,k,l;if(!b)return d;if(b[j])return i[b[j]].destination;if(typeof b==="object"){l=b.constructor;if(c.inArray(l,[Boolean,String,Number,Date,RegExp]))d=new l(b.valueOf());else if(h=c.isArray(b))d=a?c.filter(b,a):b.concat();else if(g=c.isPlainObject(b))d={};b[j]=l=c.guid("c");i[l]={destination:d,input:b}}if(h)for(b=0;b<d.length;b++)d[b]=f(d[b],a,i);else if(g)for(k in b)if(k!==
j&&(!a||a.call(b,b[k],k,b)!==e))d[k]=f(b[k],a,i);return d}function g(b,a,e,d){if(b[l]===a&&a[l]===b)return h;b[l]=a;a[l]=b;var f=function(a,b){return a!==null&&a!==void 0&&a[b]!==void 0},g;for(g in a)!f(b,g)&&f(a,g)&&e.push("expected has key "+g+'", but missing from actual.');for(g in b)!f(a,g)&&f(b,g)&&e.push('expected missing key "'+g+'", but present in actual.');for(g in a)g!==l&&(c.equals(b[g],a[g],e,d)||d.push('"'+g+'" was "'+(a[g]?a[g].toString():a[g])+'" in expected, but was "'+(b[g]?b[g].toString():
b[g])+'" in actual.'));c.isArray(b)&&c.isArray(a)&&b.length!==a.length&&d.push("arrays were not the same length");delete b[l];delete a[l];return e.length===0&&d.length===0}var h=true,e=false,j="__~ks_cloned",l="__~ks_compared";k("util/array");k("util/escape");k("util/function");k("util/object");k("util/string");k("util/type");k("util/web");c.mix(c,{equals:function(b,a,c,d){c=c||[];d=d||[];return b===a?h:b===void 0||b===null||a===void 0||a===null?b==null&&a==null:b instanceof Date&&a instanceof Date?
b.getTime()===a.getTime():typeof b==="string"&&typeof a==="string"||typeof b==="number"&&typeof a==="number"?b===a:typeof b==="object"&&typeof a==="object"?g(b,a,c,d):b===a},clone:function(b,a){var e={},d=f(b,a,e);c.each(e,function(a){a=a.input;if(a[j])try{delete a[j]}catch(b){a[j]=void 0}});e=null;return d}});return c});
