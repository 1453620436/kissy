/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Mar 12 18:56
*/
KISSY.add("util/array",[],function(b,g){var i=Array.prototype,h=i.indexOf,e=i.lastIndexOf,a=i.filter,j=i.every,f=i.some,k=i.map;b.mix(b,{indexOf:h?function(d,a,c){return c===g?h.call(a,d):h.call(a,d,c)}:function(d,a,c){for(var c=c||0,b=a.length;c<b;++c)if(a[c]===d)return c;return-1},lastIndexOf:e?function(d,a,c){return c===g?e.call(a,d):e.call(a,d,c)}:function(d,a,c){for(c===g&&(c=a.length-1);0<=c&&a[c]!==d;c--);return c},unique:function(d,a){var c=d.slice();a&&c.reverse();for(var f=0,s,e;f<c.length;){for(e=
c[f];(s=b.lastIndexOf(e,c))!==f;)c.splice(s,1);f+=1}a&&c.reverse();return c},inArray:function(d,a){return-1<b.indexOf(d,a)},filter:a?function(d,b,c){return a.call(d,b,c||this)}:function(d,a,c){var f=[];b.each(d,function(d,b,e){a.call(c||this,d,b,e)&&f.push(d)});return f},map:k?function(d,a,c){return k.call(d,a,c||this)}:function(d,a,c){for(var b=d.length,f=Array(b),e=0;e<b;e++){var h="string"===typeof d?d.charAt(e):d[e];if(h||e in d)f[e]=a.call(c||this,h,e,d)}return f},reduce:function(d,a,c){var b=
d.length;if("function"!==typeof a)throw new TypeError("callback is not function!");if(0===b&&2===arguments.length)throw new TypeError("arguments invalid");var f=0,e;if(3<=arguments.length)e=c;else{do{if(f in d){e=d[f++];break}f+=1;if(f>=b)throw new TypeError;}while(1)}for(;f<b;)f in d&&(e=a.call(g,e,d[f],f,d)),f++;return e},every:j?function(d,a,c){return j.call(d,a,c||this)}:function(d,a,c){for(var b=d&&d.length||0,f=0;f<b;f++)if(f in d&&!a.call(c,d[f],f,d))return!1;return!0},some:f?function(d,a,
c){return f.call(d,a,c||this)}:function(d,a,c){for(var f=d&&d.length||0,b=0;b<f;b++)if(b in d&&a.call(c,d[b],b,d))return!0;return!1},makeArray:function(d){if(null==d)return[];if(b.isArray(d))return d;var a=typeof d.length,c=typeof d;if("number"!==a||"string"===typeof d.nodeName||null!=d&&d==d.window||"string"===c||"function"===c&&!("item"in d&&"number"===a))return[d];for(var a=[],c=0,f=d.length;c<f;c++)a[c]=d[c];return a}})});
KISSY.add("util/escape",[],function(b){var g={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},i={},h,e,a=/[&<>"'`]/,j=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in g)i[g[a]]=a})();h=function(){var a="";b.each(g,function(b){a+=b+"|"});a=a.slice(0,-1);return h=RegExp(a,"g")}();e=function(){var a="";b.each(i,function(b){a+=b+"|"});a+="&#(\\d{1,5});";return e=RegExp(a,"g")}();b.mix(b,{fromUnicode:function(a){return a.replace(/\\u([a-f\d]{4})/ig,function(a,
d){return String.fromCharCode(parseInt(d,16))})},escapeHtml:function(b){if(!b&&0!==b)return"";b=""+b;return!a.test(b)?b:(b+"").replace(h,function(a){return i[a]})},escapeRegExp:function(a){return a.replace(j,"\\$&")},unEscapeHtml:function(a){return a.replace(e,function(a,d){return g[a]||String.fromCharCode(+d)})}});b.escapeHTML=b.escapeHtml;b.unEscapeHTML=b.unEscapeHtml});
KISSY.add("util/function",[],function(b){function g(b,h,e){function a(){}var j=[].slice,f=j.call(arguments,3),g=function(){var d=j.call(arguments);return h.apply(this instanceof a?this:e||this,b?d.concat(f):f.concat(d))};a.prototype=h.prototype;g.prototype=new a;return g}b.mix(b,{noop:function(){},bind:g(0,g,null,0),rbind:g(0,g,null,1),later:function(i,h,e,a,j){var h=h||0,f=i,g=b.makeArray(j),d;"string"===typeof i&&(f=a[i]);i=function(){f.apply(a,g)};d=e?setInterval(i,h):setTimeout(i,h);return{id:d,
interval:e,cancel:function(){this.interval?clearInterval(d):clearTimeout(d)}}},throttle:function(g,h,e){h=h||150;if(-1===h)return function(){g.apply(e||this,arguments)};var a=b.now();return function(){var j=b.now();j-a>h&&(a=j,g.apply(e||this,arguments))}},buffer:function(g,h,e){function a(){a.stop();j=b.later(g,h,0,e||this,arguments)}h=h||150;if(-1===h)return function(){g.apply(e||this,arguments)};var j=null;a.stop=function(){j&&(j.cancel(),j=0)};return a}})});
KISSY.add("util/object",[],function(b,g){function i(){}function h(d,e,c,j,i,k){if(!e||!d)return d;var p,l,n,v;e[a]=d;k.push(e);n=b.keys(e);v=n.length;for(p=0;p<v;p++)if(l=n[p],l!==a){var o=d,q=e,w=c,x=j,y=i,A=k;if(w||!(l in o)||y){var t=o[l],m=q[l];if(t===m)t===g&&(o[l]=t);else if(x&&(m=x.call(q,l,m)),y&&m&&(b.isArray(m)||b.isPlainObject(m)))m[a]?o[l]=m[a]:(q=t&&(b.isArray(t)||b.isPlainObject(t))?t:b.isArray(m)?[]:{},o[l]=q,h(q,m,w,x,f,A));else if(m!==g&&(w||!(l in o)))o[l]=m}}return d}function e(a,
b){return"constructor"===a?g:b}var a="__MIX_CIRCULAR",j=b.Env.host,f=!0,k=Object.create;(function(a,b){for(var c in b)a[c]=b[c]})(b,{stamp:function(a,e,c){var c=c||"__~ks_stamped",f=a[c];if(!f&&!e)try{f=a[c]=b.guid(c)}catch(h){f=g}return f},mix:function(d,e,c,j,i){"object"===typeof c&&(j=c.whitelist,i=c.deep,c=c.overwrite);if(j&&"function"!==typeof j)var k=j,j=function(a,d){return b.inArray(a,k)?d:g};c===g&&(c=f);var p=[],l=0;for(h(d,e,c,j,i,p);e=p[l++];)delete e[a];return d},merge:function(a){var a=
b.makeArray(arguments),e={},c,f=a.length;for(c=0;c<f;c++)b.mix(e,a[c]);return e},augment:function(a,f){var c=b.makeArray(arguments),j=c.length-2,h=1,i,k,l=c[j],n=c[j+1];c[1]=f;b.isArray(n)||(l=n,n=g,j++);"boolean"!==typeof l&&(l=g,j++);for(;h<j;h++){k=c[h];if(i=k.prototype)k=b.mix({},i,!0,e);b.mix(a.prototype,k,l,n)}return a},extend:function(a,e,c,f){var j=e.prototype;j.constructor=e;k?e=k(j):(i.prototype=j,e=new i);e.constructor=a;a.prototype=b.mix(e,a.prototype);a.superclass=j;c&&b.mix(e,c);f&&
b.mix(a,f);return a},namespace:function(){var a=b.makeArray(arguments),e=a.length,c=null,h,g,i,k=a[e-1]===f&&e--;for(h=0;h<e;h++){i=(""+a[h]).split(".");c=k?j:this;for(g=j[i[0]]===c?1:0;g<i.length;++g)c=c[i[g]]=c[i[g]]||{}}return c}})});
KISSY.add("util/string",[],function(b,g){var i=/\\?\{([^{}]+)\}/g;b.mix(b,{substitute:function(b,e,a){return"string"!==typeof b||!e?b:b.replace(a||i,function(a,b){return"\\"===a.charAt(0)?a.slice(1):e[b]===g?"":e[b]})},ucfirst:function(b){b+="";return b.charAt(0).toUpperCase()+b.substring(1)}})});
KISSY.add("util/type",[],function(b,g){var i={},h=Object.prototype,e=h.toString;b.mix(b,{type:function(a){return null==a?""+a:i[e.call(a)]||"object"},isNull:function(a){return null===a},isUndefined:function(a){return a===g},isPlainObject:function(a){if(!a||"object"!==b.type(a)||a.nodeType||a.window==a)return!1;var e,f;try{if((f=a.constructor)&&!h.hasOwnProperty.call(a,"constructor")&&!h.hasOwnProperty.call(f.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(e in a);return e===g||h.hasOwnProperty.call(a,
e)}});b.each("Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),function(a,e){i["[object "+a+"]"]=e=a.toLowerCase();b["is"+a]=function(a){return b.type(a)===e}});b.isArray=Array.isArray||b.isArray});
KISSY.add("util/web",[],function(b,g){function i(){if(!k){e&&e.setTimeout&&q(e,n,i);k=1;for(var a=0;a<d.length;a++)try{d[a](b)}catch(c){setTimeout(function(){throw c;},0)}}}function h(){if(!a||a.readyState===v)i();else if(o(e,n,i),s){var b=function(){q(a,p,b);i()};o(a,p,b)}else{var c=function(){a.readyState===v&&(q(a,l,c),i())};o(a,l,c);var d,f=j&&j.doScroll;try{d=null===e.frameElement}catch(g){d=!1}if(f&&d){var h=function(){try{f("left"),i()}catch(a){setTimeout(h,u)}};h()}}}var e=b.Env.host,a=e.document||
{},j=a.documentElement,f=e.location,k=0,d=[],u=40,c=/^#?([\w-]+)$/,r=/\S/,s=a.addEventListener,z=a.attachEvent||s,p="DOMContentLoaded",l="readystatechange",n="load",v="complete",o=s?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},q=s?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};b.mix(b,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{e.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=g}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&r.test(a)&&(e.execScript?e.execScript(a):e.eval.call(e,a))},ready:function(a){if(k)try{a(b)}catch(c){setTimeout(function(){throw c;},0)}else d.push(a);return this},available:function(d,e){var d=(d+"").match(c)[1],f=1,g=b.later(function(){if(500<++f)g.cancel();else{var b=a.getElementById(d);b&&(e(b),g.cancel())}},
u,!0)}});if(f&&-1!==(f.search||"").indexOf("ks-debug"))b.Config.debug=!0;z&&h();try{a.execCommand("BackgroundImageCache",!1,!0)}catch(w){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(b,g){function i(a,g,f){var k=a,d,u,c,r;if(!a)return k;if(a[e])return f[a[e]].destination;if(typeof a==="object"){r=a.constructor;if(b.inArray(r,[Boolean,String,Number,Date,RegExp]))k=new r(a.valueOf());else if(d=b.isArray(a))k=g?b.filter(a,g):a.concat();else if(u=b.isPlainObject(a))k={};a[e]=r=b.guid("c");f[r]={destination:k,input:a}}if(d)for(a=0;a<k.length;a++)k[a]=i(k[a],g,f);else if(u)for(c in a)if(c!==
e&&(!g||g.call(a,a[c],c,a)!==h))k[c]=i(a[c],g,f);return k}var h=false,e="__~ks_cloned";g("util/array");g("util/escape");g("util/function");g("util/object");g("util/string");g("util/type");g("util/web");b.mix(b,{clone:function(a,g){var f={},h=i(a,g,f);b.each(f,function(a){a=a.input;if(a[e])try{delete a[e]}catch(b){a[e]=void 0}});f=null;return h}});return b});
