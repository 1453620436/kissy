/*
Copyright 2014, KISSY v1.50
MIT Licensed
build time: Feb 19 16:24
*/
KISSY.add("util/array",[],function(d,i){var g=Array.prototype,h=g.indexOf,j=g.lastIndexOf,e=g.filter,f=g.every,l=g.some,c=g.map;d.mix(d,{indexOf:h?function(a,k,b){return b===i?h.call(k,a):h.call(k,a,b)}:function(a,k,b){for(var b=b||0,d=k.length;b<d;++b)if(k[b]===a)return b;return-1},lastIndexOf:j?function(a,k,b){return b===i?j.call(k,a):j.call(k,a,b)}:function(a,k,b){for(b===i&&(b=k.length-1);0<=b&&k[b]!==a;b--);return b},unique:function(a,k){var b=a.slice();k&&b.reverse();for(var c=0,m,e;c<b.length;){for(e=
b[c];(m=d.lastIndexOf(e,b))!==c;)b.splice(m,1);c+=1}k&&b.reverse();return b},inArray:function(a,k){return-1<d.indexOf(a,k)},filter:e?function(a,k,b){return e.call(a,k,b||this)}:function(a,k,b){var c=[];d.each(a,function(a,d,e){k.call(b||this,a,d,e)&&c.push(a)});return c},map:c?function(a,k,b){return c.call(a,k,b||this)}:function(a,k,b){for(var d=a.length,c=Array(d),e=0;e<d;e++){var h="string"===typeof a?a.charAt(e):a[e];if(h||e in a)c[e]=k.call(b||this,h,e,a)}return c},reduce:function(a,k,b){var d=
a.length;if("function"!==typeof k)throw new TypeError("callback is not function!");if(0===d&&2===arguments.length)throw new TypeError("arguments invalid");var c=0,e;if(3<=arguments.length)e=b;else{do{if(c in a){e=a[c++];break}c+=1;if(c>=d)throw new TypeError;}while(1)}for(;c<d;)c in a&&(e=k.call(i,e,a[c],c,a)),c++;return e},every:f?function(a,k,b){return f.call(a,k,b||this)}:function(a,k,b){for(var c=a&&a.length||0,d=0;d<c;d++)if(d in a&&!k.call(b,a[d],d,a))return!1;return!0},some:l?function(a,k,
b){return l.call(a,k,b||this)}:function(a,k,b){for(var c=a&&a.length||0,d=0;d<c;d++)if(d in a&&k.call(b,a[d],d,a))return!0;return!1},makeArray:function(a){if(null==a)return[];if(d.isArray(a))return a;var k=typeof a.length,b=typeof a;if("number"!==k||"string"===typeof a.nodeName||null!=a&&a==a.window||"string"===b||"function"===b&&!("item"in a&&"number"===k))return[a];for(var k=[],b=0,c=a.length;b<c;b++)k[b]=a[b];return k}})});
KISSY.add("util/escape",[],function(d){function i(){if(f)return f;var a=h;d.each(j,function(k){a+=k+"|"});a=a.slice(0,-1);return f=RegExp(a,"g")}function g(){if(l)return l;var a=h;d.each(e,function(k){a+=k+"|"});a+="&#(\\d{1,5});";return l=RegExp(a,"g")}var h="",j={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},e={},f,l,c=/[\-#$\^*()+\[\]{}|\\,.?\s]/g;(function(){for(var a in j)e[j[a]]=a})();d.mix(d,{fromUnicode:function(a){return a.replace(/\\u([a-f\d]{4})/ig,
function(a,b){return String.fromCharCode(parseInt(b,16))})},escapeHtml:function(a){return(a+"").replace(i(),function(a){return e[a]})},escapeRegExp:function(a){return a.replace(c,"\\$&")},unEscapeHtml:function(a){return a.replace(g(),function(a,b){return j[a]||String.fromCharCode(+b)})}});d.escapeHTML=d.escapeHtml;d.unEscapeHTML=d.unEscapeHtml});
KISSY.add("util/function",[],function(d){function i(d,h,j){function e(){}var f=[].slice,i=f.call(arguments,3),c=function(){var a=f.call(arguments);return h.apply(this instanceof e?this:j||this,d?a.concat(i):i.concat(a))};e.prototype=h.prototype;c.prototype=new e;return c}d.mix(d,{noop:function(){},bind:i(0,i,null,0),rbind:i(0,i,null,1),later:function(g,h,j,e,f){var h=h||0,i=g,c=d.makeArray(f),a;"string"===typeof g&&(i=e[g]);g=function(){i.apply(e,c)};a=j?setInterval(g,h):setTimeout(g,h);return{id:a,
interval:j,cancel:function(){this.interval?clearInterval(a):clearTimeout(a)}}},throttle:function(i,h,j){h=h||150;if(-1===h)return function(){i.apply(j||this,arguments)};var e=d.now();return function(){var f=d.now();f-e>h&&(e=f,i.apply(j||this,arguments))}},buffer:function(i,h,j){function e(){e.stop();f=d.later(i,h,0,j||this,arguments)}h=h||150;if(-1===h)return function(){i.apply(j||this,arguments)};var f=null;e.stop=function(){f&&(f.cancel(),f=0)};return e}})});
KISSY.add("util/object",[],function(d,i){function g(){}function h(a,c,b,v,m,j){if(!c||!a)return a;var f,g,o,s;c[e]=a;j.push(c);o=d.keys(c);s=o.length;for(f=0;f<s;f++)if(g=o[f],g!==e){var p=a,q=c,u=b,w=v,y=m,A=j;if(u||!(g in p)||y){var r=p[g],n=q[g];if(r===n)r===i&&(p[g]=r);else if(w&&(n=w.call(q,g,n)),y&&n&&(d.isArray(n)||d.isPlainObject(n)))n[e]?p[g]=n[e]:(q=r&&(d.isArray(r)||d.isPlainObject(r))?r:d.isArray(n)?[]:{},p[g]=q,h(q,n,u,w,l,A));else if(n!==i&&(u||!(g in p)))p[g]=n}}return a}function j(a,
c){return"constructor"===a?i:c}var e="__MIX_CIRCULAR",f=d.Env.host,l=!0,c=Object.create;(function(a,c){for(var b in c)a[b]=c[b]})(d,{stamp:function(a,c,b){var b=b||"__~ks_stamped",e=a[b];if(!e&&!c)try{e=a[b]=d.guid(b)}catch(m){e=i}return e},mix:function(a,c,b,f,m){"object"===typeof b&&(f=b.whitelist,m=b.deep,b=b.overwrite);if(f&&"function"!==typeof f)var g=f,f=function(a,b){return d.inArray(a,g)?b:i};b===i&&(b=l);var j=[],t=0;for(h(a,c,b,f,m,j);c=j[t++];)delete c[e];return a},merge:function(a){var a=
d.makeArray(arguments),c={},b,e=a.length;for(b=0;b<e;b++)d.mix(c,a[b]);return c},augment:function(a,c){var b=d.makeArray(arguments),e=b.length-2,f=1,g,h,l=b[e],o=b[e+1];b[1]=c;d.isArray(o)||(l=o,o=i,e++);"boolean"!==typeof l&&(l=i,e++);for(;f<e;f++){h=b[f];if(g=h.prototype)h=d.mix({},g,!0,j);d.mix(a.prototype,h,l,o)}return a},extend:function(a,e,b,f){var h=e.prototype;h.constructor=e;c?e=c(h):(g.prototype=h,e=new g);e.constructor=a;a.prototype=d.mix(e,a.prototype);a.superclass=h;b&&d.mix(e,b);f&&
d.mix(a,f);return a},namespace:function(){var a=d.makeArray(arguments),c=a.length,b=null,e,h,g,j=a[c-1]===l&&c--;for(e=0;e<c;e++){g=(""+a[e]).split(".");b=j?f:this;for(h=f[g[0]]===b?1:0;h<g.length;++h)b=b[g[h]]=b[g[h]]||{}}return b}})});
KISSY.add("util/string",[],function(d,i){var g=/\\?\{([^{}]+)\}/g;d.mix(d,{substitute:function(d,j,e){return"string"!==typeof d||!j?d:d.replace(e||g,function(e,d){return"\\"===e.charAt(0)?e.slice(1):j[d]===i?"":j[d]})},ucfirst:function(d){d+="";return d.charAt(0).toUpperCase()+d.substring(1)}})});
KISSY.add("util/type",[],function(d,i){var g={},h=Object.prototype,j=h.toString;d.mix(d,{type:function(d){return null==d?""+d:g[j.call(d)]||"object"},isNull:function(d){return null===d},isUndefined:function(d){return d===i},isPlainObject:function(e){if(!e||"object"!==d.type(e)||e.nodeType||e.window==e)return!1;var f,g;try{if((g=e.constructor)&&!h.hasOwnProperty.call(e,"constructor")&&!h.hasOwnProperty.call(g.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(f in e);return f===i||h.hasOwnProperty.call(e,
f)}});d.each("Boolean,Number,String,Function,Date,RegExp,Object,Array".split(","),function(e,f){g["[object "+e+"]"]=f=e.toLowerCase();d["is"+e]=function(e){return d.type(e)===f}});d.isArray=Array.isArray||d.isArray});
KISSY.add("util/web",[],function(d,i){function g(){if(!c){j&&j.setTimeout&&q(j,o,g);c=1;for(var b=0;b<a.length;b++)try{a[b](d)}catch(e){setTimeout(function(){throw e;},0)}}}function h(){if(!e||e.readyState===s)g();else if(p(j,o,g),m){var a=function(){q(e,x,a);g()};p(e,x,a)}else{var b=function(){e.readyState===s&&(q(e,t,b),g())};p(e,t,b);var c,d=f&&f.doScroll;try{c=null===j.frameElement}catch(h){c=!1}if(d&&c){var i=function(){try{d("left"),g()}catch(a){setTimeout(i,k)}};i()}}}var j=d.Env.host,e=j.document||
{},f=e.documentElement,l=j.location,c=0,a=[],k=40,b=/^#?([\w-]+)$/,v=/\S/,m=e.addEventListener,z=e.attachEvent||m,x="DOMContentLoaded",t="readystatechange",o="load",s="complete",p=m?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},q=m?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)};d.mix(d,{isWindow:function(a){return null!=a&&a==a.window},parseXML:function(a){if(a.documentElement)return a;var b;try{j.DOMParser?b=(new DOMParser).parseFromString(a,
"text/xml"):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a))}catch(c){b=i}!b||!b.documentElement||b.getElementsByTagName("parsererror");return b},globalEval:function(a){a&&v.test(a)&&(j.execScript?j.execScript(a):j.eval.call(j,a))},ready:function(b){if(c)try{b(d)}catch(e){setTimeout(function(){throw e;},0)}else a.push(b);return this},available:function(a,c){var a=(a+"").match(b)[1],g=1,f=d.later(function(){if(500<++g)f.cancel();else{var b=e.getElementById(a);b&&(c(b),f.cancel())}},
k,!0)}});if(l&&-1!==(l.search||"").indexOf("ks-debug"))d.Config.debug=!0;z&&h();try{e.execCommand("BackgroundImageCache",!1,!0)}catch(u){}});
KISSY.add("util","util/array,util/escape,util/function,util/object,util/string,util/type,util/web".split(","),function(d,i){function g(c,a,k){var b=c,h,j,i,l;if(!c)return b;if(c[f])return k[c[f]].destination;if(typeof c==="object"){l=c.constructor;if(d.inArray(l,[Boolean,String,Number,Date,RegExp]))b=new l(c.valueOf());else if(h=d.isArray(c))b=a?d.filter(c,a):c.concat();else if(j=d.isPlainObject(c))b={};c[f]=l=d.guid("c");k[l]={destination:b,input:c}}if(h)for(c=0;c<b.length;c++)b[c]=g(b[c],a,k);else if(j)for(i in c)if(i!==
f&&(!a||a.call(c,c[i],i,c)!==e))b[i]=g(c[i],a,k);return b}function h(c,a,e,b){if(c[l]===a&&a[l]===c)return j;c[l]=a;a[l]=c;var g=function(a,b){return a!==null&&a!==void 0&&a[b]!==void 0},f;for(f in a)!g(c,f)&&g(a,f)&&e.push("expected has key "+f+'", but missing from actual.');for(f in c)!g(a,f)&&g(c,f)&&e.push('expected missing key "'+f+'", but present in actual.');for(f in a)f!==l&&(d.equals(c[f],a[f],e,b)||b.push('"'+f+'" was "'+(a[f]?a[f].toString():a[f])+'" in expected, but was "'+(c[f]?c[f].toString():
c[f])+'" in actual.'));d.isArray(c)&&d.isArray(a)&&c.length!==a.length&&b.push("arrays were not the same length");delete c[l];delete a[l];return e.length===0&&b.length===0}var j=true,e=false,f="__~ks_cloned",l="__~ks_compared";i("util/array");i("util/escape");i("util/function");i("util/object");i("util/string");i("util/type");i("util/web");d.mix(d,{equals:function(c,a,d,b){d=d||[];b=b||[];return c===a?j:c===void 0||c===null||a===void 0||a===null?c==null&&a==null:c instanceof Date&&a instanceof Date?
c.getTime()===a.getTime():typeof c==="string"&&typeof a==="string"||typeof c==="number"&&typeof a==="number"?c===a:typeof c==="object"&&typeof a==="object"?h(c,a,d,b):c===a},clone:function(c,a){var e={},b=g(c,a,e);d.each(e,function(a){a=a.input;if(a[f])try{delete a[f]}catch(b){a[f]=void 0}});e=null;return b}});return d});
